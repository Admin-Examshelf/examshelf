var vT=Object.defineProperty;var nS=a=>{throw TypeError(a)};var bT=(a,e,t)=>e in a?vT(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var ct=(a,e,t)=>bT(a,typeof e!="symbol"?e+"":e,t),sw=(a,e,t)=>e.has(a)||nS("Cannot "+t);var c=(a,e,t)=>(sw(a,e,"read from private field"),t?t.call(a):e.get(a)),R=(a,e,t)=>e.has(a)?nS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(a):e.set(a,t),A=(a,e,t,n)=>(sw(a,e,"write to private field"),n?n.call(a,t):e.set(a,t),t),k=(a,e,t)=>(sw(a,e,"access private method"),t);var ri=(a,e,t,n)=>({set _(s){A(a,e,s,t)},get _(){return c(a,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function wT(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var aw={exports:{}},zp={},ow={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iS;function _T(){if(iS)return xt;iS=1;var a=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function b(q){return q===null||typeof q!="object"?null:(q=v&&q[v]||q["@@iterator"],typeof q=="function"?q:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function N(q,re,Ee){this.props=q,this.context=re,this.refs=C,this.updater=Ee||_}N.prototype.isReactComponent={},N.prototype.setState=function(q,re){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,re,"setState")},N.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function T(){}T.prototype=N.prototype;function F(q,re,Ee){this.props=q,this.context=re,this.refs=C,this.updater=Ee||_}var j=F.prototype=new T;j.constructor=F,S(j,N.prototype),j.isPureReactComponent=!0;var O=Array.isArray,D=Object.prototype.hasOwnProperty,U={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function z(q,re,Ee){var Me,qe={},Pe=null,He=null;if(re!=null)for(Me in re.ref!==void 0&&(He=re.ref),re.key!==void 0&&(Pe=""+re.key),re)D.call(re,Me)&&!Q.hasOwnProperty(Me)&&(qe[Me]=re[Me]);var de=arguments.length-2;if(de===1)qe.children=Ee;else if(1<de){for(var Ge=Array(de),it=0;it<de;it++)Ge[it]=arguments[it+2];qe.children=Ge}if(q&&q.defaultProps)for(Me in de=q.defaultProps,de)qe[Me]===void 0&&(qe[Me]=de[Me]);return{$$typeof:a,type:q,key:Pe,ref:He,props:qe,_owner:U.current}}function K(q,re){return{$$typeof:a,type:q.type,key:re,ref:q.ref,props:q.props,_owner:q._owner}}function Y(q){return typeof q=="object"&&q!==null&&q.$$typeof===a}function te(q){var re={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Ee){return re[Ee]})}var le=/\/+/g;function we(q,re){return typeof q=="object"&&q!==null&&q.key!=null?te(""+q.key):re.toString(36)}function Te(q,re,Ee,Me,qe){var Pe=typeof q;(Pe==="undefined"||Pe==="boolean")&&(q=null);var He=!1;if(q===null)He=!0;else switch(Pe){case"string":case"number":He=!0;break;case"object":switch(q.$$typeof){case a:case e:He=!0}}if(He)return He=q,qe=qe(He),q=Me===""?"."+we(He,0):Me,O(qe)?(Ee="",q!=null&&(Ee=q.replace(le,"$&/")+"/"),Te(qe,re,Ee,"",function(it){return it})):qe!=null&&(Y(qe)&&(qe=K(qe,Ee+(!qe.key||He&&He.key===qe.key?"":(""+qe.key).replace(le,"$&/")+"/")+q)),re.push(qe)),1;if(He=0,Me=Me===""?".":Me+":",O(q))for(var de=0;de<q.length;de++){Pe=q[de];var Ge=Me+we(Pe,de);He+=Te(Pe,re,Ee,Ge,qe)}else if(Ge=b(q),typeof Ge=="function")for(q=Ge.call(q),de=0;!(Pe=q.next()).done;)Pe=Pe.value,Ge=Me+we(Pe,de++),He+=Te(Pe,re,Ee,Ge,qe);else if(Pe==="object")throw re=String(q),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return He}function Ae(q,re,Ee){if(q==null)return q;var Me=[],qe=0;return Te(q,Me,"","",function(Pe){return re.call(Ee,Pe,qe++)}),Me}function $e(q){if(q._status===-1){var re=q._result;re=re(),re.then(function(Ee){(q._status===0||q._status===-1)&&(q._status=1,q._result=Ee)},function(Ee){(q._status===0||q._status===-1)&&(q._status=2,q._result=Ee)}),q._status===-1&&(q._status=0,q._result=re)}if(q._status===1)return q._result.default;throw q._result}var fe={current:null},ae={transition:null},_e={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:ae,ReactCurrentOwner:U};function G(){throw Error("act(...) is not supported in production builds of React.")}return xt.Children={map:Ae,forEach:function(q,re,Ee){Ae(q,function(){re.apply(this,arguments)},Ee)},count:function(q){var re=0;return Ae(q,function(){re++}),re},toArray:function(q){return Ae(q,function(re){return re})||[]},only:function(q){if(!Y(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},xt.Component=N,xt.Fragment=t,xt.Profiler=s,xt.PureComponent=F,xt.StrictMode=n,xt.Suspense=d,xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,xt.act=G,xt.cloneElement=function(q,re,Ee){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var Me=S({},q.props),qe=q.key,Pe=q.ref,He=q._owner;if(re!=null){if(re.ref!==void 0&&(Pe=re.ref,He=U.current),re.key!==void 0&&(qe=""+re.key),q.type&&q.type.defaultProps)var de=q.type.defaultProps;for(Ge in re)D.call(re,Ge)&&!Q.hasOwnProperty(Ge)&&(Me[Ge]=re[Ge]===void 0&&de!==void 0?de[Ge]:re[Ge])}var Ge=arguments.length-2;if(Ge===1)Me.children=Ee;else if(1<Ge){de=Array(Ge);for(var it=0;it<Ge;it++)de[it]=arguments[it+2];Me.children=de}return{$$typeof:a,type:q.type,key:qe,ref:Pe,props:Me,_owner:He}},xt.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:o,_context:q},q.Consumer=q},xt.createElement=z,xt.createFactory=function(q){var re=z.bind(null,q);return re.type=q,re},xt.createRef=function(){return{current:null}},xt.forwardRef=function(q){return{$$typeof:h,render:q}},xt.isValidElement=Y,xt.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:$e}},xt.memo=function(q,re){return{$$typeof:f,type:q,compare:re===void 0?null:re}},xt.startTransition=function(q){var re=ae.transition;ae.transition={};try{q()}finally{ae.transition=re}},xt.unstable_act=G,xt.useCallback=function(q,re){return fe.current.useCallback(q,re)},xt.useContext=function(q){return fe.current.useContext(q)},xt.useDebugValue=function(){},xt.useDeferredValue=function(q){return fe.current.useDeferredValue(q)},xt.useEffect=function(q,re){return fe.current.useEffect(q,re)},xt.useId=function(){return fe.current.useId()},xt.useImperativeHandle=function(q,re,Ee){return fe.current.useImperativeHandle(q,re,Ee)},xt.useInsertionEffect=function(q,re){return fe.current.useInsertionEffect(q,re)},xt.useLayoutEffect=function(q,re){return fe.current.useLayoutEffect(q,re)},xt.useMemo=function(q,re){return fe.current.useMemo(q,re)},xt.useReducer=function(q,re,Ee){return fe.current.useReducer(q,re,Ee)},xt.useRef=function(q){return fe.current.useRef(q)},xt.useState=function(q){return fe.current.useState(q)},xt.useSyncExternalStore=function(q,re,Ee){return fe.current.useSyncExternalStore(q,re,Ee)},xt.useTransition=function(){return fe.current.useTransition()},xt.version="18.3.1",xt}var rS;function ux(){return rS||(rS=1,ow.exports=_T()),ow.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sS;function xT(){if(sS)return zp;sS=1;var a=ux(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(h,d,f){var g,v={},b=null,_=null;f!==void 0&&(b=""+f),d.key!==void 0&&(b=""+d.key),d.ref!==void 0&&(_=d.ref);for(g in d)n.call(d,g)&&!o.hasOwnProperty(g)&&(v[g]=d[g]);if(h&&h.defaultProps)for(g in d=h.defaultProps,d)v[g]===void 0&&(v[g]=d[g]);return{$$typeof:e,type:h,key:b,ref:_,props:v,_owner:s.current}}return zp.Fragment=t,zp.jsx=l,zp.jsxs=l,zp}var aS;function ET(){return aS||(aS=1,aw.exports=xT()),aw.exports}var x=ET(),I=ux(),ov={},lw={exports:{}},mr={},cw={exports:{}},uw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oS;function ST(){return oS||(oS=1,function(a){function e(ae,_e){var G=ae.length;ae.push(_e);e:for(;0<G;){var q=G-1>>>1,re=ae[q];if(0<s(re,_e))ae[q]=_e,ae[G]=re,G=q;else break e}}function t(ae){return ae.length===0?null:ae[0]}function n(ae){if(ae.length===0)return null;var _e=ae[0],G=ae.pop();if(G!==_e){ae[0]=G;e:for(var q=0,re=ae.length,Ee=re>>>1;q<Ee;){var Me=2*(q+1)-1,qe=ae[Me],Pe=Me+1,He=ae[Pe];if(0>s(qe,G))Pe<re&&0>s(He,qe)?(ae[q]=He,ae[Pe]=G,q=Pe):(ae[q]=qe,ae[Me]=G,q=Me);else if(Pe<re&&0>s(He,G))ae[q]=He,ae[Pe]=G,q=Pe;else break e}}return _e}function s(ae,_e){var G=ae.sortIndex-_e.sortIndex;return G!==0?G:ae.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var l=Date,h=l.now();a.unstable_now=function(){return l.now()-h}}var d=[],f=[],g=1,v=null,b=3,_=!1,S=!1,C=!1,N=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(ae){for(var _e=t(f);_e!==null;){if(_e.callback===null)n(f);else if(_e.startTime<=ae)n(f),_e.sortIndex=_e.expirationTime,e(d,_e);else break;_e=t(f)}}function O(ae){if(C=!1,j(ae),!S)if(t(d)!==null)S=!0,$e(D);else{var _e=t(f);_e!==null&&fe(O,_e.startTime-ae)}}function D(ae,_e){S=!1,C&&(C=!1,T(z),z=-1),_=!0;var G=b;try{for(j(_e),v=t(d);v!==null&&(!(v.expirationTime>_e)||ae&&!te());){var q=v.callback;if(typeof q=="function"){v.callback=null,b=v.priorityLevel;var re=q(v.expirationTime<=_e);_e=a.unstable_now(),typeof re=="function"?v.callback=re:v===t(d)&&n(d),j(_e)}else n(d);v=t(d)}if(v!==null)var Ee=!0;else{var Me=t(f);Me!==null&&fe(O,Me.startTime-_e),Ee=!1}return Ee}finally{v=null,b=G,_=!1}}var U=!1,Q=null,z=-1,K=5,Y=-1;function te(){return!(a.unstable_now()-Y<K)}function le(){if(Q!==null){var ae=a.unstable_now();Y=ae;var _e=!0;try{_e=Q(!0,ae)}finally{_e?we():(U=!1,Q=null)}}else U=!1}var we;if(typeof F=="function")we=function(){F(le)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Ae=Te.port2;Te.port1.onmessage=le,we=function(){Ae.postMessage(null)}}else we=function(){N(le,0)};function $e(ae){Q=ae,U||(U=!0,we())}function fe(ae,_e){z=N(function(){ae(a.unstable_now())},_e)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(ae){ae.callback=null},a.unstable_continueExecution=function(){S||_||(S=!0,$e(D))},a.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<ae?Math.floor(1e3/ae):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_getFirstCallbackNode=function(){return t(d)},a.unstable_next=function(ae){switch(b){case 1:case 2:case 3:var _e=3;break;default:_e=b}var G=b;b=_e;try{return ae()}finally{b=G}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(ae,_e){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var G=b;b=ae;try{return _e()}finally{b=G}},a.unstable_scheduleCallback=function(ae,_e,G){var q=a.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?q+G:q):G=q,ae){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=G+re,ae={id:g++,callback:_e,priorityLevel:ae,startTime:G,expirationTime:re,sortIndex:-1},G>q?(ae.sortIndex=G,e(f,ae),t(d)===null&&ae===t(f)&&(C?(T(z),z=-1):C=!0,fe(O,G-q))):(ae.sortIndex=re,e(d,ae),S||_||(S=!0,$e(D))),ae},a.unstable_shouldYield=te,a.unstable_wrapCallback=function(ae){var _e=b;return function(){var G=b;b=_e;try{return ae.apply(this,arguments)}finally{b=G}}}}(uw)),uw}var lS;function AT(){return lS||(lS=1,cw.exports=ST()),cw.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cS;function CT(){if(cS)return mr;cS=1;var a=ux(),e=AT();function t(i){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)r+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function o(i,r){l(i,r),l(i+"Capture",r)}function l(i,r){for(s[i]=r,i=0;i<r.length;i++)n.add(r[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function b(i){return d.call(v,i)?!0:d.call(g,i)?!1:f.test(i)?v[i]=!0:(g[i]=!0,!1)}function _(i,r,u,p){if(u!==null&&u.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,r,u,p){if(r===null||typeof r>"u"||_(i,r,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function C(i,r,u,p,y,w,L){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=i,this.type=r,this.sanitizeURL=w,this.removeEmptyString=L}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){N[i]=new C(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var r=i[0];N[r]=new C(r,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){N[i]=new C(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){N[i]=new C(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){N[i]=new C(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){N[i]=new C(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){N[i]=new C(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){N[i]=new C(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){N[i]=new C(i,5,!1,i.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function F(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var r=i.replace(T,F);N[r]=new C(r,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var r=i.replace(T,F);N[r]=new C(r,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var r=i.replace(T,F);N[r]=new C(r,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){N[i]=new C(i,1,!1,i.toLowerCase(),null,!1,!1)}),N.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){N[i]=new C(i,1,!1,i.toLowerCase(),null,!0,!0)});function j(i,r,u,p){var y=N.hasOwnProperty(r)?N[r]:null;(y!==null?y.type!==0:p||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(S(r,u,y,p)&&(u=null),p||y===null?b(r)&&(u===null?i.removeAttribute(r):i.setAttribute(r,""+u)):y.mustUseProperty?i[y.propertyName]=u===null?y.type===3?!1:"":u:(r=y.attributeName,p=y.attributeNamespace,u===null?i.removeAttribute(r):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,p?i.setAttributeNS(p,r,u):i.setAttribute(r,u))))}var O=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),U=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),te=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),$e=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),ae=Symbol.iterator;function _e(i){return i===null||typeof i!="object"?null:(i=ae&&i[ae]||i["@@iterator"],typeof i=="function"?i:null)}var G=Object.assign,q;function re(i){if(q===void 0)try{throw Error()}catch(u){var r=u.stack.trim().match(/\n( *(at )?)/);q=r&&r[1]||""}return`
`+q+i}var Ee=!1;function Me(i,r){if(!i||Ee)return"";Ee=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(ne){var p=ne}Reflect.construct(i,[],r)}else{try{r.call()}catch(ne){p=ne}i.call(r.prototype)}else{try{throw Error()}catch(ne){p=ne}i()}}catch(ne){if(ne&&p&&typeof ne.stack=="string"){for(var y=ne.stack.split(`
`),w=p.stack.split(`
`),L=y.length-1,H=w.length-1;1<=L&&0<=H&&y[L]!==w[H];)H--;for(;1<=L&&0<=H;L--,H--)if(y[L]!==w[H]){if(L!==1||H!==1)do if(L--,H--,0>H||y[L]!==w[H]){var B=`
`+y[L].replace(" at new "," at ");return i.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",i.displayName)),B}while(1<=L&&0<=H);break}}}finally{Ee=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?re(i):""}function qe(i){switch(i.tag){case 5:return re(i.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return i=Me(i.type,!1),i;case 11:return i=Me(i.type.render,!1),i;case 1:return i=Me(i.type,!0),i;default:return""}}function Pe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Q:return"Fragment";case U:return"Portal";case K:return"Profiler";case z:return"StrictMode";case we:return"Suspense";case Te:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case te:return(i.displayName||"Context")+".Consumer";case Y:return(i._context.displayName||"Context")+".Provider";case le:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ae:return r=i.displayName||null,r!==null?r:Pe(i.type)||"Memo";case $e:r=i._payload,i=i._init;try{return Pe(i(r))}catch{}}return null}function He(i){var r=i.type;switch(i.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=r.render,i=i.displayName||i.name||"",r.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(r);case 8:return r===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function de(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ge(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function it(i){var r=Ge(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),p=""+i[r];if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,w=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return y.call(this)},set:function(L){p=""+L,w.call(this,L)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(L){p=""+L},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function be(i){i._valueTracker||(i._valueTracker=it(i))}function me(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var u=r.getValue(),p="";return i&&(p=Ge(i)?i.checked?"true":"false":i.value),i=p,i!==u?(r.setValue(i),!0):!1}function ye(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ke(i,r){var u=r.checked;return G({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function nt(i,r){var u=r.defaultValue==null?"":r.defaultValue,p=r.checked!=null?r.checked:r.defaultChecked;u=de(r.value!=null?r.value:u),i._wrapperState={initialChecked:p,initialValue:u,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function St(i,r){r=r.checked,r!=null&&j(i,"checked",r,!1)}function er(i,r){St(i,r);var u=de(r.value),p=r.type;if(u!=null)p==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}r.hasOwnProperty("value")?Za(i,r.type,u):r.hasOwnProperty("defaultValue")&&Za(i,r.type,de(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(i.defaultChecked=!!r.defaultChecked)}function Wr(i,r,u){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var p=r.type;if(!(p!=="submit"&&p!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+i._wrapperState.initialValue,u||r===i.value||(i.value=r),i.defaultValue=r}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Za(i,r,u){(r!=="number"||ye(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var _s=Array.isArray;function An(i,r,u,p){if(i=i.options,r){r={};for(var y=0;y<u.length;y++)r["$"+u[y]]=!0;for(u=0;u<i.length;u++)y=r.hasOwnProperty("$"+i[u].value),i[u].selected!==y&&(i[u].selected=y),y&&p&&(i[u].defaultSelected=!0)}else{for(u=""+de(u),r=null,y=0;y<i.length;y++){if(i[y].value===u){i[y].selected=!0,p&&(i[y].defaultSelected=!0);return}r!==null||i[y].disabled||(r=i[y])}r!==null&&(r.selected=!0)}}function Ar(i,r){if(r.dangerouslySetInnerHTML!=null)throw Error(t(91));return G({},r,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function eo(i,r){var u=r.value;if(u==null){if(u=r.children,r=r.defaultValue,u!=null){if(r!=null)throw Error(t(92));if(_s(u)){if(1<u.length)throw Error(t(93));u=u[0]}r=u}r==null&&(r=""),u=r}i._wrapperState={initialValue:de(u)}}function Cr(i,r){var u=de(r.value),p=de(r.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),r.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),p!=null&&(i.defaultValue=""+p)}function yn(i){var r=i.textContent;r===i._wrapperState.initialValue&&r!==""&&r!==null&&(i.value=r)}function fi(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function On(i,r){return i==null||i==="http://www.w3.org/1999/xhtml"?fi(r):i==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ln,Si=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,u,p,y){MSApp.execUnsafeLocalFunction(function(){return i(r,u,p,y)})}:i}(function(i,r){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=r;else{for(Ln=Ln||document.createElement("div"),Ln.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Ln.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;r.firstChild;)i.appendChild(r.firstChild)}});function un(i,r){if(r){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=r;return}}i.textContent=r}var aa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ol=["Webkit","ms","Moz","O"];Object.keys(aa).forEach(function(i){ol.forEach(function(r){r=r+i.charAt(0).toUpperCase()+i.substring(1),aa[r]=aa[i]})});function Oc(i,r,u){return r==null||typeof r=="boolean"||r===""?"":u||typeof r!="number"||r===0||aa.hasOwnProperty(i)&&aa[i]?(""+r).trim():r+"px"}function Uh(i,r){i=i.style;for(var u in r)if(r.hasOwnProperty(u)){var p=u.indexOf("--")===0,y=Oc(u,r[u],p);u==="float"&&(u="cssFloat"),p?i.setProperty(u,y):i[u]=y}}var qh=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oa(i,r){if(r){if(qh[i]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(t(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(t(61))}if(r.style!=null&&typeof r.style!="object")throw Error(t(62))}}function ll(i,r){if(i.indexOf("-")===-1)return typeof r.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var to=null;function cl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var xs=null,Es=null,Vr=null;function no(i){if(i=po(i)){if(typeof xs!="function")throw Error(t(280));var r=i.stateNode;r&&(r=ts(r),xs(i.stateNode,i.type,r))}}function io(i){Es?Vr?Vr.push(i):Vr=[i]:Es=i}function Wh(){if(Es){var i=Es,r=Vr;if(Vr=Es=null,no(i),r)for(i=0;i<r.length;i++)no(r[i])}}function Vh(i,r){return i(r)}function $(){}var J=!1;function se(i,r,u){if(J)return i(r,u);J=!0;try{return Vh(i,r,u)}finally{J=!1,(Es!==null||Vr!==null)&&($(),Wh())}}function ce(i,r){var u=i.stateNode;if(u===null)return null;var p=ts(u);if(p===null)return null;u=p[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,r,typeof u));return u}var De=!1;if(h)try{var We={};Object.defineProperty(We,"passive",{get:function(){De=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{De=!1}function rt(i,r,u,p,y,w,L,H,B){var ne=Array.prototype.slice.call(arguments,3);try{r.apply(u,ne)}catch(he){this.onError(he)}}var Re=!1,Le=null,xe=!1,st=null,ht={onError:function(i){Re=!0,Le=i}};function Kt(i,r,u,p,y,w,L,H,B){Re=!1,Le=null,rt.apply(ht,arguments)}function Cn(i,r,u,p,y,w,L,H,B){if(Kt.apply(this,arguments),Re){if(Re){var ne=Le;Re=!1,Le=null}else throw Error(t(198));xe||(xe=!0,st=ne)}}function wt(i){var r=i,u=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,r.flags&4098&&(u=r.return),i=r.return;while(i)}return r.tag===3?u:null}function dt(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function At(i){if(wt(i)!==i)throw Error(t(188))}function vn(i){var r=i.alternate;if(!r){if(r=wt(i),r===null)throw Error(t(188));return r!==i?null:i}for(var u=i,p=r;;){var y=u.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){u=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===u)return At(y),i;if(w===p)return At(y),r;w=w.sibling}throw Error(t(188))}if(u.return!==p.return)u=y,p=w;else{for(var L=!1,H=y.child;H;){if(H===u){L=!0,u=y,p=w;break}if(H===p){L=!0,p=y,u=w;break}H=H.sibling}if(!L){for(H=w.child;H;){if(H===u){L=!0,u=w,p=y;break}if(H===p){L=!0,p=w,u=y;break}H=H.sibling}if(!L)throw Error(t(189))}}if(u.alternate!==p)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:r}function on(i){return i=vn(i),i!==null?pi(i):null}function pi(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var r=pi(i);if(r!==null)return r;i=i.sibling}return null}var Nn=e.unstable_scheduleCallback,tr=e.unstable_cancelCallback,nr=e.unstable_shouldYield,Gr=e.unstable_requestPaint,$t=e.unstable_now,kr=e.unstable_getCurrentPriorityLevel,Lt=e.unstable_ImmediatePriority,hn=e.unstable_UserBlockingPriority,Tr=e.unstable_NormalPriority,la=e.unstable_LowPriority,nn=e.unstable_IdlePriority,ir=null,Ai=null;function Gh(i){if(Ai&&typeof Ai.onCommitFiberRoot=="function")try{Ai.onCommitFiberRoot(ir,i,void 0,(i.current.flags&128)===128)}catch{}}var rr=Math.clz32?Math.clz32:Xg,Vg=Math.log,Gg=Math.LN2;function Xg(i){return i>>>=0,i===0?32:31-(Vg(i)/Gg|0)|0}var jc=64,$i=4194304;function jn(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Xr(i,r){var u=i.pendingLanes;if(u===0)return 0;var p=0,y=i.suspendedLanes,w=i.pingedLanes,L=u&268435455;if(L!==0){var H=L&~y;H!==0?p=jn(H):(w&=L,w!==0&&(p=jn(w)))}else L=u&~y,L!==0?p=jn(L):w!==0&&(p=jn(w));if(p===0)return 0;if(r!==0&&r!==p&&!(r&y)&&(y=p&-p,w=r&-r,y>=w||y===16&&(w&4194240)!==0))return r;if(p&4&&(p|=u&16),r=i.entangledLanes,r!==0)for(i=i.entanglements,r&=p;0<r;)u=31-rr(r),y=1<<u,p|=i[u],r&=~y;return p}function sr(i,r){switch(i){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rp(i,r){for(var u=i.suspendedLanes,p=i.pingedLanes,y=i.expirationTimes,w=i.pendingLanes;0<w;){var L=31-rr(w),H=1<<L,B=y[L];B===-1?(!(H&u)||H&p)&&(y[L]=sr(H,r)):B<=r&&(i.expiredLanes|=H),w&=~H}}function Hc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Pr(){var i=jc;return jc<<=1,!(jc&4194240)&&(jc=64),i}function Ss(i){for(var r=[],u=0;31>u;u++)r.push(i);return r}function ca(i,r,u){i.pendingLanes|=r,r!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,r=31-rr(r),i[r]=u}function ul(i,r){var u=i.pendingLanes&~r;i.pendingLanes=r,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=r,i.mutableReadLanes&=r,i.entangledLanes&=r,r=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<u;){var y=31-rr(u),w=1<<y;r[y]=0,p[y]=-1,i[y]=-1,u&=~w}}function $c(i,r){var u=i.entangledLanes|=r;for(i=i.entanglements;u;){var p=31-rr(u),y=1<<p;y&r|i[p]&r&&(i[p]|=r),u&=~y}}var Mt=0;function ro(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Xh,Kh,Kr,Kg,As,hl=!1,zc=[],ar=null,Qr=null,or=null,dl=new Map,fl=new Map,Cs=[],pl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qg(i,r){switch(i){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":dl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(r.pointerId)}}function ml(i,r,u,p,y,w){return i===null||i.nativeEvent!==w?(i={blockedOn:r,domEventName:u,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},r!==null&&(r=po(r),r!==null&&Kh(r)),i):(i.eventSystemFlags|=p,r=i.targetContainers,y!==null&&r.indexOf(y)===-1&&r.push(y),i)}function sp(i,r,u,p,y){switch(r){case"focusin":return ar=ml(ar,i,r,u,p,y),!0;case"dragenter":return Qr=ml(Qr,i,r,u,p,y),!0;case"mouseover":return or=ml(or,i,r,u,p,y),!0;case"pointerover":var w=y.pointerId;return dl.set(w,ml(dl.get(w)||null,i,r,u,p,y)),!0;case"gotpointercapture":return w=y.pointerId,fl.set(w,ml(fl.get(w)||null,i,r,u,p,y)),!0}return!1}function Bc(i){var r=ya(i.target);if(r!==null){var u=wt(r);if(u!==null){if(r=u.tag,r===13){if(r=dt(u),r!==null){i.blockedOn=r,As(i.priority,function(){Kr(u)});return}}else if(r===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function gl(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var u=Yh(i.domEventName,i.eventSystemFlags,r[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);to=p,u.target.dispatchEvent(p),to=null}else return r=po(u),r!==null&&Kh(r),i.blockedOn=u,!1;r.shift()}return!0}function Yg(i,r,u){gl(i)&&u.delete(r)}function Qh(){hl=!1,ar!==null&&gl(ar)&&(ar=null),Qr!==null&&gl(Qr)&&(Qr=null),or!==null&&gl(or)&&(or=null),dl.forEach(Yg),fl.forEach(Yg)}function Uc(i,r){i.blockedOn===r&&(i.blockedOn=null,hl||(hl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qh)))}function yl(i){function r(y){return Uc(y,i)}if(0<zc.length){Uc(zc[0],i);for(var u=1;u<zc.length;u++){var p=zc[u];p.blockedOn===i&&(p.blockedOn=null)}}for(ar!==null&&Uc(ar,i),Qr!==null&&Uc(Qr,i),or!==null&&Uc(or,i),dl.forEach(r),fl.forEach(r),u=0;u<Cs.length;u++)p=Cs[u],p.blockedOn===i&&(p.blockedOn=null);for(;0<Cs.length&&(u=Cs[0],u.blockedOn===null);)Bc(u),u.blockedOn===null&&Cs.shift()}var ua=O.ReactCurrentBatchConfig,vl=!0;function ap(i,r,u,p){var y=Mt,w=ua.transition;ua.transition=null;try{Mt=1,so(i,r,u,p)}finally{Mt=y,ua.transition=w}}function Jg(i,r,u,p){var y=Mt,w=ua.transition;ua.transition=null;try{Mt=4,so(i,r,u,p)}finally{Mt=y,ua.transition=w}}function so(i,r,u,p){if(vl){var y=Yh(i,r,u,p);if(y===null)_p(i,r,p,bl,u),Qg(i,p);else if(sp(y,i,r,u,p))p.stopPropagation();else if(Qg(i,p),r&4&&-1<pl.indexOf(i)){for(;y!==null;){var w=po(y);if(w!==null&&Xh(w),w=Yh(i,r,u,p),w===null&&_p(i,r,p,bl,u),w===y)break;y=w}y!==null&&p.stopPropagation()}else _p(i,r,p,null,u)}}var bl=null;function Yh(i,r,u,p){if(bl=null,i=cl(p),i=ya(i),i!==null)if(r=wt(i),r===null)i=null;else if(u=r.tag,u===13){if(i=dt(r),i!==null)return i;i=null}else if(u===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null);return bl=i,null}function op(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kr()){case Lt:return 1;case hn:return 4;case Tr:case la:return 16;case nn:return 536870912;default:return 16}default:return 16}}var zi=null,lp=null,qc=null;function cp(){if(qc)return qc;var i,r=lp,u=r.length,p,y="value"in zi?zi.value:zi.textContent,w=y.length;for(i=0;i<u&&r[i]===y[i];i++);var L=u-i;for(p=1;p<=L&&r[u-p]===y[w-p];p++);return qc=y.slice(i,1<p?1-p:void 0)}function Wc(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Vc(){return!0}function up(){return!1}function mi(i){function r(u,p,y,w,L){this._reactName=u,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=L,this.currentTarget=null;for(var H in i)i.hasOwnProperty(H)&&(u=i[H],this[H]=u?u(w):w[H]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Vc:up,this.isPropagationStopped=up,this}return G(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Vc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Vc)},persist:function(){},isPersistent:Vc}),r}var ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hp=mi(ao),Gc=G({},ao,{view:0,detail:0}),Zg=mi(Gc),Jh,wl,Xc,Zh=G({},Gc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Xc&&(Xc&&i.type==="mousemove"?(Jh=i.screenX-Xc.screenX,wl=i.screenY-Xc.screenY):wl=Jh=0,Xc=i),Jh)},movementY:function(i){return"movementY"in i?i.movementY:wl}}),ed=mi(Zh),ey=G({},Zh,{dataTransfer:0}),ty=mi(ey),oo=G({},Gc,{relatedTarget:0}),Kc=mi(oo),G0=G({},ao,{animationName:0,elapsedTime:0,pseudoElement:0}),ny=mi(G0),X0=G({},ao,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),K0=mi(X0),Q0=G({},ao,{data:0}),iy=mi(Q0),ry={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _l(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Y0[i])?!!r[i]:!1}function ks(){return _l}var J0=G({},Gc,{key:function(i){if(i.key){var r=ry[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Wc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?sy[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(i){return i.type==="keypress"?Wc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Wc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),td=mi(J0),Z0=G({},Zh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ay=mi(Z0),eb=G({},Gc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),tb=mi(eb),nb=G({},ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),ib=mi(nb),rb=G({},Zh,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),sb=mi(rb),Rr=[9,13,27,32],nd=h&&"CompositionEvent"in window,xl=null;h&&"documentMode"in document&&(xl=document.documentMode);var oy=h&&"TextEvent"in window&&!xl,ly=h&&(!nd||xl&&8<xl&&11>=xl),cy=" ",dp=!1;function Qc(i,r){switch(i){case"keyup":return Rr.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var El=!1;function hy(i,r){switch(i){case"compositionend":return uy(r);case"keypress":return r.which!==32?null:(dp=!0,cy);case"textInput":return i=r.data,i===cy&&dp?null:i;default:return null}}function ab(i,r){if(El)return i==="compositionend"||!nd&&Qc(i,r)?(i=cp(),qc=lp=zi=null,El=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ly&&r.locale!=="ko"?null:r.data;default:return null}}var ob={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fp(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!ob[i.type]:r==="textarea"}function pp(i,r,u,p){io(p),r=Zr(r,"onChange"),0<r.length&&(u=new hp("onChange","change",null,u,p),i.push({event:u,listeners:r}))}var Sl=null,ha=null;function dy(i){Jc(i,0)}function Al(i){var r=mo(i);if(me(r))return i}function lr(i,r){if(i==="change")return r}var fy=!1;if(h){var mp;if(h){var id="oninput"in document;if(!id){var gp=document.createElement("div");gp.setAttribute("oninput","return;"),id=typeof gp.oninput=="function"}mp=id}else mp=!1;fy=mp&&(!document.documentMode||9<document.documentMode)}function py(){Sl&&(Sl.detachEvent("onpropertychange",my),ha=Sl=null)}function my(i){if(i.propertyName==="value"&&Al(ha)){var r=[];pp(r,ha,i,cl(i)),se(dy,r)}}function lb(i,r,u){i==="focusin"?(py(),Sl=r,ha=u,Sl.attachEvent("onpropertychange",my)):i==="focusout"&&py()}function cb(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Al(ha)}function ub(i,r){if(i==="click")return Al(r)}function hb(i,r){if(i==="input"||i==="change")return Al(r)}function gy(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var cr=typeof Object.is=="function"?Object.is:gy;function lo(i,r){if(cr(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var u=Object.keys(i),p=Object.keys(r);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var y=u[p];if(!d.call(r,y)||!cr(i[y],r[y]))return!1}return!0}function yy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function vy(i,r){var u=yy(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=r&&p>=r)return{node:u,offset:r-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=yy(u)}}function da(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?da(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Yr(){for(var i=window,r=ye();r instanceof i.HTMLIFrameElement;){try{var u=typeof r.contentWindow.location.href=="string"}catch{u=!1}if(u)i=r.contentWindow;else break;r=ye(i.document)}return r}function rd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}function db(i){var r=Yr(),u=i.focusedElem,p=i.selectionRange;if(r!==u&&u&&u.ownerDocument&&da(u.ownerDocument.documentElement,u)){if(p!==null&&rd(u)){if(r=p.start,i=p.end,i===void 0&&(i=r),"selectionStart"in u)u.selectionStart=r,u.selectionEnd=Math.min(i,u.value.length);else if(i=(r=u.ownerDocument||document)&&r.defaultView||window,i.getSelection){i=i.getSelection();var y=u.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!i.extend&&w>p&&(y=p,p=w,w=y),y=vy(u,w);var L=vy(u,p);y&&L&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==L.node||i.focusOffset!==L.offset)&&(r=r.createRange(),r.setStart(y.node,y.offset),i.removeAllRanges(),w>p?(i.addRange(r),i.extend(L.node,L.offset)):(r.setEnd(L.node,L.offset),i.addRange(r)))}}for(r=[],i=u;i=i.parentNode;)i.nodeType===1&&r.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<r.length;u++)i=r[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var by=h&&"documentMode"in document&&11>=document.documentMode,co=null,sd=null,Cl=null,yp=!1;function wy(i,r,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;yp||co==null||co!==ye(p)||(p=co,"selectionStart"in p&&rd(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Cl&&lo(Cl,p)||(Cl=p,p=Zr(sd,"onSelect"),0<p.length&&(r=new hp("onSelect","select",null,r,u),i.push({event:r,listeners:p}),r.target=co)))}function ad(i,r){var u={};return u[i.toLowerCase()]=r.toLowerCase(),u["Webkit"+i]="webkit"+r,u["Moz"+i]="moz"+r,u}var uo={animationend:ad("Animation","AnimationEnd"),animationiteration:ad("Animation","AnimationIteration"),animationstart:ad("Animation","AnimationStart"),transitionend:ad("Transition","TransitionEnd")},od={},_y={};h&&(_y=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function ld(i){if(od[i])return od[i];if(!uo[i])return i;var r=uo[i],u;for(u in r)if(r.hasOwnProperty(u)&&u in _y)return od[i]=r[u];return i}var xy=ld("animationend"),Ey=ld("animationiteration"),Sy=ld("animationstart"),Jr=ld("transitionend"),vp=new Map,Ay="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fa(i,r){vp.set(i,r),o(r,[i])}for(var bp=0;bp<Ay.length;bp++){var wp=Ay[bp],fb=wp.toLowerCase(),pb=wp[0].toUpperCase()+wp.slice(1);fa(fb,"on"+pb)}fa(xy,"onAnimationEnd"),fa(Ey,"onAnimationIteration"),fa(Sy,"onAnimationStart"),fa("dblclick","onDoubleClick"),fa("focusin","onFocus"),fa("focusout","onBlur"),fa(Jr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yc));function cd(i,r,u){var p=i.type||"unknown-event";i.currentTarget=u,Cn(p,r,void 0,i),i.currentTarget=null}function Jc(i,r){r=(r&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],y=p.event;p=p.listeners;e:{var w=void 0;if(r)for(var L=p.length-1;0<=L;L--){var H=p[L],B=H.instance,ne=H.currentTarget;if(H=H.listener,B!==w&&y.isPropagationStopped())break e;cd(y,H,ne),w=B}else for(L=0;L<p.length;L++){if(H=p[L],B=H.instance,ne=H.currentTarget,H=H.listener,B!==w&&y.isPropagationStopped())break e;cd(y,H,ne),w=B}}}if(xe)throw i=st,xe=!1,st=null,i}function Qt(i,r){var u=r[Ap];u===void 0&&(u=r[Ap]=new Set);var p=i+"__bubble";u.has(p)||(Cy(r,i,2,!1),u.add(p))}function ud(i,r,u){var p=0;r&&(p|=4),Cy(u,i,p,r)}var pa="_reactListening"+Math.random().toString(36).slice(2);function ho(i){if(!i[pa]){i[pa]=!0,n.forEach(function(u){u!=="selectionchange"&&(mb.has(u)||ud(u,!1,i),ud(u,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[pa]||(r[pa]=!0,ud("selectionchange",!1,r))}}function Cy(i,r,u,p){switch(op(r)){case 1:var y=ap;break;case 4:y=Jg;break;default:y=so}u=y.bind(null,r,u,i),y=void 0,!De||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(y=!0),p?y!==void 0?i.addEventListener(r,u,{capture:!0,passive:y}):i.addEventListener(r,u,!0):y!==void 0?i.addEventListener(r,u,{passive:y}):i.addEventListener(r,u,!1)}function _p(i,r,u,p,y){var w=p;if(!(r&1)&&!(r&2)&&p!==null)e:for(;;){if(p===null)return;var L=p.tag;if(L===3||L===4){var H=p.stateNode.containerInfo;if(H===y||H.nodeType===8&&H.parentNode===y)break;if(L===4)for(L=p.return;L!==null;){var B=L.tag;if((B===3||B===4)&&(B=L.stateNode.containerInfo,B===y||B.nodeType===8&&B.parentNode===y))return;L=L.return}for(;H!==null;){if(L=ya(H),L===null)return;if(B=L.tag,B===5||B===6){p=w=L;continue e}H=H.parentNode}}p=p.return}se(function(){var ne=w,he=cl(u),pe=[];e:{var ue=vp.get(i);if(ue!==void 0){var Ne=hp,Be=i;switch(i){case"keypress":if(Wc(u)===0)break e;case"keydown":case"keyup":Ne=td;break;case"focusin":Be="focus",Ne=Kc;break;case"focusout":Be="blur",Ne=Kc;break;case"beforeblur":case"afterblur":Ne=Kc;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=ed;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=ty;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=tb;break;case xy:case Ey:case Sy:Ne=ny;break;case Jr:Ne=ib;break;case"scroll":Ne=Zg;break;case"wheel":Ne=sb;break;case"copy":case"cut":case"paste":Ne=K0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=ay}var Ve=(r&4)!==0,Tn=!Ve&&i==="scroll",Z=Ve?ue!==null?ue+"Capture":null:ue;Ve=[];for(var V=ne,ee;V!==null;){ee=V;var ve=ee.stateNode;if(ee.tag===5&&ve!==null&&(ee=ve,Z!==null&&(ve=ce(V,Z),ve!=null&&Ve.push(Zc(V,ve,ee)))),Tn)break;V=V.return}0<Ve.length&&(ue=new Ne(ue,Be,null,u,he),pe.push({event:ue,listeners:Ve}))}}if(!(r&7)){e:{if(ue=i==="mouseover"||i==="pointerover",Ne=i==="mouseout"||i==="pointerout",ue&&u!==to&&(Be=u.relatedTarget||u.fromElement)&&(ya(Be)||Be[Ts]))break e;if((Ne||ue)&&(ue=he.window===he?he:(ue=he.ownerDocument)?ue.defaultView||ue.parentWindow:window,Ne?(Be=u.relatedTarget||u.toElement,Ne=ne,Be=Be?ya(Be):null,Be!==null&&(Tn=wt(Be),Be!==Tn||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(Ne=null,Be=ne),Ne!==Be)){if(Ve=ed,ve="onMouseLeave",Z="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=ay,ve="onPointerLeave",Z="onPointerEnter",V="pointer"),Tn=Ne==null?ue:mo(Ne),ee=Be==null?ue:mo(Be),ue=new Ve(ve,V+"leave",Ne,u,he),ue.target=Tn,ue.relatedTarget=ee,ve=null,ya(he)===ne&&(Ve=new Ve(Z,V+"enter",Be,u,he),Ve.target=ee,Ve.relatedTarget=Tn,ve=Ve),Tn=ve,Ne&&Be)t:{for(Ve=Ne,Z=Be,V=0,ee=Ve;ee;ee=kl(ee))V++;for(ee=0,ve=Z;ve;ve=kl(ve))ee++;for(;0<V-ee;)Ve=kl(Ve),V--;for(;0<ee-V;)Z=kl(Z),ee--;for(;V--;){if(Ve===Z||Z!==null&&Ve===Z.alternate)break t;Ve=kl(Ve),Z=kl(Z)}Ve=null}else Ve=null;Ne!==null&&ky(pe,ue,Ne,Ve,!1),Be!==null&&Tn!==null&&ky(pe,Tn,Be,Ve,!0)}}e:{if(ue=ne?mo(ne):window,Ne=ue.nodeName&&ue.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&ue.type==="file")var Xe=lr;else if(fp(ue))if(fy)Xe=hb;else{Xe=cb;var et=lb}else(Ne=ue.nodeName)&&Ne.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Xe=ub);if(Xe&&(Xe=Xe(i,ne))){pp(pe,Xe,u,he);break e}et&&et(i,ue,ne),i==="focusout"&&(et=ue._wrapperState)&&et.controlled&&ue.type==="number"&&Za(ue,"number",ue.value)}switch(et=ne?mo(ne):window,i){case"focusin":(fp(et)||et.contentEditable==="true")&&(co=et,sd=ne,Cl=null);break;case"focusout":Cl=sd=co=null;break;case"mousedown":yp=!0;break;case"contextmenu":case"mouseup":case"dragend":yp=!1,wy(pe,u,he);break;case"selectionchange":if(by)break;case"keydown":case"keyup":wy(pe,u,he)}var tt;if(nd)e:{switch(i){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else El?Qc(i,u)&&(ot="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ot="onCompositionStart");ot&&(ly&&u.locale!=="ko"&&(El||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&El&&(tt=cp()):(zi=he,lp="value"in zi?zi.value:zi.textContent,El=!0)),et=Zr(ne,ot),0<et.length&&(ot=new iy(ot,i,null,u,he),pe.push({event:ot,listeners:et}),tt?ot.data=tt:(tt=uy(u),tt!==null&&(ot.data=tt)))),(tt=oy?hy(i,u):ab(i,u))&&(ne=Zr(ne,"onBeforeInput"),0<ne.length&&(he=new iy("onBeforeInput","beforeinput",null,u,he),pe.push({event:he,listeners:ne}),he.data=tt))}Jc(pe,r)})}function Zc(i,r,u){return{instance:i,listener:r,currentTarget:u}}function Zr(i,r){for(var u=r+"Capture",p=[];i!==null;){var y=i,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=ce(i,u),w!=null&&p.unshift(Zc(i,w,y)),w=ce(i,r),w!=null&&p.push(Zc(i,w,y))),i=i.return}return p}function kl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function ky(i,r,u,p,y){for(var w=r._reactName,L=[];u!==null&&u!==p;){var H=u,B=H.alternate,ne=H.stateNode;if(B!==null&&B===p)break;H.tag===5&&ne!==null&&(H=ne,y?(B=ce(u,w),B!=null&&L.unshift(Zc(u,B,H))):y||(B=ce(u,w),B!=null&&L.push(Zc(u,B,H)))),u=u.return}L.length!==0&&i.push({event:r,listeners:L})}var hd=/\r\n?/g,xp=/\u0000|\uFFFD/g;function Ty(i){return(typeof i=="string"?i:""+i).replace(hd,`
`).replace(xp,"")}function eu(i,r,u){if(r=Ty(r),Ty(i)!==r&&u)throw Error(t(425))}function dd(){}var ma=null,tu=null;function fd(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ep=typeof setTimeout=="function"?setTimeout:void 0,gb=typeof clearTimeout=="function"?clearTimeout:void 0,Py=typeof Promise=="function"?Promise:void 0,nu=typeof queueMicrotask=="function"?queueMicrotask:typeof Py<"u"?function(i){return Py.resolve(null).then(i).catch(fo)}:Ep;function fo(i){setTimeout(function(){throw i})}function Sp(i,r){var u=r,p=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(p===0){i.removeChild(y),yl(r);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=y}while(u);yl(r)}function ga(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return i}function Ry(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(r===0)return i;r--}else u==="/$"&&r++}i=i.previousSibling}return null}var Tl=Math.random().toString(36).slice(2),es="__reactFiber$"+Tl,iu="__reactProps$"+Tl,Ts="__reactContainer$"+Tl,Ap="__reactEvents$"+Tl,Ly="__reactListeners$"+Tl,yb="__reactHandles$"+Tl;function ya(i){var r=i[es];if(r)return r;for(var u=i.parentNode;u;){if(r=u[Ts]||u[es]){if(u=r.alternate,r.child!==null||u!==null&&u.child!==null)for(i=Ry(i);i!==null;){if(u=i[es])return u;i=Ry(i)}return r}i=u,u=i.parentNode}return null}function po(i){return i=i[es]||i[Ts],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function mo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function ts(i){return i[iu]||null}var pd=[],va=-1;function Ps(i){return{current:i}}function qt(i){0>va||(i.current=pd[va],pd[va]=null,va--)}function Wt(i,r){va++,pd[va]=i.current,i.current=r}var ns={},Yn=Ps(ns),bn=Ps(!1),Ci=ns;function Pl(i,r){var u=i.type.contextTypes;if(!u)return ns;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===r)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in u)y[w]=r[w];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=r,i.__reactInternalMemoizedMaskedChildContext=y),y}function ki(i){return i=i.childContextTypes,i!=null}function md(){qt(bn),qt(Yn)}function Ny(i,r,u){if(Yn.current!==ns)throw Error(t(168));Wt(Yn,r),Wt(bn,u)}function My(i,r,u){var p=i.stateNode;if(r=r.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var y in p)if(!(y in r))throw Error(t(108,He(i)||"Unknown",y));return G({},u,p)}function gd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ns,Ci=Yn.current,Wt(Yn,i),Wt(bn,bn.current),!0}function Dy(i,r,u){var p=i.stateNode;if(!p)throw Error(t(169));u?(i=My(i,r,Ci),p.__reactInternalMemoizedMergedChildContext=i,qt(bn),qt(Yn),Wt(Yn,i)):qt(bn),Wt(bn,u)}var Rs=null,ru=!1,Rl=!1;function su(i){Rs===null?Rs=[i]:Rs.push(i)}function vb(i){ru=!0,su(i)}function ba(){if(!Rl&&Rs!==null){Rl=!0;var i=0,r=Mt;try{var u=Rs;for(Mt=1;i<u.length;i++){var p=u[i];do p=p(!0);while(p!==null)}Rs=null,ru=!1}catch(y){throw Rs!==null&&(Rs=Rs.slice(i+1)),Nn(Lt,ba),y}finally{Mt=r,Rl=!1}}return null}var is=[],P=0,m=null,E=0,M=[],W=0,X=null,ie=1,oe="";function ge(i,r){is[P++]=E,is[P++]=m,m=i,E=r}function Ie(i,r,u){M[W++]=ie,M[W++]=oe,M[W++]=X,X=i;var p=ie;i=oe;var y=32-rr(p)-1;p&=~(1<<y),u+=1;var w=32-rr(r)+y;if(30<w){var L=y-y%5;w=(p&(1<<L)-1).toString(32),p>>=L,y-=L,ie=1<<32-rr(r)+y|u<<y|p,oe=w+i}else ie=1<<w|u<<y|p,oe=i}function Fe(i){i.return!==null&&(ge(i,1),Ie(i,1,0))}function Ce(i){for(;i===m;)m=is[--P],is[P]=null,E=is[--P],is[P]=null;for(;i===X;)X=M[--W],M[W]=null,oe=M[--W],M[W]=null,ie=M[--W],M[W]=null}var Je=null,Ue=null,Oe=!1,Qe=null;function at(i,r){var u=os(5,null,null,0);u.elementType="DELETED",u.stateNode=r,u.return=i,r=i.deletions,r===null?(i.deletions=[u],i.flags|=16):r.push(u)}function Ft(i,r){switch(i.tag){case 5:var u=i.type;return r=r.nodeType!==1||u.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(i.stateNode=r,Je=i,Ue=ga(r.firstChild),!0):!1;case 6:return r=i.pendingProps===""||r.nodeType!==3?null:r,r!==null?(i.stateNode=r,Je=i,Ue=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(u=X!==null?{id:ie,overflow:oe}:null,i.memoizedState={dehydrated:r,treeContext:u,retryLane:1073741824},u=os(18,null,null,0),u.stateNode=r,u.return=i,i.child=u,Je=i,Ue=null,!0):!1;default:return!1}}function zt(i){return(i.mode&1)!==0&&(i.flags&128)===0}function pt(i){if(Oe){var r=Ue;if(r){var u=r;if(!Ft(i,r)){if(zt(i))throw Error(t(418));r=ga(u.nextSibling);var p=Je;r&&Ft(i,r)?at(p,u):(i.flags=i.flags&-4097|2,Oe=!1,Je=i)}}else{if(zt(i))throw Error(t(418));i.flags=i.flags&-4097|2,Oe=!1,Je=i}}}function Rt(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Je=i}function lt(i){if(i!==Je)return!1;if(!Oe)return Rt(i),Oe=!0,!1;var r;if((r=i.tag!==3)&&!(r=i.tag!==5)&&(r=i.type,r=r!=="head"&&r!=="body"&&!fd(i.type,i.memoizedProps)),r&&(r=Ue)){if(zt(i))throw _t(),Error(t(418));for(;r;)at(i,r),r=ga(r.nextSibling)}if(Rt(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(r===0){Ue=ga(i.nextSibling);break e}r--}else u!=="$"&&u!=="$!"&&u!=="$?"||r++}i=i.nextSibling}Ue=null}}else Ue=Je?ga(i.stateNode.nextSibling):null;return!0}function _t(){for(var i=Ue;i;)i=ga(i.nextSibling)}function Ct(){Ue=Je=null,Oe=!1}function Dt(i){Qe===null?Qe=[i]:Qe.push(i)}var Ot=O.ReactCurrentBatchConfig;function Zt(i,r,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var p=u.stateNode}if(!p)throw Error(t(147,i));var y=p,w=""+i;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===w?r.ref:(r=function(L){var H=y.refs;L===null?delete H[w]:H[w]=L},r._stringRef=w,r)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function Jn(i,r){throw i=Object.prototype.toString.call(r),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i))}function ur(i){var r=i._init;return r(i._payload)}function Zn(i){function r(Z,V){if(i){var ee=Z.deletions;ee===null?(Z.deletions=[V],Z.flags|=16):ee.push(V)}}function u(Z,V){if(!i)return null;for(;V!==null;)r(Z,V),V=V.sibling;return null}function p(Z,V){for(Z=new Map;V!==null;)V.key!==null?Z.set(V.key,V):Z.set(V.index,V),V=V.sibling;return Z}function y(Z,V){return Z=Ol(Z,V),Z.index=0,Z.sibling=null,Z}function w(Z,V,ee){return Z.index=ee,i?(ee=Z.alternate,ee!==null?(ee=ee.index,ee<V?(Z.flags|=2,V):ee):(Z.flags|=2,V)):(Z.flags|=1048576,V)}function L(Z){return i&&Z.alternate===null&&(Z.flags|=2),Z}function H(Z,V,ee,ve){return V===null||V.tag!==6?(V=Zb(ee,Z.mode,ve),V.return=Z,V):(V=y(V,ee),V.return=Z,V)}function B(Z,V,ee,ve){var Xe=ee.type;return Xe===Q?he(Z,V,ee.props.children,ve,ee.key):V!==null&&(V.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===$e&&ur(Xe)===V.type)?(ve=y(V,ee.props),ve.ref=Zt(Z,V,ee),ve.return=Z,ve):(ve=Zy(ee.type,ee.key,ee.props,null,Z.mode,ve),ve.ref=Zt(Z,V,ee),ve.return=Z,ve)}function ne(Z,V,ee,ve){return V===null||V.tag!==4||V.stateNode.containerInfo!==ee.containerInfo||V.stateNode.implementation!==ee.implementation?(V=ew(ee,Z.mode,ve),V.return=Z,V):(V=y(V,ee.children||[]),V.return=Z,V)}function he(Z,V,ee,ve,Xe){return V===null||V.tag!==7?(V=gu(ee,Z.mode,ve,Xe),V.return=Z,V):(V=y(V,ee),V.return=Z,V)}function pe(Z,V,ee){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Zb(""+V,Z.mode,ee),V.return=Z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case D:return ee=Zy(V.type,V.key,V.props,null,Z.mode,ee),ee.ref=Zt(Z,null,V),ee.return=Z,ee;case U:return V=ew(V,Z.mode,ee),V.return=Z,V;case $e:var ve=V._init;return pe(Z,ve(V._payload),ee)}if(_s(V)||_e(V))return V=gu(V,Z.mode,ee,null),V.return=Z,V;Jn(Z,V)}return null}function ue(Z,V,ee,ve){var Xe=V!==null?V.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Xe!==null?null:H(Z,V,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case D:return ee.key===Xe?B(Z,V,ee,ve):null;case U:return ee.key===Xe?ne(Z,V,ee,ve):null;case $e:return Xe=ee._init,ue(Z,V,Xe(ee._payload),ve)}if(_s(ee)||_e(ee))return Xe!==null?null:he(Z,V,ee,ve,null);Jn(Z,ee)}return null}function Ne(Z,V,ee,ve,Xe){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return Z=Z.get(ee)||null,H(V,Z,""+ve,Xe);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case D:return Z=Z.get(ve.key===null?ee:ve.key)||null,B(V,Z,ve,Xe);case U:return Z=Z.get(ve.key===null?ee:ve.key)||null,ne(V,Z,ve,Xe);case $e:var et=ve._init;return Ne(Z,V,ee,et(ve._payload),Xe)}if(_s(ve)||_e(ve))return Z=Z.get(ee)||null,he(V,Z,ve,Xe,null);Jn(V,ve)}return null}function Be(Z,V,ee,ve){for(var Xe=null,et=null,tt=V,ot=V=0,ii=null;tt!==null&&ot<ee.length;ot++){tt.index>ot?(ii=tt,tt=null):ii=tt.sibling;var It=ue(Z,tt,ee[ot],ve);if(It===null){tt===null&&(tt=ii);break}i&&tt&&It.alternate===null&&r(Z,tt),V=w(It,V,ot),et===null?Xe=It:et.sibling=It,et=It,tt=ii}if(ot===ee.length)return u(Z,tt),Oe&&ge(Z,ot),Xe;if(tt===null){for(;ot<ee.length;ot++)tt=pe(Z,ee[ot],ve),tt!==null&&(V=w(tt,V,ot),et===null?Xe=tt:et.sibling=tt,et=tt);return Oe&&ge(Z,ot),Xe}for(tt=p(Z,tt);ot<ee.length;ot++)ii=Ne(tt,Z,ot,ee[ot],ve),ii!==null&&(i&&ii.alternate!==null&&tt.delete(ii.key===null?ot:ii.key),V=w(ii,V,ot),et===null?Xe=ii:et.sibling=ii,et=ii);return i&&tt.forEach(function(jl){return r(Z,jl)}),Oe&&ge(Z,ot),Xe}function Ve(Z,V,ee,ve){var Xe=_e(ee);if(typeof Xe!="function")throw Error(t(150));if(ee=Xe.call(ee),ee==null)throw Error(t(151));for(var et=Xe=null,tt=V,ot=V=0,ii=null,It=ee.next();tt!==null&&!It.done;ot++,It=ee.next()){tt.index>ot?(ii=tt,tt=null):ii=tt.sibling;var jl=ue(Z,tt,It.value,ve);if(jl===null){tt===null&&(tt=ii);break}i&&tt&&jl.alternate===null&&r(Z,tt),V=w(jl,V,ot),et===null?Xe=jl:et.sibling=jl,et=jl,tt=ii}if(It.done)return u(Z,tt),Oe&&ge(Z,ot),Xe;if(tt===null){for(;!It.done;ot++,It=ee.next())It=pe(Z,It.value,ve),It!==null&&(V=w(It,V,ot),et===null?Xe=It:et.sibling=It,et=It);return Oe&&ge(Z,ot),Xe}for(tt=p(Z,tt);!It.done;ot++,It=ee.next())It=Ne(tt,Z,ot,It.value,ve),It!==null&&(i&&It.alternate!==null&&tt.delete(It.key===null?ot:It.key),V=w(It,V,ot),et===null?Xe=It:et.sibling=It,et=It);return i&&tt.forEach(function(yT){return r(Z,yT)}),Oe&&ge(Z,ot),Xe}function Tn(Z,V,ee,ve){if(typeof ee=="object"&&ee!==null&&ee.type===Q&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case D:e:{for(var Xe=ee.key,et=V;et!==null;){if(et.key===Xe){if(Xe=ee.type,Xe===Q){if(et.tag===7){u(Z,et.sibling),V=y(et,ee.props.children),V.return=Z,Z=V;break e}}else if(et.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===$e&&ur(Xe)===et.type){u(Z,et.sibling),V=y(et,ee.props),V.ref=Zt(Z,et,ee),V.return=Z,Z=V;break e}u(Z,et);break}else r(Z,et);et=et.sibling}ee.type===Q?(V=gu(ee.props.children,Z.mode,ve,ee.key),V.return=Z,Z=V):(ve=Zy(ee.type,ee.key,ee.props,null,Z.mode,ve),ve.ref=Zt(Z,V,ee),ve.return=Z,Z=ve)}return L(Z);case U:e:{for(et=ee.key;V!==null;){if(V.key===et)if(V.tag===4&&V.stateNode.containerInfo===ee.containerInfo&&V.stateNode.implementation===ee.implementation){u(Z,V.sibling),V=y(V,ee.children||[]),V.return=Z,Z=V;break e}else{u(Z,V);break}else r(Z,V);V=V.sibling}V=ew(ee,Z.mode,ve),V.return=Z,Z=V}return L(Z);case $e:return et=ee._init,Tn(Z,V,et(ee._payload),ve)}if(_s(ee))return Be(Z,V,ee,ve);if(_e(ee))return Ve(Z,V,ee,ve);Jn(Z,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,V!==null&&V.tag===6?(u(Z,V.sibling),V=y(V,ee),V.return=Z,Z=V):(u(Z,V),V=Zb(ee,Z.mode,ve),V.return=Z,Z=V),L(Z)):u(Z,V)}return Tn}var Hn=Zn(!0),Bi=Zn(!1),en=Ps(null),Ui=null,gi=null,wa=null;function wn(){wa=gi=Ui=null}function jt(i){var r=en.current;qt(en),i._currentValue=r}function $n(i,r,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,p!==null&&(p.childLanes|=r)):p!==null&&(p.childLanes&r)!==r&&(p.childLanes|=r),i===u)break;i=i.return}}function zn(i,r){Ui=i,wa=gi=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&r&&(dr=!0),i.firstContext=null)}function kn(i){var r=i._currentValue;if(wa!==i)if(i={context:i,memoizedValue:r,next:null},gi===null){if(Ui===null)throw Error(t(308));gi=i,Ui.dependencies={lanes:0,firstContext:i}}else gi=gi.next=i;return r}var rs=null;function yd(i){rs===null?rs=[i]:rs.push(i)}function Cp(i,r,u,p){var y=r.interleaved;return y===null?(u.next=u,yd(r)):(u.next=y.next,y.next=u),r.interleaved=u,hr(i,p)}function hr(i,r){i.lanes|=r;var u=i.alternate;for(u!==null&&(u.lanes|=r),u=i,i=i.return;i!==null;)i.childLanes|=r,u=i.alternate,u!==null&&(u.childLanes|=r),u=i,i=i.return;return u.tag===3?u.stateNode:null}var _a=!1;function kp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ls(i,r){return{eventTime:i,lane:r,tag:0,payload:null,callback:null,next:null}}function Ns(i,r,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,Nt&2){var y=p.pending;return y===null?r.next=r:(r.next=y.next,y.next=r),p.pending=r,hr(i,u)}return y=p.interleaved,y===null?(r.next=r,yd(p)):(r.next=y.next,y.next=r),p.interleaved=r,hr(i,u)}function bd(i,r,u){if(r=r.updateQueue,r!==null&&(r=r.shared,(u&4194240)!==0)){var p=r.lanes;p&=i.pendingLanes,u|=p,r.lanes=u,$c(i,u)}}function Tp(i,r){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var y=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var L={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?y=w=L:w=w.next=L,u=u.next}while(u!==null);w===null?y=w=r:w=w.next=r}else y=w=r;u={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=r:i.next=r,u.lastBaseUpdate=r}function au(i,r,u,p){var y=i.updateQueue;_a=!1;var w=y.firstBaseUpdate,L=y.lastBaseUpdate,H=y.shared.pending;if(H!==null){y.shared.pending=null;var B=H,ne=B.next;B.next=null,L===null?w=ne:L.next=ne,L=B;var he=i.alternate;he!==null&&(he=he.updateQueue,H=he.lastBaseUpdate,H!==L&&(H===null?he.firstBaseUpdate=ne:H.next=ne,he.lastBaseUpdate=B))}if(w!==null){var pe=y.baseState;L=0,he=ne=B=null,H=w;do{var ue=H.lane,Ne=H.eventTime;if((p&ue)===ue){he!==null&&(he=he.next={eventTime:Ne,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Be=i,Ve=H;switch(ue=r,Ne=u,Ve.tag){case 1:if(Be=Ve.payload,typeof Be=="function"){pe=Be.call(Ne,pe,ue);break e}pe=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Ve.payload,ue=typeof Be=="function"?Be.call(Ne,pe,ue):Be,ue==null)break e;pe=G({},pe,ue);break e;case 2:_a=!0}}H.callback!==null&&H.lane!==0&&(i.flags|=64,ue=y.effects,ue===null?y.effects=[H]:ue.push(H))}else Ne={eventTime:Ne,lane:ue,tag:H.tag,payload:H.payload,callback:H.callback,next:null},he===null?(ne=he=Ne,B=pe):he=he.next=Ne,L|=ue;if(H=H.next,H===null){if(H=y.shared.pending,H===null)break;ue=H,H=ue.next,ue.next=null,y.lastBaseUpdate=ue,y.shared.pending=null}}while(!0);if(he===null&&(B=pe),y.baseState=B,y.firstBaseUpdate=ne,y.lastBaseUpdate=he,r=y.shared.interleaved,r!==null){y=r;do L|=y.lane,y=y.next;while(y!==r)}else w===null&&(y.shared.lanes=0);du|=L,i.lanes=L,i.memoizedState=pe}}function Iy(i,r,u){if(i=r.effects,r.effects=null,i!==null)for(r=0;r<i.length;r++){var p=i[r],y=p.callback;if(y!==null){if(p.callback=null,p=u,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var ou={},ei=Ps(ou),xa=Ps(ou),Ll=Ps(ou);function Ea(i){if(i===ou)throw Error(t(174));return i}function lu(i,r){switch(Wt(Ll,r),Wt(xa,i),Wt(ei,ou),i=r.nodeType,i){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:On(null,"");break;default:i=i===8?r.parentNode:r,r=i.namespaceURI||null,i=i.tagName,r=On(r,i)}qt(ei),Wt(ei,r)}function go(){qt(ei),qt(xa),qt(Ll)}function Pp(i){Ea(Ll.current);var r=Ea(ei.current),u=On(r,i.type);r!==u&&(Wt(xa,i),Wt(ei,u))}function wd(i){xa.current===i&&(qt(ei),qt(xa))}var rn=Ps(0);function _d(i){for(var r=i;r!==null;){if(r.tag===13){var u=r.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Rp=[];function cu(){for(var i=0;i<Rp.length;i++)Rp[i]._workInProgressVersionPrimary=null;Rp.length=0}var uu=O.ReactCurrentDispatcher,bb=O.ReactCurrentBatchConfig,hu=0,dn=null,Bn=null,ti=null,Fy=!1,Lp=!1,Np=0,$k=0;function Ti(){throw Error(t(321))}function wb(i,r){if(r===null)return!1;for(var u=0;u<r.length&&u<i.length;u++)if(!cr(i[u],r[u]))return!1;return!0}function _b(i,r,u,p,y,w){if(hu=w,dn=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,uu.current=i===null||i.memoizedState===null?qk:Wk,i=u(p,y),Lp){w=0;do{if(Lp=!1,Np=0,25<=w)throw Error(t(301));w+=1,ti=Bn=null,r.updateQueue=null,uu.current=Vk,i=u(p,y)}while(Lp)}if(uu.current=Hy,r=Bn!==null&&Bn.next!==null,hu=0,ti=Bn=dn=null,Fy=!1,r)throw Error(t(300));return i}function xb(){var i=Np!==0;return Np=0,i}function Sa(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?dn.memoizedState=ti=i:ti=ti.next=i,ti}function ss(){if(Bn===null){var i=dn.alternate;i=i!==null?i.memoizedState:null}else i=Bn.next;var r=ti===null?dn.memoizedState:ti.next;if(r!==null)ti=r,Bn=i;else{if(i===null)throw Error(t(310));Bn=i,i={memoizedState:Bn.memoizedState,baseState:Bn.baseState,baseQueue:Bn.baseQueue,queue:Bn.queue,next:null},ti===null?dn.memoizedState=ti=i:ti=ti.next=i}return ti}function Mp(i,r){return typeof r=="function"?r(i):r}function Eb(i){var r=ss(),u=r.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var p=Bn,y=p.baseQueue,w=u.pending;if(w!==null){if(y!==null){var L=y.next;y.next=w.next,w.next=L}p.baseQueue=y=w,u.pending=null}if(y!==null){w=y.next,p=p.baseState;var H=L=null,B=null,ne=w;do{var he=ne.lane;if((hu&he)===he)B!==null&&(B=B.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),p=ne.hasEagerState?ne.eagerState:i(p,ne.action);else{var pe={lane:he,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};B===null?(H=B=pe,L=p):B=B.next=pe,dn.lanes|=he,du|=he}ne=ne.next}while(ne!==null&&ne!==w);B===null?L=p:B.next=H,cr(p,r.memoizedState)||(dr=!0),r.memoizedState=p,r.baseState=L,r.baseQueue=B,u.lastRenderedState=p}if(i=u.interleaved,i!==null){y=i;do w=y.lane,dn.lanes|=w,du|=w,y=y.next;while(y!==i)}else y===null&&(u.lanes=0);return[r.memoizedState,u.dispatch]}function Sb(i){var r=ss(),u=r.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var p=u.dispatch,y=u.pending,w=r.memoizedState;if(y!==null){u.pending=null;var L=y=y.next;do w=i(w,L.action),L=L.next;while(L!==y);cr(w,r.memoizedState)||(dr=!0),r.memoizedState=w,r.baseQueue===null&&(r.baseState=w),u.lastRenderedState=w}return[w,p]}function zx(){}function Bx(i,r){var u=dn,p=ss(),y=r(),w=!cr(p.memoizedState,y);if(w&&(p.memoizedState=y,dr=!0),p=p.queue,Ab(Wx.bind(null,u,p,i),[i]),p.getSnapshot!==r||w||ti!==null&&ti.memoizedState.tag&1){if(u.flags|=2048,Dp(9,qx.bind(null,u,p,y,r),void 0,null),ni===null)throw Error(t(349));hu&30||Ux(u,r,y)}return y}function Ux(i,r,u){i.flags|=16384,i={getSnapshot:r,value:u},r=dn.updateQueue,r===null?(r={lastEffect:null,stores:null},dn.updateQueue=r,r.stores=[i]):(u=r.stores,u===null?r.stores=[i]:u.push(i))}function qx(i,r,u,p){r.value=u,r.getSnapshot=p,Vx(r)&&Gx(i)}function Wx(i,r,u){return u(function(){Vx(r)&&Gx(i)})}function Vx(i){var r=i.getSnapshot;i=i.value;try{var u=r();return!cr(i,u)}catch{return!0}}function Gx(i){var r=hr(i,1);r!==null&&Fs(r,i,1,-1)}function Xx(i){var r=Sa();return typeof i=="function"&&(i=i()),r.memoizedState=r.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mp,lastRenderedState:i},r.queue=i,i=i.dispatch=Uk.bind(null,dn,i),[r.memoizedState,i]}function Dp(i,r,u,p){return i={tag:i,create:r,destroy:u,deps:p,next:null},r=dn.updateQueue,r===null?(r={lastEffect:null,stores:null},dn.updateQueue=r,r.lastEffect=i.next=i):(u=r.lastEffect,u===null?r.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,r.lastEffect=i)),i}function Kx(){return ss().memoizedState}function Oy(i,r,u,p){var y=Sa();dn.flags|=i,y.memoizedState=Dp(1|r,u,void 0,p===void 0?null:p)}function jy(i,r,u,p){var y=ss();p=p===void 0?null:p;var w=void 0;if(Bn!==null){var L=Bn.memoizedState;if(w=L.destroy,p!==null&&wb(p,L.deps)){y.memoizedState=Dp(r,u,w,p);return}}dn.flags|=i,y.memoizedState=Dp(1|r,u,w,p)}function Qx(i,r){return Oy(8390656,8,i,r)}function Ab(i,r){return jy(2048,8,i,r)}function Yx(i,r){return jy(4,2,i,r)}function Jx(i,r){return jy(4,4,i,r)}function Zx(i,r){if(typeof r=="function")return i=i(),r(i),function(){r(null)};if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function eE(i,r,u){return u=u!=null?u.concat([i]):null,jy(4,4,Zx.bind(null,r,i),u)}function Cb(){}function tE(i,r){var u=ss();r=r===void 0?null:r;var p=u.memoizedState;return p!==null&&r!==null&&wb(r,p[1])?p[0]:(u.memoizedState=[i,r],i)}function nE(i,r){var u=ss();r=r===void 0?null:r;var p=u.memoizedState;return p!==null&&r!==null&&wb(r,p[1])?p[0]:(i=i(),u.memoizedState=[i,r],i)}function iE(i,r,u){return hu&21?(cr(u,r)||(u=Pr(),dn.lanes|=u,du|=u,i.baseState=!0),r):(i.baseState&&(i.baseState=!1,dr=!0),i.memoizedState=u)}function zk(i,r){var u=Mt;Mt=u!==0&&4>u?u:4,i(!0);var p=bb.transition;bb.transition={};try{i(!1),r()}finally{Mt=u,bb.transition=p}}function rE(){return ss().memoizedState}function Bk(i,r,u){var p=Il(i);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},sE(i))aE(r,u);else if(u=Cp(i,r,u,p),u!==null){var y=Wi();Fs(u,i,p,y),oE(u,r,p)}}function Uk(i,r,u){var p=Il(i),y={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(sE(i))aE(r,y);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=r.lastRenderedReducer,w!==null))try{var L=r.lastRenderedState,H=w(L,u);if(y.hasEagerState=!0,y.eagerState=H,cr(H,L)){var B=r.interleaved;B===null?(y.next=y,yd(r)):(y.next=B.next,B.next=y),r.interleaved=y;return}}catch{}finally{}u=Cp(i,r,y,p),u!==null&&(y=Wi(),Fs(u,i,p,y),oE(u,r,p))}}function sE(i){var r=i.alternate;return i===dn||r!==null&&r===dn}function aE(i,r){Lp=Fy=!0;var u=i.pending;u===null?r.next=r:(r.next=u.next,u.next=r),i.pending=r}function oE(i,r,u){if(u&4194240){var p=r.lanes;p&=i.pendingLanes,u|=p,r.lanes=u,$c(i,u)}}var Hy={readContext:kn,useCallback:Ti,useContext:Ti,useEffect:Ti,useImperativeHandle:Ti,useInsertionEffect:Ti,useLayoutEffect:Ti,useMemo:Ti,useReducer:Ti,useRef:Ti,useState:Ti,useDebugValue:Ti,useDeferredValue:Ti,useTransition:Ti,useMutableSource:Ti,useSyncExternalStore:Ti,useId:Ti,unstable_isNewReconciler:!1},qk={readContext:kn,useCallback:function(i,r){return Sa().memoizedState=[i,r===void 0?null:r],i},useContext:kn,useEffect:Qx,useImperativeHandle:function(i,r,u){return u=u!=null?u.concat([i]):null,Oy(4194308,4,Zx.bind(null,r,i),u)},useLayoutEffect:function(i,r){return Oy(4194308,4,i,r)},useInsertionEffect:function(i,r){return Oy(4,2,i,r)},useMemo:function(i,r){var u=Sa();return r=r===void 0?null:r,i=i(),u.memoizedState=[i,r],i},useReducer:function(i,r,u){var p=Sa();return r=u!==void 0?u(r):r,p.memoizedState=p.baseState=r,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:r},p.queue=i,i=i.dispatch=Bk.bind(null,dn,i),[p.memoizedState,i]},useRef:function(i){var r=Sa();return i={current:i},r.memoizedState=i},useState:Xx,useDebugValue:Cb,useDeferredValue:function(i){return Sa().memoizedState=i},useTransition:function(){var i=Xx(!1),r=i[0];return i=zk.bind(null,i[1]),Sa().memoizedState=i,[r,i]},useMutableSource:function(){},useSyncExternalStore:function(i,r,u){var p=dn,y=Sa();if(Oe){if(u===void 0)throw Error(t(407));u=u()}else{if(u=r(),ni===null)throw Error(t(349));hu&30||Ux(p,r,u)}y.memoizedState=u;var w={value:u,getSnapshot:r};return y.queue=w,Qx(Wx.bind(null,p,w,i),[i]),p.flags|=2048,Dp(9,qx.bind(null,p,w,u,r),void 0,null),u},useId:function(){var i=Sa(),r=ni.identifierPrefix;if(Oe){var u=oe,p=ie;u=(p&~(1<<32-rr(p)-1)).toString(32)+u,r=":"+r+"R"+u,u=Np++,0<u&&(r+="H"+u.toString(32)),r+=":"}else u=$k++,r=":"+r+"r"+u.toString(32)+":";return i.memoizedState=r},unstable_isNewReconciler:!1},Wk={readContext:kn,useCallback:tE,useContext:kn,useEffect:Ab,useImperativeHandle:eE,useInsertionEffect:Yx,useLayoutEffect:Jx,useMemo:nE,useReducer:Eb,useRef:Kx,useState:function(){return Eb(Mp)},useDebugValue:Cb,useDeferredValue:function(i){var r=ss();return iE(r,Bn.memoizedState,i)},useTransition:function(){var i=Eb(Mp)[0],r=ss().memoizedState;return[i,r]},useMutableSource:zx,useSyncExternalStore:Bx,useId:rE,unstable_isNewReconciler:!1},Vk={readContext:kn,useCallback:tE,useContext:kn,useEffect:Ab,useImperativeHandle:eE,useInsertionEffect:Yx,useLayoutEffect:Jx,useMemo:nE,useReducer:Sb,useRef:Kx,useState:function(){return Sb(Mp)},useDebugValue:Cb,useDeferredValue:function(i){var r=ss();return Bn===null?r.memoizedState=i:iE(r,Bn.memoizedState,i)},useTransition:function(){var i=Sb(Mp)[0],r=ss().memoizedState;return[i,r]},useMutableSource:zx,useSyncExternalStore:Bx,useId:rE,unstable_isNewReconciler:!1};function Ms(i,r){if(i&&i.defaultProps){r=G({},r),i=i.defaultProps;for(var u in i)r[u]===void 0&&(r[u]=i[u]);return r}return r}function kb(i,r,u,p){r=i.memoizedState,u=u(p,r),u=u==null?r:G({},r,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var $y={isMounted:function(i){return(i=i._reactInternals)?wt(i)===i:!1},enqueueSetState:function(i,r,u){i=i._reactInternals;var p=Wi(),y=Il(i),w=Ls(p,y);w.payload=r,u!=null&&(w.callback=u),r=Ns(i,w,y),r!==null&&(Fs(r,i,y,p),bd(r,i,y))},enqueueReplaceState:function(i,r,u){i=i._reactInternals;var p=Wi(),y=Il(i),w=Ls(p,y);w.tag=1,w.payload=r,u!=null&&(w.callback=u),r=Ns(i,w,y),r!==null&&(Fs(r,i,y,p),bd(r,i,y))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var u=Wi(),p=Il(i),y=Ls(u,p);y.tag=2,r!=null&&(y.callback=r),r=Ns(i,y,p),r!==null&&(Fs(r,i,p,u),bd(r,i,p))}};function lE(i,r,u,p,y,w,L){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,w,L):r.prototype&&r.prototype.isPureReactComponent?!lo(u,p)||!lo(y,w):!0}function cE(i,r,u){var p=!1,y=ns,w=r.contextType;return typeof w=="object"&&w!==null?w=kn(w):(y=ki(r)?Ci:Yn.current,p=r.contextTypes,w=(p=p!=null)?Pl(i,y):ns),r=new r(u,w),i.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=$y,i.stateNode=r,r._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=w),r}function uE(i,r,u,p){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(u,p),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(u,p),r.state!==i&&$y.enqueueReplaceState(r,r.state,null)}function Tb(i,r,u,p){var y=i.stateNode;y.props=u,y.state=i.memoizedState,y.refs={},kp(i);var w=r.contextType;typeof w=="object"&&w!==null?y.context=kn(w):(w=ki(r)?Ci:Yn.current,y.context=Pl(i,w)),y.state=i.memoizedState,w=r.getDerivedStateFromProps,typeof w=="function"&&(kb(i,r,w,u),y.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(r=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),r!==y.state&&$y.enqueueReplaceState(y,y.state,null),au(i,u,y,p),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function xd(i,r){try{var u="",p=r;do u+=qe(p),p=p.return;while(p);var y=u}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:r,stack:y,digest:null}}function Pb(i,r,u){return{value:i,source:null,stack:u??null,digest:r??null}}function Rb(i,r){try{console.error(r.value)}catch(u){setTimeout(function(){throw u})}}var Gk=typeof WeakMap=="function"?WeakMap:Map;function hE(i,r,u){u=Ls(-1,u),u.tag=3,u.payload={element:null};var p=r.value;return u.callback=function(){Gy||(Gy=!0,Wb=p),Rb(i,r)},u}function dE(i,r,u){u=Ls(-1,u),u.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var y=r.value;u.payload=function(){return p(y)},u.callback=function(){Rb(i,r)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){Rb(i,r),typeof p!="function"&&(Ml===null?Ml=new Set([this]):Ml.add(this));var L=r.stack;this.componentDidCatch(r.value,{componentStack:L!==null?L:""})}),u}function fE(i,r,u){var p=i.pingCache;if(p===null){p=i.pingCache=new Gk;var y=new Set;p.set(r,y)}else y=p.get(r),y===void 0&&(y=new Set,p.set(r,y));y.has(u)||(y.add(u),i=oT.bind(null,i,r,u),r.then(i,i))}function pE(i){do{var r;if((r=i.tag===13)&&(r=i.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return i;i=i.return}while(i!==null);return null}function mE(i,r,u,p,y){return i.mode&1?(i.flags|=65536,i.lanes=y,i):(i===r?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(r=Ls(-1,1),r.tag=2,Ns(u,r,1))),u.lanes|=1),i)}var Xk=O.ReactCurrentOwner,dr=!1;function qi(i,r,u,p){r.child=i===null?Bi(r,null,u,p):Hn(r,i.child,u,p)}function gE(i,r,u,p,y){u=u.render;var w=r.ref;return zn(r,y),p=_b(i,r,u,p,w,y),u=xb(),i!==null&&!dr?(r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~y,yo(i,r,y)):(Oe&&u&&Fe(r),r.flags|=1,qi(i,r,p,y),r.child)}function yE(i,r,u,p,y){if(i===null){var w=u.type;return typeof w=="function"&&!Jb(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(r.tag=15,r.type=w,vE(i,r,w,p,y)):(i=Zy(u.type,null,p,r,r.mode,y),i.ref=r.ref,i.return=r,r.child=i)}if(w=i.child,!(i.lanes&y)){var L=w.memoizedProps;if(u=u.compare,u=u!==null?u:lo,u(L,p)&&i.ref===r.ref)return yo(i,r,y)}return r.flags|=1,i=Ol(w,p),i.ref=r.ref,i.return=r,r.child=i}function vE(i,r,u,p,y){if(i!==null){var w=i.memoizedProps;if(lo(w,p)&&i.ref===r.ref)if(dr=!1,r.pendingProps=p=w,(i.lanes&y)!==0)i.flags&131072&&(dr=!0);else return r.lanes=i.lanes,yo(i,r,y)}return Lb(i,r,u,p,y)}function bE(i,r,u){var p=r.pendingProps,y=p.children,w=i!==null?i.memoizedState:null;if(p.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Sd,Lr),Lr|=u;else{if(!(u&1073741824))return i=w!==null?w.baseLanes|u:u,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:i,cachePool:null,transitions:null},r.updateQueue=null,Wt(Sd,Lr),Lr|=i,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:u,Wt(Sd,Lr),Lr|=p}else w!==null?(p=w.baseLanes|u,r.memoizedState=null):p=u,Wt(Sd,Lr),Lr|=p;return qi(i,r,y,u),r.child}function wE(i,r){var u=r.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(r.flags|=512,r.flags|=2097152)}function Lb(i,r,u,p,y){var w=ki(u)?Ci:Yn.current;return w=Pl(r,w),zn(r,y),u=_b(i,r,u,p,w,y),p=xb(),i!==null&&!dr?(r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~y,yo(i,r,y)):(Oe&&p&&Fe(r),r.flags|=1,qi(i,r,u,y),r.child)}function _E(i,r,u,p,y){if(ki(u)){var w=!0;gd(r)}else w=!1;if(zn(r,y),r.stateNode===null)By(i,r),cE(r,u,p),Tb(r,u,p,y),p=!0;else if(i===null){var L=r.stateNode,H=r.memoizedProps;L.props=H;var B=L.context,ne=u.contextType;typeof ne=="object"&&ne!==null?ne=kn(ne):(ne=ki(u)?Ci:Yn.current,ne=Pl(r,ne));var he=u.getDerivedStateFromProps,pe=typeof he=="function"||typeof L.getSnapshotBeforeUpdate=="function";pe||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(H!==p||B!==ne)&&uE(r,L,p,ne),_a=!1;var ue=r.memoizedState;L.state=ue,au(r,p,L,y),B=r.memoizedState,H!==p||ue!==B||bn.current||_a?(typeof he=="function"&&(kb(r,u,he,p),B=r.memoizedState),(H=_a||lE(r,u,H,p,ue,B,ne))?(pe||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(r.flags|=4194308)):(typeof L.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=p,r.memoizedState=B),L.props=p,L.state=B,L.context=ne,p=H):(typeof L.componentDidMount=="function"&&(r.flags|=4194308),p=!1)}else{L=r.stateNode,vd(i,r),H=r.memoizedProps,ne=r.type===r.elementType?H:Ms(r.type,H),L.props=ne,pe=r.pendingProps,ue=L.context,B=u.contextType,typeof B=="object"&&B!==null?B=kn(B):(B=ki(u)?Ci:Yn.current,B=Pl(r,B));var Ne=u.getDerivedStateFromProps;(he=typeof Ne=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(H!==pe||ue!==B)&&uE(r,L,p,B),_a=!1,ue=r.memoizedState,L.state=ue,au(r,p,L,y);var Be=r.memoizedState;H!==pe||ue!==Be||bn.current||_a?(typeof Ne=="function"&&(kb(r,u,Ne,p),Be=r.memoizedState),(ne=_a||lE(r,u,ne,p,ue,Be,B)||!1)?(he||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(p,Be,B),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(p,Be,B)),typeof L.componentDidUpdate=="function"&&(r.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof L.componentDidUpdate!="function"||H===i.memoizedProps&&ue===i.memoizedState||(r.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||H===i.memoizedProps&&ue===i.memoizedState||(r.flags|=1024),r.memoizedProps=p,r.memoizedState=Be),L.props=p,L.state=Be,L.context=B,p=ne):(typeof L.componentDidUpdate!="function"||H===i.memoizedProps&&ue===i.memoizedState||(r.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||H===i.memoizedProps&&ue===i.memoizedState||(r.flags|=1024),p=!1)}return Nb(i,r,u,p,w,y)}function Nb(i,r,u,p,y,w){wE(i,r);var L=(r.flags&128)!==0;if(!p&&!L)return y&&Dy(r,u,!1),yo(i,r,w);p=r.stateNode,Xk.current=r;var H=L&&typeof u.getDerivedStateFromError!="function"?null:p.render();return r.flags|=1,i!==null&&L?(r.child=Hn(r,i.child,null,w),r.child=Hn(r,null,H,w)):qi(i,r,H,w),r.memoizedState=p.state,y&&Dy(r,u,!0),r.child}function xE(i){var r=i.stateNode;r.pendingContext?Ny(i,r.pendingContext,r.pendingContext!==r.context):r.context&&Ny(i,r.context,!1),lu(i,r.containerInfo)}function EE(i,r,u,p,y){return Ct(),Dt(y),r.flags|=256,qi(i,r,u,p),r.child}var Mb={dehydrated:null,treeContext:null,retryLane:0};function Db(i){return{baseLanes:i,cachePool:null,transitions:null}}function SE(i,r,u){var p=r.pendingProps,y=rn.current,w=!1,L=(r.flags&128)!==0,H;if((H=L)||(H=i!==null&&i.memoizedState===null?!1:(y&2)!==0),H?(w=!0,r.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),Wt(rn,y&1),i===null)return pt(r),i=r.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(r.mode&1?i.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(L=p.children,i=p.fallback,w?(p=r.mode,w=r.child,L={mode:"hidden",children:L},!(p&1)&&w!==null?(w.childLanes=0,w.pendingProps=L):w=ev(L,p,0,null),i=gu(i,p,u,null),w.return=r,i.return=r,w.sibling=i,r.child=w,r.child.memoizedState=Db(u),r.memoizedState=Mb,i):Ib(r,L));if(y=i.memoizedState,y!==null&&(H=y.dehydrated,H!==null))return Kk(i,r,L,p,H,y,u);if(w){w=p.fallback,L=r.mode,y=i.child,H=y.sibling;var B={mode:"hidden",children:p.children};return!(L&1)&&r.child!==y?(p=r.child,p.childLanes=0,p.pendingProps=B,r.deletions=null):(p=Ol(y,B),p.subtreeFlags=y.subtreeFlags&14680064),H!==null?w=Ol(H,w):(w=gu(w,L,u,null),w.flags|=2),w.return=r,p.return=r,p.sibling=w,r.child=p,p=w,w=r.child,L=i.child.memoizedState,L=L===null?Db(u):{baseLanes:L.baseLanes|u,cachePool:null,transitions:L.transitions},w.memoizedState=L,w.childLanes=i.childLanes&~u,r.memoizedState=Mb,p}return w=i.child,i=w.sibling,p=Ol(w,{mode:"visible",children:p.children}),!(r.mode&1)&&(p.lanes=u),p.return=r,p.sibling=null,i!==null&&(u=r.deletions,u===null?(r.deletions=[i],r.flags|=16):u.push(i)),r.child=p,r.memoizedState=null,p}function Ib(i,r){return r=ev({mode:"visible",children:r},i.mode,0,null),r.return=i,i.child=r}function zy(i,r,u,p){return p!==null&&Dt(p),Hn(r,i.child,null,u),i=Ib(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Kk(i,r,u,p,y,w,L){if(u)return r.flags&256?(r.flags&=-257,p=Pb(Error(t(422))),zy(i,r,L,p)):r.memoizedState!==null?(r.child=i.child,r.flags|=128,null):(w=p.fallback,y=r.mode,p=ev({mode:"visible",children:p.children},y,0,null),w=gu(w,y,L,null),w.flags|=2,p.return=r,w.return=r,p.sibling=w,r.child=p,r.mode&1&&Hn(r,i.child,null,L),r.child.memoizedState=Db(L),r.memoizedState=Mb,w);if(!(r.mode&1))return zy(i,r,L,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var H=p.dgst;return p=H,w=Error(t(419)),p=Pb(w,p,void 0),zy(i,r,L,p)}if(H=(L&i.childLanes)!==0,dr||H){if(p=ni,p!==null){switch(L&-L){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(p.suspendedLanes|L)?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,hr(i,y),Fs(p,i,y,-1))}return Yb(),p=Pb(Error(t(421))),zy(i,r,L,p)}return y.data==="$?"?(r.flags|=128,r.child=i.child,r=lT.bind(null,i),y._reactRetry=r,null):(i=w.treeContext,Ue=ga(y.nextSibling),Je=r,Oe=!0,Qe=null,i!==null&&(M[W++]=ie,M[W++]=oe,M[W++]=X,ie=i.id,oe=i.overflow,X=r),r=Ib(r,p.children),r.flags|=4096,r)}function AE(i,r,u){i.lanes|=r;var p=i.alternate;p!==null&&(p.lanes|=r),$n(i.return,r,u)}function Fb(i,r,u,p,y){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:y}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=u,w.tailMode=y)}function CE(i,r,u){var p=r.pendingProps,y=p.revealOrder,w=p.tail;if(qi(i,r,p.children,u),p=rn.current,p&2)p=p&1|2,r.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&AE(i,u,r);else if(i.tag===19)AE(i,u,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(Wt(rn,p),!(r.mode&1))r.memoizedState=null;else switch(y){case"forwards":for(u=r.child,y=null;u!==null;)i=u.alternate,i!==null&&_d(i)===null&&(y=u),u=u.sibling;u=y,u===null?(y=r.child,r.child=null):(y=u.sibling,u.sibling=null),Fb(r,!1,y,u,w);break;case"backwards":for(u=null,y=r.child,r.child=null;y!==null;){if(i=y.alternate,i!==null&&_d(i)===null){r.child=y;break}i=y.sibling,y.sibling=u,u=y,y=i}Fb(r,!0,u,null,w);break;case"together":Fb(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function By(i,r){!(r.mode&1)&&i!==null&&(i.alternate=null,r.alternate=null,r.flags|=2)}function yo(i,r,u){if(i!==null&&(r.dependencies=i.dependencies),du|=r.lanes,!(u&r.childLanes))return null;if(i!==null&&r.child!==i.child)throw Error(t(153));if(r.child!==null){for(i=r.child,u=Ol(i,i.pendingProps),r.child=u,u.return=r;i.sibling!==null;)i=i.sibling,u=u.sibling=Ol(i,i.pendingProps),u.return=r;u.sibling=null}return r.child}function Qk(i,r,u){switch(r.tag){case 3:xE(r),Ct();break;case 5:Pp(r);break;case 1:ki(r.type)&&gd(r);break;case 4:lu(r,r.stateNode.containerInfo);break;case 10:var p=r.type._context,y=r.memoizedProps.value;Wt(en,p._currentValue),p._currentValue=y;break;case 13:if(p=r.memoizedState,p!==null)return p.dehydrated!==null?(Wt(rn,rn.current&1),r.flags|=128,null):u&r.child.childLanes?SE(i,r,u):(Wt(rn,rn.current&1),i=yo(i,r,u),i!==null?i.sibling:null);Wt(rn,rn.current&1);break;case 19:if(p=(u&r.childLanes)!==0,i.flags&128){if(p)return CE(i,r,u);r.flags|=128}if(y=r.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Wt(rn,rn.current),p)break;return null;case 22:case 23:return r.lanes=0,bE(i,r,u)}return yo(i,r,u)}var kE,Ob,TE,PE;kE=function(i,r){for(var u=r.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===r)break;for(;u.sibling===null;){if(u.return===null||u.return===r)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Ob=function(){},TE=function(i,r,u,p){var y=i.memoizedProps;if(y!==p){i=r.stateNode,Ea(ei.current);var w=null;switch(u){case"input":y=Ke(i,y),p=Ke(i,p),w=[];break;case"select":y=G({},y,{value:void 0}),p=G({},p,{value:void 0}),w=[];break;case"textarea":y=Ar(i,y),p=Ar(i,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=dd)}oa(u,p);var L;u=null;for(ne in y)if(!p.hasOwnProperty(ne)&&y.hasOwnProperty(ne)&&y[ne]!=null)if(ne==="style"){var H=y[ne];for(L in H)H.hasOwnProperty(L)&&(u||(u={}),u[L]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(s.hasOwnProperty(ne)?w||(w=[]):(w=w||[]).push(ne,null));for(ne in p){var B=p[ne];if(H=y!=null?y[ne]:void 0,p.hasOwnProperty(ne)&&B!==H&&(B!=null||H!=null))if(ne==="style")if(H){for(L in H)!H.hasOwnProperty(L)||B&&B.hasOwnProperty(L)||(u||(u={}),u[L]="");for(L in B)B.hasOwnProperty(L)&&H[L]!==B[L]&&(u||(u={}),u[L]=B[L])}else u||(w||(w=[]),w.push(ne,u)),u=B;else ne==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,H=H?H.__html:void 0,B!=null&&H!==B&&(w=w||[]).push(ne,B)):ne==="children"?typeof B!="string"&&typeof B!="number"||(w=w||[]).push(ne,""+B):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(s.hasOwnProperty(ne)?(B!=null&&ne==="onScroll"&&Qt("scroll",i),w||H===B||(w=[])):(w=w||[]).push(ne,B))}u&&(w=w||[]).push("style",u);var ne=w;(r.updateQueue=ne)&&(r.flags|=4)}},PE=function(i,r,u,p){u!==p&&(r.flags|=4)};function Ip(i,r){if(!Oe)switch(i.tailMode){case"hidden":r=i.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Pi(i){var r=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(r)for(var y=i.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=p,i.childLanes=u,r}function Yk(i,r,u){var p=r.pendingProps;switch(Ce(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pi(r),null;case 1:return ki(r.type)&&md(),Pi(r),null;case 3:return p=r.stateNode,go(),qt(bn),qt(Yn),cu(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(lt(r)?r.flags|=4:i===null||i.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Qe!==null&&(Xb(Qe),Qe=null))),Ob(i,r),Pi(r),null;case 5:wd(r);var y=Ea(Ll.current);if(u=r.type,i!==null&&r.stateNode!=null)TE(i,r,u,p,y),i.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!p){if(r.stateNode===null)throw Error(t(166));return Pi(r),null}if(i=Ea(ei.current),lt(r)){p=r.stateNode,u=r.type;var w=r.memoizedProps;switch(p[es]=r,p[iu]=w,i=(r.mode&1)!==0,u){case"dialog":Qt("cancel",p),Qt("close",p);break;case"iframe":case"object":case"embed":Qt("load",p);break;case"video":case"audio":for(y=0;y<Yc.length;y++)Qt(Yc[y],p);break;case"source":Qt("error",p);break;case"img":case"image":case"link":Qt("error",p),Qt("load",p);break;case"details":Qt("toggle",p);break;case"input":nt(p,w),Qt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},Qt("invalid",p);break;case"textarea":eo(p,w),Qt("invalid",p)}oa(u,w),y=null;for(var L in w)if(w.hasOwnProperty(L)){var H=w[L];L==="children"?typeof H=="string"?p.textContent!==H&&(w.suppressHydrationWarning!==!0&&eu(p.textContent,H,i),y=["children",H]):typeof H=="number"&&p.textContent!==""+H&&(w.suppressHydrationWarning!==!0&&eu(p.textContent,H,i),y=["children",""+H]):s.hasOwnProperty(L)&&H!=null&&L==="onScroll"&&Qt("scroll",p)}switch(u){case"input":be(p),Wr(p,w,!0);break;case"textarea":be(p),yn(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=dd)}p=y,r.updateQueue=p,p!==null&&(r.flags|=4)}else{L=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=fi(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=L.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=L.createElement(u,{is:p.is}):(i=L.createElement(u),u==="select"&&(L=i,p.multiple?L.multiple=!0:p.size&&(L.size=p.size))):i=L.createElementNS(i,u),i[es]=r,i[iu]=p,kE(i,r,!1,!1),r.stateNode=i;e:{switch(L=ll(u,p),u){case"dialog":Qt("cancel",i),Qt("close",i),y=p;break;case"iframe":case"object":case"embed":Qt("load",i),y=p;break;case"video":case"audio":for(y=0;y<Yc.length;y++)Qt(Yc[y],i);y=p;break;case"source":Qt("error",i),y=p;break;case"img":case"image":case"link":Qt("error",i),Qt("load",i),y=p;break;case"details":Qt("toggle",i),y=p;break;case"input":nt(i,p),y=Ke(i,p),Qt("invalid",i);break;case"option":y=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},y=G({},p,{value:void 0}),Qt("invalid",i);break;case"textarea":eo(i,p),y=Ar(i,p),Qt("invalid",i);break;default:y=p}oa(u,y),H=y;for(w in H)if(H.hasOwnProperty(w)){var B=H[w];w==="style"?Uh(i,B):w==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Si(i,B)):w==="children"?typeof B=="string"?(u!=="textarea"||B!=="")&&un(i,B):typeof B=="number"&&un(i,""+B):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?B!=null&&w==="onScroll"&&Qt("scroll",i):B!=null&&j(i,w,B,L))}switch(u){case"input":be(i),Wr(i,p,!1);break;case"textarea":be(i),yn(i);break;case"option":p.value!=null&&i.setAttribute("value",""+de(p.value));break;case"select":i.multiple=!!p.multiple,w=p.value,w!=null?An(i,!!p.multiple,w,!1):p.defaultValue!=null&&An(i,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=dd)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Pi(r),null;case 6:if(i&&r.stateNode!=null)PE(i,r,i.memoizedProps,p);else{if(typeof p!="string"&&r.stateNode===null)throw Error(t(166));if(u=Ea(Ll.current),Ea(ei.current),lt(r)){if(p=r.stateNode,u=r.memoizedProps,p[es]=r,(w=p.nodeValue!==u)&&(i=Je,i!==null))switch(i.tag){case 3:eu(p.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&eu(p.nodeValue,u,(i.mode&1)!==0)}w&&(r.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[es]=r,r.stateNode=p}return Pi(r),null;case 13:if(qt(rn),p=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Oe&&Ue!==null&&r.mode&1&&!(r.flags&128))_t(),Ct(),r.flags|=98560,w=!1;else if(w=lt(r),p!==null&&p.dehydrated!==null){if(i===null){if(!w)throw Error(t(318));if(w=r.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[es]=r}else Ct(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Pi(r),w=!1}else Qe!==null&&(Xb(Qe),Qe=null),w=!0;if(!w)return r.flags&65536?r:null}return r.flags&128?(r.lanes=u,r):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(r.child.flags|=8192,r.mode&1&&(i===null||rn.current&1?Un===0&&(Un=3):Yb())),r.updateQueue!==null&&(r.flags|=4),Pi(r),null);case 4:return go(),Ob(i,r),i===null&&ho(r.stateNode.containerInfo),Pi(r),null;case 10:return jt(r.type._context),Pi(r),null;case 17:return ki(r.type)&&md(),Pi(r),null;case 19:if(qt(rn),w=r.memoizedState,w===null)return Pi(r),null;if(p=(r.flags&128)!==0,L=w.rendering,L===null)if(p)Ip(w,!1);else{if(Un!==0||i!==null&&i.flags&128)for(i=r.child;i!==null;){if(L=_d(i),L!==null){for(r.flags|=128,Ip(w,!1),p=L.updateQueue,p!==null&&(r.updateQueue=p,r.flags|=4),r.subtreeFlags=0,p=u,u=r.child;u!==null;)w=u,i=p,w.flags&=14680066,L=w.alternate,L===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=L.childLanes,w.lanes=L.lanes,w.child=L.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=L.memoizedProps,w.memoizedState=L.memoizedState,w.updateQueue=L.updateQueue,w.type=L.type,i=L.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Wt(rn,rn.current&1|2),r.child}i=i.sibling}w.tail!==null&&$t()>Ad&&(r.flags|=128,p=!0,Ip(w,!1),r.lanes=4194304)}else{if(!p)if(i=_d(L),i!==null){if(r.flags|=128,p=!0,u=i.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),Ip(w,!0),w.tail===null&&w.tailMode==="hidden"&&!L.alternate&&!Oe)return Pi(r),null}else 2*$t()-w.renderingStartTime>Ad&&u!==1073741824&&(r.flags|=128,p=!0,Ip(w,!1),r.lanes=4194304);w.isBackwards?(L.sibling=r.child,r.child=L):(u=w.last,u!==null?u.sibling=L:r.child=L,w.last=L)}return w.tail!==null?(r=w.tail,w.rendering=r,w.tail=r.sibling,w.renderingStartTime=$t(),r.sibling=null,u=rn.current,Wt(rn,p?u&1|2:u&1),r):(Pi(r),null);case 22:case 23:return Qb(),p=r.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(r.flags|=8192),p&&r.mode&1?Lr&1073741824&&(Pi(r),r.subtreeFlags&6&&(r.flags|=8192)):Pi(r),null;case 24:return null;case 25:return null}throw Error(t(156,r.tag))}function Jk(i,r){switch(Ce(r),r.tag){case 1:return ki(r.type)&&md(),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return go(),qt(bn),qt(Yn),cu(),i=r.flags,i&65536&&!(i&128)?(r.flags=i&-65537|128,r):null;case 5:return wd(r),null;case 13:if(qt(rn),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(t(340));Ct()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return qt(rn),null;case 4:return go(),null;case 10:return jt(r.type._context),null;case 22:case 23:return Qb(),null;case 24:return null;default:return null}}var Uy=!1,Ri=!1,Zk=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Ed(i,r){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){_n(i,r,p)}else u.current=null}function jb(i,r,u){try{u()}catch(p){_n(i,r,p)}}var RE=!1;function eT(i,r){if(ma=vl,i=Yr(),rd(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var L=0,H=-1,B=-1,ne=0,he=0,pe=i,ue=null;t:for(;;){for(var Ne;pe!==u||y!==0&&pe.nodeType!==3||(H=L+y),pe!==w||p!==0&&pe.nodeType!==3||(B=L+p),pe.nodeType===3&&(L+=pe.nodeValue.length),(Ne=pe.firstChild)!==null;)ue=pe,pe=Ne;for(;;){if(pe===i)break t;if(ue===u&&++ne===y&&(H=L),ue===w&&++he===p&&(B=L),(Ne=pe.nextSibling)!==null)break;pe=ue,ue=pe.parentNode}pe=Ne}u=H===-1||B===-1?null:{start:H,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(tu={focusedElem:i,selectionRange:u},vl=!1,ze=r;ze!==null;)if(r=ze,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,ze=i;else for(;ze!==null;){r=ze;try{var Be=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var Ve=Be.memoizedProps,Tn=Be.memoizedState,Z=r.stateNode,V=Z.getSnapshotBeforeUpdate(r.elementType===r.type?Ve:Ms(r.type,Ve),Tn);Z.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var ee=r.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ve){_n(r,r.return,ve)}if(i=r.sibling,i!==null){i.return=r.return,ze=i;break}ze=r.return}return Be=RE,RE=!1,Be}function Fp(i,r,u){var p=r.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&i)===i){var w=y.destroy;y.destroy=void 0,w!==void 0&&jb(r,u,w)}y=y.next}while(y!==p)}}function qy(i,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var u=r=r.next;do{if((u.tag&i)===i){var p=u.create;u.destroy=p()}u=u.next}while(u!==r)}}function Hb(i){var r=i.ref;if(r!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof r=="function"?r(i):r.current=i}}function LE(i){var r=i.alternate;r!==null&&(i.alternate=null,LE(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&(delete r[es],delete r[iu],delete r[Ap],delete r[Ly],delete r[yb])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function NE(i){return i.tag===5||i.tag===3||i.tag===4}function ME(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||NE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function $b(i,r,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,r?u.nodeType===8?u.parentNode.insertBefore(i,r):u.insertBefore(i,r):(u.nodeType===8?(r=u.parentNode,r.insertBefore(i,u)):(r=u,r.appendChild(i)),u=u._reactRootContainer,u!=null||r.onclick!==null||(r.onclick=dd));else if(p!==4&&(i=i.child,i!==null))for($b(i,r,u),i=i.sibling;i!==null;)$b(i,r,u),i=i.sibling}function zb(i,r,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,r?u.insertBefore(i,r):u.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(zb(i,r,u),i=i.sibling;i!==null;)zb(i,r,u),i=i.sibling}var yi=null,Ds=!1;function Nl(i,r,u){for(u=u.child;u!==null;)DE(i,r,u),u=u.sibling}function DE(i,r,u){if(Ai&&typeof Ai.onCommitFiberUnmount=="function")try{Ai.onCommitFiberUnmount(ir,u)}catch{}switch(u.tag){case 5:Ri||Ed(u,r);case 6:var p=yi,y=Ds;yi=null,Nl(i,r,u),yi=p,Ds=y,yi!==null&&(Ds?(i=yi,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):yi.removeChild(u.stateNode));break;case 18:yi!==null&&(Ds?(i=yi,u=u.stateNode,i.nodeType===8?Sp(i.parentNode,u):i.nodeType===1&&Sp(i,u),yl(i)):Sp(yi,u.stateNode));break;case 4:p=yi,y=Ds,yi=u.stateNode.containerInfo,Ds=!0,Nl(i,r,u),yi=p,Ds=y;break;case 0:case 11:case 14:case 15:if(!Ri&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,L=w.destroy;w=w.tag,L!==void 0&&(w&2||w&4)&&jb(u,r,L),y=y.next}while(y!==p)}Nl(i,r,u);break;case 1:if(!Ri&&(Ed(u,r),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(H){_n(u,r,H)}Nl(i,r,u);break;case 21:Nl(i,r,u);break;case 22:u.mode&1?(Ri=(p=Ri)||u.memoizedState!==null,Nl(i,r,u),Ri=p):Nl(i,r,u);break;default:Nl(i,r,u)}}function IE(i){var r=i.updateQueue;if(r!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Zk),r.forEach(function(p){var y=cT.bind(null,i,p);u.has(p)||(u.add(p),p.then(y,y))})}}function Is(i,r){var u=r.deletions;if(u!==null)for(var p=0;p<u.length;p++){var y=u[p];try{var w=i,L=r,H=L;e:for(;H!==null;){switch(H.tag){case 5:yi=H.stateNode,Ds=!1;break e;case 3:yi=H.stateNode.containerInfo,Ds=!0;break e;case 4:yi=H.stateNode.containerInfo,Ds=!0;break e}H=H.return}if(yi===null)throw Error(t(160));DE(w,L,y),yi=null,Ds=!1;var B=y.alternate;B!==null&&(B.return=null),y.return=null}catch(ne){_n(y,r,ne)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)FE(r,i),r=r.sibling}function FE(i,r){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Is(r,i),Aa(i),p&4){try{Fp(3,i,i.return),qy(3,i)}catch(Ve){_n(i,i.return,Ve)}try{Fp(5,i,i.return)}catch(Ve){_n(i,i.return,Ve)}}break;case 1:Is(r,i),Aa(i),p&512&&u!==null&&Ed(u,u.return);break;case 5:if(Is(r,i),Aa(i),p&512&&u!==null&&Ed(u,u.return),i.flags&32){var y=i.stateNode;try{un(y,"")}catch(Ve){_n(i,i.return,Ve)}}if(p&4&&(y=i.stateNode,y!=null)){var w=i.memoizedProps,L=u!==null?u.memoizedProps:w,H=i.type,B=i.updateQueue;if(i.updateQueue=null,B!==null)try{H==="input"&&w.type==="radio"&&w.name!=null&&St(y,w),ll(H,L);var ne=ll(H,w);for(L=0;L<B.length;L+=2){var he=B[L],pe=B[L+1];he==="style"?Uh(y,pe):he==="dangerouslySetInnerHTML"?Si(y,pe):he==="children"?un(y,pe):j(y,he,pe,ne)}switch(H){case"input":er(y,w);break;case"textarea":Cr(y,w);break;case"select":var ue=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var Ne=w.value;Ne!=null?An(y,!!w.multiple,Ne,!1):ue!==!!w.multiple&&(w.defaultValue!=null?An(y,!!w.multiple,w.defaultValue,!0):An(y,!!w.multiple,w.multiple?[]:"",!1))}y[iu]=w}catch(Ve){_n(i,i.return,Ve)}}break;case 6:if(Is(r,i),Aa(i),p&4){if(i.stateNode===null)throw Error(t(162));y=i.stateNode,w=i.memoizedProps;try{y.nodeValue=w}catch(Ve){_n(i,i.return,Ve)}}break;case 3:if(Is(r,i),Aa(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{yl(r.containerInfo)}catch(Ve){_n(i,i.return,Ve)}break;case 4:Is(r,i),Aa(i);break;case 13:Is(r,i),Aa(i),y=i.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(qb=$t())),p&4&&IE(i);break;case 22:if(he=u!==null&&u.memoizedState!==null,i.mode&1?(Ri=(ne=Ri)||he,Is(r,i),Ri=ne):Is(r,i),Aa(i),p&8192){if(ne=i.memoizedState!==null,(i.stateNode.isHidden=ne)&&!he&&i.mode&1)for(ze=i,he=i.child;he!==null;){for(pe=ze=he;ze!==null;){switch(ue=ze,Ne=ue.child,ue.tag){case 0:case 11:case 14:case 15:Fp(4,ue,ue.return);break;case 1:Ed(ue,ue.return);var Be=ue.stateNode;if(typeof Be.componentWillUnmount=="function"){p=ue,u=ue.return;try{r=p,Be.props=r.memoizedProps,Be.state=r.memoizedState,Be.componentWillUnmount()}catch(Ve){_n(p,u,Ve)}}break;case 5:Ed(ue,ue.return);break;case 22:if(ue.memoizedState!==null){HE(pe);continue}}Ne!==null?(Ne.return=ue,ze=Ne):HE(pe)}he=he.sibling}e:for(he=null,pe=i;;){if(pe.tag===5){if(he===null){he=pe;try{y=pe.stateNode,ne?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(H=pe.stateNode,B=pe.memoizedProps.style,L=B!=null&&B.hasOwnProperty("display")?B.display:null,H.style.display=Oc("display",L))}catch(Ve){_n(i,i.return,Ve)}}}else if(pe.tag===6){if(he===null)try{pe.stateNode.nodeValue=ne?"":pe.memoizedProps}catch(Ve){_n(i,i.return,Ve)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===i)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===i)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===i)break e;he===pe&&(he=null),pe=pe.return}he===pe&&(he=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:Is(r,i),Aa(i),p&4&&IE(i);break;case 21:break;default:Is(r,i),Aa(i)}}function Aa(i){var r=i.flags;if(r&2){try{e:{for(var u=i.return;u!==null;){if(NE(u)){var p=u;break e}u=u.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(un(y,""),p.flags&=-33);var w=ME(i);zb(i,w,y);break;case 3:case 4:var L=p.stateNode.containerInfo,H=ME(i);$b(i,H,L);break;default:throw Error(t(161))}}catch(B){_n(i,i.return,B)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function tT(i,r,u){ze=i,OE(i)}function OE(i,r,u){for(var p=(i.mode&1)!==0;ze!==null;){var y=ze,w=y.child;if(y.tag===22&&p){var L=y.memoizedState!==null||Uy;if(!L){var H=y.alternate,B=H!==null&&H.memoizedState!==null||Ri;H=Uy;var ne=Ri;if(Uy=L,(Ri=B)&&!ne)for(ze=y;ze!==null;)L=ze,B=L.child,L.tag===22&&L.memoizedState!==null?$E(y):B!==null?(B.return=L,ze=B):$E(y);for(;w!==null;)ze=w,OE(w),w=w.sibling;ze=y,Uy=H,Ri=ne}jE(i)}else y.subtreeFlags&8772&&w!==null?(w.return=y,ze=w):jE(i)}}function jE(i){for(;ze!==null;){var r=ze;if(r.flags&8772){var u=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Ri||qy(5,r);break;case 1:var p=r.stateNode;if(r.flags&4&&!Ri)if(u===null)p.componentDidMount();else{var y=r.elementType===r.type?u.memoizedProps:Ms(r.type,u.memoizedProps);p.componentDidUpdate(y,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=r.updateQueue;w!==null&&Iy(r,w,p);break;case 3:var L=r.updateQueue;if(L!==null){if(u=null,r.child!==null)switch(r.child.tag){case 5:u=r.child.stateNode;break;case 1:u=r.child.stateNode}Iy(r,L,u)}break;case 5:var H=r.stateNode;if(u===null&&r.flags&4){u=H;var B=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&u.focus();break;case"img":B.src&&(u.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var ne=r.alternate;if(ne!==null){var he=ne.memoizedState;if(he!==null){var pe=he.dehydrated;pe!==null&&yl(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ri||r.flags&512&&Hb(r)}catch(ue){_n(r,r.return,ue)}}if(r===i){ze=null;break}if(u=r.sibling,u!==null){u.return=r.return,ze=u;break}ze=r.return}}function HE(i){for(;ze!==null;){var r=ze;if(r===i){ze=null;break}var u=r.sibling;if(u!==null){u.return=r.return,ze=u;break}ze=r.return}}function $E(i){for(;ze!==null;){var r=ze;try{switch(r.tag){case 0:case 11:case 15:var u=r.return;try{qy(4,r)}catch(B){_n(r,u,B)}break;case 1:var p=r.stateNode;if(typeof p.componentDidMount=="function"){var y=r.return;try{p.componentDidMount()}catch(B){_n(r,y,B)}}var w=r.return;try{Hb(r)}catch(B){_n(r,w,B)}break;case 5:var L=r.return;try{Hb(r)}catch(B){_n(r,L,B)}}}catch(B){_n(r,r.return,B)}if(r===i){ze=null;break}var H=r.sibling;if(H!==null){H.return=r.return,ze=H;break}ze=r.return}}var nT=Math.ceil,Wy=O.ReactCurrentDispatcher,Bb=O.ReactCurrentOwner,as=O.ReactCurrentBatchConfig,Nt=0,ni=null,Mn=null,vi=0,Lr=0,Sd=Ps(0),Un=0,Op=null,du=0,Vy=0,Ub=0,jp=null,fr=null,qb=0,Ad=1/0,vo=null,Gy=!1,Wb=null,Ml=null,Xy=!1,Dl=null,Ky=0,Hp=0,Vb=null,Qy=-1,Yy=0;function Wi(){return Nt&6?$t():Qy!==-1?Qy:Qy=$t()}function Il(i){return i.mode&1?Nt&2&&vi!==0?vi&-vi:Ot.transition!==null?(Yy===0&&(Yy=Pr()),Yy):(i=Mt,i!==0||(i=window.event,i=i===void 0?16:op(i.type)),i):1}function Fs(i,r,u,p){if(50<Hp)throw Hp=0,Vb=null,Error(t(185));ca(i,u,p),(!(Nt&2)||i!==ni)&&(i===ni&&(!(Nt&2)&&(Vy|=u),Un===4&&Fl(i,vi)),pr(i,p),u===1&&Nt===0&&!(r.mode&1)&&(Ad=$t()+500,ru&&ba()))}function pr(i,r){var u=i.callbackNode;rp(i,r);var p=Xr(i,i===ni?vi:0);if(p===0)u!==null&&tr(u),i.callbackNode=null,i.callbackPriority=0;else if(r=p&-p,i.callbackPriority!==r){if(u!=null&&tr(u),r===1)i.tag===0?vb(BE.bind(null,i)):su(BE.bind(null,i)),nu(function(){!(Nt&6)&&ba()}),u=null;else{switch(ro(p)){case 1:u=Lt;break;case 4:u=hn;break;case 16:u=Tr;break;case 536870912:u=nn;break;default:u=Tr}u=QE(u,zE.bind(null,i))}i.callbackPriority=r,i.callbackNode=u}}function zE(i,r){if(Qy=-1,Yy=0,Nt&6)throw Error(t(327));var u=i.callbackNode;if(Cd()&&i.callbackNode!==u)return null;var p=Xr(i,i===ni?vi:0);if(p===0)return null;if(p&30||p&i.expiredLanes||r)r=Jy(i,p);else{r=p;var y=Nt;Nt|=2;var w=qE();(ni!==i||vi!==r)&&(vo=null,Ad=$t()+500,pu(i,r));do try{sT();break}catch(H){UE(i,H)}while(!0);wn(),Wy.current=w,Nt=y,Mn!==null?r=0:(ni=null,vi=0,r=Un)}if(r!==0){if(r===2&&(y=Hc(i),y!==0&&(p=y,r=Gb(i,y))),r===1)throw u=Op,pu(i,0),Fl(i,p),pr(i,$t()),u;if(r===6)Fl(i,p);else{if(y=i.current.alternate,!(p&30)&&!iT(y)&&(r=Jy(i,p),r===2&&(w=Hc(i),w!==0&&(p=w,r=Gb(i,w))),r===1))throw u=Op,pu(i,0),Fl(i,p),pr(i,$t()),u;switch(i.finishedWork=y,i.finishedLanes=p,r){case 0:case 1:throw Error(t(345));case 2:mu(i,fr,vo);break;case 3:if(Fl(i,p),(p&130023424)===p&&(r=qb+500-$t(),10<r)){if(Xr(i,0)!==0)break;if(y=i.suspendedLanes,(y&p)!==p){Wi(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=Ep(mu.bind(null,i,fr,vo),r);break}mu(i,fr,vo);break;case 4:if(Fl(i,p),(p&4194240)===p)break;for(r=i.eventTimes,y=-1;0<p;){var L=31-rr(p);w=1<<L,L=r[L],L>y&&(y=L),p&=~w}if(p=y,p=$t()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*nT(p/1960))-p,10<p){i.timeoutHandle=Ep(mu.bind(null,i,fr,vo),p);break}mu(i,fr,vo);break;case 5:mu(i,fr,vo);break;default:throw Error(t(329))}}}return pr(i,$t()),i.callbackNode===u?zE.bind(null,i):null}function Gb(i,r){var u=jp;return i.current.memoizedState.isDehydrated&&(pu(i,r).flags|=256),i=Jy(i,r),i!==2&&(r=fr,fr=u,r!==null&&Xb(r)),i}function Xb(i){fr===null?fr=i:fr.push.apply(fr,i)}function iT(i){for(var r=i;;){if(r.flags&16384){var u=r.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var y=u[p],w=y.getSnapshot;y=y.value;try{if(!cr(w(),y))return!1}catch{return!1}}}if(u=r.child,r.subtreeFlags&16384&&u!==null)u.return=r,r=u;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fl(i,r){for(r&=~Ub,r&=~Vy,i.suspendedLanes|=r,i.pingedLanes&=~r,i=i.expirationTimes;0<r;){var u=31-rr(r),p=1<<u;i[u]=-1,r&=~p}}function BE(i){if(Nt&6)throw Error(t(327));Cd();var r=Xr(i,0);if(!(r&1))return pr(i,$t()),null;var u=Jy(i,r);if(i.tag!==0&&u===2){var p=Hc(i);p!==0&&(r=p,u=Gb(i,p))}if(u===1)throw u=Op,pu(i,0),Fl(i,r),pr(i,$t()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=r,mu(i,fr,vo),pr(i,$t()),null}function Kb(i,r){var u=Nt;Nt|=1;try{return i(r)}finally{Nt=u,Nt===0&&(Ad=$t()+500,ru&&ba())}}function fu(i){Dl!==null&&Dl.tag===0&&!(Nt&6)&&Cd();var r=Nt;Nt|=1;var u=as.transition,p=Mt;try{if(as.transition=null,Mt=1,i)return i()}finally{Mt=p,as.transition=u,Nt=r,!(Nt&6)&&ba()}}function Qb(){Lr=Sd.current,qt(Sd)}function pu(i,r){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,gb(u)),Mn!==null)for(u=Mn.return;u!==null;){var p=u;switch(Ce(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&md();break;case 3:go(),qt(bn),qt(Yn),cu();break;case 5:wd(p);break;case 4:go();break;case 13:qt(rn);break;case 19:qt(rn);break;case 10:jt(p.type._context);break;case 22:case 23:Qb()}u=u.return}if(ni=i,Mn=i=Ol(i.current,null),vi=Lr=r,Un=0,Op=null,Ub=Vy=du=0,fr=jp=null,rs!==null){for(r=0;r<rs.length;r++)if(u=rs[r],p=u.interleaved,p!==null){u.interleaved=null;var y=p.next,w=u.pending;if(w!==null){var L=w.next;w.next=y,p.next=L}u.pending=p}rs=null}return i}function UE(i,r){do{var u=Mn;try{if(wn(),uu.current=Hy,Fy){for(var p=dn.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}Fy=!1}if(hu=0,ti=Bn=dn=null,Lp=!1,Np=0,Bb.current=null,u===null||u.return===null){Un=1,Op=r,Mn=null;break}e:{var w=i,L=u.return,H=u,B=r;if(r=vi,H.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var ne=B,he=H,pe=he.tag;if(!(he.mode&1)&&(pe===0||pe===11||pe===15)){var ue=he.alternate;ue?(he.updateQueue=ue.updateQueue,he.memoizedState=ue.memoizedState,he.lanes=ue.lanes):(he.updateQueue=null,he.memoizedState=null)}var Ne=pE(L);if(Ne!==null){Ne.flags&=-257,mE(Ne,L,H,w,r),Ne.mode&1&&fE(w,ne,r),r=Ne,B=ne;var Be=r.updateQueue;if(Be===null){var Ve=new Set;Ve.add(B),r.updateQueue=Ve}else Be.add(B);break e}else{if(!(r&1)){fE(w,ne,r),Yb();break e}B=Error(t(426))}}else if(Oe&&H.mode&1){var Tn=pE(L);if(Tn!==null){!(Tn.flags&65536)&&(Tn.flags|=256),mE(Tn,L,H,w,r),Dt(xd(B,H));break e}}w=B=xd(B,H),Un!==4&&(Un=2),jp===null?jp=[w]:jp.push(w),w=L;do{switch(w.tag){case 3:w.flags|=65536,r&=-r,w.lanes|=r;var Z=hE(w,B,r);Tp(w,Z);break e;case 1:H=B;var V=w.type,ee=w.stateNode;if(!(w.flags&128)&&(typeof V.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(Ml===null||!Ml.has(ee)))){w.flags|=65536,r&=-r,w.lanes|=r;var ve=dE(w,H,r);Tp(w,ve);break e}}w=w.return}while(w!==null)}VE(u)}catch(Xe){r=Xe,Mn===u&&u!==null&&(Mn=u=u.return);continue}break}while(!0)}function qE(){var i=Wy.current;return Wy.current=Hy,i===null?Hy:i}function Yb(){(Un===0||Un===3||Un===2)&&(Un=4),ni===null||!(du&268435455)&&!(Vy&268435455)||Fl(ni,vi)}function Jy(i,r){var u=Nt;Nt|=2;var p=qE();(ni!==i||vi!==r)&&(vo=null,pu(i,r));do try{rT();break}catch(y){UE(i,y)}while(!0);if(wn(),Nt=u,Wy.current=p,Mn!==null)throw Error(t(261));return ni=null,vi=0,Un}function rT(){for(;Mn!==null;)WE(Mn)}function sT(){for(;Mn!==null&&!nr();)WE(Mn)}function WE(i){var r=KE(i.alternate,i,Lr);i.memoizedProps=i.pendingProps,r===null?VE(i):Mn=r,Bb.current=null}function VE(i){var r=i;do{var u=r.alternate;if(i=r.return,r.flags&32768){if(u=Jk(u,r),u!==null){u.flags&=32767,Mn=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Un=6,Mn=null;return}}else if(u=Yk(u,r,Lr),u!==null){Mn=u;return}if(r=r.sibling,r!==null){Mn=r;return}Mn=r=i}while(r!==null);Un===0&&(Un=5)}function mu(i,r,u){var p=Mt,y=as.transition;try{as.transition=null,Mt=1,aT(i,r,u,p)}finally{as.transition=y,Mt=p}return null}function aT(i,r,u,p){do Cd();while(Dl!==null);if(Nt&6)throw Error(t(327));u=i.finishedWork;var y=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var w=u.lanes|u.childLanes;if(ul(i,w),i===ni&&(Mn=ni=null,vi=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Xy||(Xy=!0,QE(Tr,function(){return Cd(),null})),w=(u.flags&15990)!==0,u.subtreeFlags&15990||w){w=as.transition,as.transition=null;var L=Mt;Mt=1;var H=Nt;Nt|=4,Bb.current=null,eT(i,u),FE(u,i),db(tu),vl=!!ma,tu=ma=null,i.current=u,tT(u),Gr(),Nt=H,Mt=L,as.transition=w}else i.current=u;if(Xy&&(Xy=!1,Dl=i,Ky=y),w=i.pendingLanes,w===0&&(Ml=null),Gh(u.stateNode),pr(i,$t()),r!==null)for(p=i.onRecoverableError,u=0;u<r.length;u++)y=r[u],p(y.value,{componentStack:y.stack,digest:y.digest});if(Gy)throw Gy=!1,i=Wb,Wb=null,i;return Ky&1&&i.tag!==0&&Cd(),w=i.pendingLanes,w&1?i===Vb?Hp++:(Hp=0,Vb=i):Hp=0,ba(),null}function Cd(){if(Dl!==null){var i=ro(Ky),r=as.transition,u=Mt;try{if(as.transition=null,Mt=16>i?16:i,Dl===null)var p=!1;else{if(i=Dl,Dl=null,Ky=0,Nt&6)throw Error(t(331));var y=Nt;for(Nt|=4,ze=i.current;ze!==null;){var w=ze,L=w.child;if(ze.flags&16){var H=w.deletions;if(H!==null){for(var B=0;B<H.length;B++){var ne=H[B];for(ze=ne;ze!==null;){var he=ze;switch(he.tag){case 0:case 11:case 15:Fp(8,he,w)}var pe=he.child;if(pe!==null)pe.return=he,ze=pe;else for(;ze!==null;){he=ze;var ue=he.sibling,Ne=he.return;if(LE(he),he===ne){ze=null;break}if(ue!==null){ue.return=Ne,ze=ue;break}ze=Ne}}}var Be=w.alternate;if(Be!==null){var Ve=Be.child;if(Ve!==null){Be.child=null;do{var Tn=Ve.sibling;Ve.sibling=null,Ve=Tn}while(Ve!==null)}}ze=w}}if(w.subtreeFlags&2064&&L!==null)L.return=w,ze=L;else e:for(;ze!==null;){if(w=ze,w.flags&2048)switch(w.tag){case 0:case 11:case 15:Fp(9,w,w.return)}var Z=w.sibling;if(Z!==null){Z.return=w.return,ze=Z;break e}ze=w.return}}var V=i.current;for(ze=V;ze!==null;){L=ze;var ee=L.child;if(L.subtreeFlags&2064&&ee!==null)ee.return=L,ze=ee;else e:for(L=V;ze!==null;){if(H=ze,H.flags&2048)try{switch(H.tag){case 0:case 11:case 15:qy(9,H)}}catch(Xe){_n(H,H.return,Xe)}if(H===L){ze=null;break e}var ve=H.sibling;if(ve!==null){ve.return=H.return,ze=ve;break e}ze=H.return}}if(Nt=y,ba(),Ai&&typeof Ai.onPostCommitFiberRoot=="function")try{Ai.onPostCommitFiberRoot(ir,i)}catch{}p=!0}return p}finally{Mt=u,as.transition=r}}return!1}function GE(i,r,u){r=xd(u,r),r=hE(i,r,1),i=Ns(i,r,1),r=Wi(),i!==null&&(ca(i,1,r),pr(i,r))}function _n(i,r,u){if(i.tag===3)GE(i,i,u);else for(;r!==null;){if(r.tag===3){GE(r,i,u);break}else if(r.tag===1){var p=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ml===null||!Ml.has(p))){i=xd(u,i),i=dE(r,i,1),r=Ns(r,i,1),i=Wi(),r!==null&&(ca(r,1,i),pr(r,i));break}}r=r.return}}function oT(i,r,u){var p=i.pingCache;p!==null&&p.delete(r),r=Wi(),i.pingedLanes|=i.suspendedLanes&u,ni===i&&(vi&u)===u&&(Un===4||Un===3&&(vi&130023424)===vi&&500>$t()-qb?pu(i,0):Ub|=u),pr(i,r)}function XE(i,r){r===0&&(i.mode&1?(r=$i,$i<<=1,!($i&130023424)&&($i=4194304)):r=1);var u=Wi();i=hr(i,r),i!==null&&(ca(i,r,u),pr(i,u))}function lT(i){var r=i.memoizedState,u=0;r!==null&&(u=r.retryLane),XE(i,u)}function cT(i,r){var u=0;switch(i.tag){case 13:var p=i.stateNode,y=i.memoizedState;y!==null&&(u=y.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(r),XE(i,u)}var KE;KE=function(i,r,u){if(i!==null)if(i.memoizedProps!==r.pendingProps||bn.current)dr=!0;else{if(!(i.lanes&u)&&!(r.flags&128))return dr=!1,Qk(i,r,u);dr=!!(i.flags&131072)}else dr=!1,Oe&&r.flags&1048576&&Ie(r,E,r.index);switch(r.lanes=0,r.tag){case 2:var p=r.type;By(i,r),i=r.pendingProps;var y=Pl(r,Yn.current);zn(r,u),y=_b(null,r,p,i,y,u);var w=xb();return r.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,ki(p)?(w=!0,gd(r)):w=!1,r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,kp(r),y.updater=$y,r.stateNode=y,y._reactInternals=r,Tb(r,p,i,u),r=Nb(null,r,p,!0,w,u)):(r.tag=0,Oe&&w&&Fe(r),qi(null,r,y,u),r=r.child),r;case 16:p=r.elementType;e:{switch(By(i,r),i=r.pendingProps,y=p._init,p=y(p._payload),r.type=p,y=r.tag=hT(p),i=Ms(p,i),y){case 0:r=Lb(null,r,p,i,u);break e;case 1:r=_E(null,r,p,i,u);break e;case 11:r=gE(null,r,p,i,u);break e;case 14:r=yE(null,r,p,Ms(p.type,i),u);break e}throw Error(t(306,p,""))}return r;case 0:return p=r.type,y=r.pendingProps,y=r.elementType===p?y:Ms(p,y),Lb(i,r,p,y,u);case 1:return p=r.type,y=r.pendingProps,y=r.elementType===p?y:Ms(p,y),_E(i,r,p,y,u);case 3:e:{if(xE(r),i===null)throw Error(t(387));p=r.pendingProps,w=r.memoizedState,y=w.element,vd(i,r),au(r,p,null,u);var L=r.memoizedState;if(p=L.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},r.updateQueue.baseState=w,r.memoizedState=w,r.flags&256){y=xd(Error(t(423)),r),r=EE(i,r,p,u,y);break e}else if(p!==y){y=xd(Error(t(424)),r),r=EE(i,r,p,u,y);break e}else for(Ue=ga(r.stateNode.containerInfo.firstChild),Je=r,Oe=!0,Qe=null,u=Bi(r,null,p,u),r.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ct(),p===y){r=yo(i,r,u);break e}qi(i,r,p,u)}r=r.child}return r;case 5:return Pp(r),i===null&&pt(r),p=r.type,y=r.pendingProps,w=i!==null?i.memoizedProps:null,L=y.children,fd(p,y)?L=null:w!==null&&fd(p,w)&&(r.flags|=32),wE(i,r),qi(i,r,L,u),r.child;case 6:return i===null&&pt(r),null;case 13:return SE(i,r,u);case 4:return lu(r,r.stateNode.containerInfo),p=r.pendingProps,i===null?r.child=Hn(r,null,p,u):qi(i,r,p,u),r.child;case 11:return p=r.type,y=r.pendingProps,y=r.elementType===p?y:Ms(p,y),gE(i,r,p,y,u);case 7:return qi(i,r,r.pendingProps,u),r.child;case 8:return qi(i,r,r.pendingProps.children,u),r.child;case 12:return qi(i,r,r.pendingProps.children,u),r.child;case 10:e:{if(p=r.type._context,y=r.pendingProps,w=r.memoizedProps,L=y.value,Wt(en,p._currentValue),p._currentValue=L,w!==null)if(cr(w.value,L)){if(w.children===y.children&&!bn.current){r=yo(i,r,u);break e}}else for(w=r.child,w!==null&&(w.return=r);w!==null;){var H=w.dependencies;if(H!==null){L=w.child;for(var B=H.firstContext;B!==null;){if(B.context===p){if(w.tag===1){B=Ls(-1,u&-u),B.tag=2;var ne=w.updateQueue;if(ne!==null){ne=ne.shared;var he=ne.pending;he===null?B.next=B:(B.next=he.next,he.next=B),ne.pending=B}}w.lanes|=u,B=w.alternate,B!==null&&(B.lanes|=u),$n(w.return,u,r),H.lanes|=u;break}B=B.next}}else if(w.tag===10)L=w.type===r.type?null:w.child;else if(w.tag===18){if(L=w.return,L===null)throw Error(t(341));L.lanes|=u,H=L.alternate,H!==null&&(H.lanes|=u),$n(L,u,r),L=w.sibling}else L=w.child;if(L!==null)L.return=w;else for(L=w;L!==null;){if(L===r){L=null;break}if(w=L.sibling,w!==null){w.return=L.return,L=w;break}L=L.return}w=L}qi(i,r,y.children,u),r=r.child}return r;case 9:return y=r.type,p=r.pendingProps.children,zn(r,u),y=kn(y),p=p(y),r.flags|=1,qi(i,r,p,u),r.child;case 14:return p=r.type,y=Ms(p,r.pendingProps),y=Ms(p.type,y),yE(i,r,p,y,u);case 15:return vE(i,r,r.type,r.pendingProps,u);case 17:return p=r.type,y=r.pendingProps,y=r.elementType===p?y:Ms(p,y),By(i,r),r.tag=1,ki(p)?(i=!0,gd(r)):i=!1,zn(r,u),cE(r,p,y),Tb(r,p,y,u),Nb(null,r,p,!0,i,u);case 19:return CE(i,r,u);case 22:return bE(i,r,u)}throw Error(t(156,r.tag))};function QE(i,r){return Nn(i,r)}function uT(i,r,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function os(i,r,u,p){return new uT(i,r,u,p)}function Jb(i){return i=i.prototype,!(!i||!i.isReactComponent)}function hT(i){if(typeof i=="function")return Jb(i)?1:0;if(i!=null){if(i=i.$$typeof,i===le)return 11;if(i===Ae)return 14}return 2}function Ol(i,r){var u=i.alternate;return u===null?(u=os(i.tag,r,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=r,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,r=i.dependencies,u.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Zy(i,r,u,p,y,w){var L=2;if(p=i,typeof i=="function")Jb(i)&&(L=1);else if(typeof i=="string")L=5;else e:switch(i){case Q:return gu(u.children,y,w,r);case z:L=8,y|=8;break;case K:return i=os(12,u,r,y|2),i.elementType=K,i.lanes=w,i;case we:return i=os(13,u,r,y),i.elementType=we,i.lanes=w,i;case Te:return i=os(19,u,r,y),i.elementType=Te,i.lanes=w,i;case fe:return ev(u,y,w,r);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:L=10;break e;case te:L=9;break e;case le:L=11;break e;case Ae:L=14;break e;case $e:L=16,p=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return r=os(L,u,r,y),r.elementType=i,r.type=p,r.lanes=w,r}function gu(i,r,u,p){return i=os(7,i,p,r),i.lanes=u,i}function ev(i,r,u,p){return i=os(22,i,p,r),i.elementType=fe,i.lanes=u,i.stateNode={isHidden:!1},i}function Zb(i,r,u){return i=os(6,i,null,r),i.lanes=u,i}function ew(i,r,u){return r=os(4,i.children!==null?i.children:[],i.key,r),r.lanes=u,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}function dT(i,r,u,p,y){this.tag=r,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ss(0),this.expirationTimes=Ss(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ss(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function tw(i,r,u,p,y,w,L,H,B){return i=new dT(i,r,u,H,B),r===1?(r=1,w===!0&&(r|=8)):r=0,w=os(3,null,null,r),i.current=w,w.stateNode=i,w.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},kp(w),i}function fT(i,r,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:p==null?null:""+p,children:i,containerInfo:r,implementation:u}}function YE(i){if(!i)return ns;i=i._reactInternals;e:{if(wt(i)!==i||i.tag!==1)throw Error(t(170));var r=i;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(ki(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(ki(u))return My(i,u,r)}return r}function JE(i,r,u,p,y,w,L,H,B){return i=tw(u,p,!0,i,y,w,L,H,B),i.context=YE(null),u=i.current,p=Wi(),y=Il(u),w=Ls(p,y),w.callback=r??null,Ns(u,w,y),i.current.lanes=y,ca(i,y,p),pr(i,p),i}function tv(i,r,u,p){var y=r.current,w=Wi(),L=Il(y);return u=YE(u),r.context===null?r.context=u:r.pendingContext=u,r=Ls(w,L),r.payload={element:i},p=p===void 0?null:p,p!==null&&(r.callback=p),i=Ns(y,r,L),i!==null&&(Fs(i,y,L,w),bd(i,y,L)),L}function nv(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function ZE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<r?u:r}}function nw(i,r){ZE(i,r),(i=i.alternate)&&ZE(i,r)}var eS=typeof reportError=="function"?reportError:function(i){console.error(i)};function iw(i){this._internalRoot=i}iv.prototype.render=iw.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(t(409));tv(i,r,null,null)},iv.prototype.unmount=iw.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;fu(function(){tv(null,i,null,null)}),r[Ts]=null}};function iv(i){this._internalRoot=i}iv.prototype.unstable_scheduleHydration=function(i){if(i){var r=Kg();i={blockedOn:null,target:i,priority:r};for(var u=0;u<Cs.length&&r!==0&&r<Cs[u].priority;u++);Cs.splice(u,0,i),u===0&&Bc(i)}};function rw(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function rv(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function tS(){}function pT(i,r,u,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var ne=nv(L);w.call(ne)}}var L=JE(r,p,i,0,null,!1,!1,"",tS);return i._reactRootContainer=L,i[Ts]=L.current,ho(i.nodeType===8?i.parentNode:i),fu(),L}for(;y=i.lastChild;)i.removeChild(y);if(typeof p=="function"){var H=p;p=function(){var ne=nv(B);H.call(ne)}}var B=tw(i,0,!1,null,null,!1,!1,"",tS);return i._reactRootContainer=B,i[Ts]=B.current,ho(i.nodeType===8?i.parentNode:i),fu(function(){tv(r,B,u,p)}),B}function sv(i,r,u,p,y){var w=u._reactRootContainer;if(w){var L=w;if(typeof y=="function"){var H=y;y=function(){var B=nv(L);H.call(B)}}tv(r,L,i,y)}else L=pT(u,r,i,y,p);return nv(L)}Xh=function(i){switch(i.tag){case 3:var r=i.stateNode;if(r.current.memoizedState.isDehydrated){var u=jn(r.pendingLanes);u!==0&&($c(r,u|1),pr(r,$t()),!(Nt&6)&&(Ad=$t()+500,ba()))}break;case 13:fu(function(){var p=hr(i,1);if(p!==null){var y=Wi();Fs(p,i,1,y)}}),nw(i,1)}},Kh=function(i){if(i.tag===13){var r=hr(i,134217728);if(r!==null){var u=Wi();Fs(r,i,134217728,u)}nw(i,134217728)}},Kr=function(i){if(i.tag===13){var r=Il(i),u=hr(i,r);if(u!==null){var p=Wi();Fs(u,i,r,p)}nw(i,r)}},Kg=function(){return Mt},As=function(i,r){var u=Mt;try{return Mt=i,r()}finally{Mt=u}},xs=function(i,r,u){switch(r){case"input":if(er(i,u),r=u.name,u.type==="radio"&&r!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<u.length;r++){var p=u[r];if(p!==i&&p.form===i.form){var y=ts(p);if(!y)throw Error(t(90));me(p),er(p,y)}}}break;case"textarea":Cr(i,u);break;case"select":r=u.value,r!=null&&An(i,!!u.multiple,r,!1)}},Vh=Kb,$=fu;var mT={usingClientEntryPoint:!1,Events:[po,mo,ts,io,Wh,Kb]},$p={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gT={bundleType:$p.bundleType,version:$p.version,rendererPackageName:$p.rendererPackageName,rendererConfig:$p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=on(i),i===null?null:i.stateNode},findFiberByHostInstance:$p.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var av=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!av.isDisabled&&av.supportsFiber)try{ir=av.inject(gT),Ai=av}catch{}}return mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mT,mr.createPortal=function(i,r){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rw(r))throw Error(t(200));return fT(i,r,null,u)},mr.createRoot=function(i,r){if(!rw(i))throw Error(t(299));var u=!1,p="",y=eS;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(p=r.identifierPrefix),r.onRecoverableError!==void 0&&(y=r.onRecoverableError)),r=tw(i,1,!1,null,null,u,!1,p,y),i[Ts]=r.current,ho(i.nodeType===8?i.parentNode:i),new iw(r)},mr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=on(r),i=i===null?null:i.stateNode,i},mr.flushSync=function(i){return fu(i)},mr.hydrate=function(i,r,u){if(!rv(r))throw Error(t(200));return sv(null,i,r,!0,u)},mr.hydrateRoot=function(i,r,u){if(!rw(i))throw Error(t(405));var p=u!=null&&u.hydratedSources||null,y=!1,w="",L=eS;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(L=u.onRecoverableError)),r=JE(r,null,i,1,u??null,y,!1,w,L),i[Ts]=r.current,ho(i),p)for(i=0;i<p.length;i++)u=p[i],y=u._getVersion,y=y(u._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[u,y]:r.mutableSourceEagerHydrationData.push(u,y);return new iv(r)},mr.render=function(i,r,u){if(!rv(r))throw Error(t(200));return sv(null,i,r,!1,u)},mr.unmountComponentAtNode=function(i){if(!rv(i))throw Error(t(40));return i._reactRootContainer?(fu(function(){sv(null,null,i,!1,function(){i._reactRootContainer=null,i[Ts]=null})}),!0):!1},mr.unstable_batchedUpdates=Kb,mr.unstable_renderSubtreeIntoContainer=function(i,r,u,p){if(!rv(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return sv(i,r,u,!1,p)},mr.version="18.3.1-next-f1338f8080-20240426",mr}var uS;function MA(){if(uS)return lw.exports;uS=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),lw.exports=CT(),lw.exports}var hS;function kT(){if(hS)return ov;hS=1;var a=MA();return ov.createRoot=a.createRoot,ov.hydrateRoot=a.hydrateRoot,ov}var TT=kT(),tp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(a){return this.listeners.add(a),this.onSubscribe(),()=>{this.listeners.delete(a),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ph=typeof window>"u"||"Deno"in globalThis;function ms(){}function PT(a,e){return typeof a=="function"?a(e):a}function Sw(a){return typeof a=="number"&&a>=0&&a!==1/0}function DA(a,e){return Math.max(a+(e||0)-Date.now(),0)}function Od(a,e){return typeof a=="function"?a(e):a}function ta(a,e){return typeof a=="function"?a(e):a}function dS(a,e){const{type:t="all",exact:n,fetchStatus:s,predicate:o,queryKey:l,stale:h}=a;if(l){if(n){if(e.queryHash!==hx(l,e.options))return!1}else if(!ym(e.queryKey,l))return!1}if(t!=="all"){const d=e.isActive();if(t==="active"&&!d||t==="inactive"&&d)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||s&&s!==e.state.fetchStatus||o&&!o(e))}function fS(a,e){const{exact:t,status:n,predicate:s,mutationKey:o}=a;if(o){if(!e.options.mutationKey)return!1;if(t){if(Rh(e.options.mutationKey)!==Rh(o))return!1}else if(!ym(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function hx(a,e){return((e==null?void 0:e.queryKeyHashFn)||Rh)(a)}function Rh(a){return JSON.stringify(a,(e,t)=>Aw(t)?Object.keys(t).sort().reduce((n,s)=>(n[s]=t[s],n),{}):t)}function ym(a,e){return a===e?!0:typeof a!=typeof e?!1:a&&e&&typeof a=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!ym(a[t],e[t])):!1}function IA(a,e){if(a===e)return a;const t=pS(a)&&pS(e);if(t||Aw(a)&&Aw(e)){const n=t?a:Object.keys(a),s=n.length,o=t?e:Object.keys(e),l=o.length,h=t?[]:{};let d=0;for(let f=0;f<l;f++){const g=t?f:o[f];(!t&&n.includes(g)||t)&&a[g]===void 0&&e[g]===void 0?(h[g]=void 0,d++):(h[g]=IA(a[g],e[g]),h[g]===a[g]&&a[g]!==void 0&&d++)}return s===l&&d===s?a:h}return e}function t0(a,e){if(!e||Object.keys(a).length!==Object.keys(e).length)return!1;for(const t in a)if(a[t]!==e[t])return!1;return!0}function pS(a){return Array.isArray(a)&&a.length===Object.keys(a).length}function Aw(a){if(!mS(a))return!1;const e=a.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!mS(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(a)!==Object.prototype)}function mS(a){return Object.prototype.toString.call(a)==="[object Object]"}function RT(a){return new Promise(e=>{setTimeout(e,a)})}function Cw(a,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(a,e):t.structuralSharing!==!1?IA(a,e):e}function LT(a,e,t=0){const n=[...a,e];return t&&n.length>t?n.slice(1):n}function NT(a,e,t=0){const n=[e,...a];return t&&n.length>t?n.slice(0,-1):n}var dx=Symbol();function FA(a,e){return!a.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!a.queryFn||a.queryFn===dx?()=>Promise.reject(new Error(`Missing queryFn: '${a.queryHash}'`)):a.queryFn}var Cu,Vl,Bd,_A,MT=(_A=class extends tp{constructor(){super();R(this,Cu);R(this,Vl);R(this,Bd);A(this,Bd,e=>{if(!Ph&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){c(this,Vl)||this.setEventListener(c(this,Bd))}onUnsubscribe(){var e;this.hasListeners()||((e=c(this,Vl))==null||e.call(this),A(this,Vl,void 0))}setEventListener(e){var t;A(this,Bd,e),(t=c(this,Vl))==null||t.call(this),A(this,Vl,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){c(this,Cu)!==e&&(A(this,Cu,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof c(this,Cu)=="boolean"?c(this,Cu):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Cu=new WeakMap,Vl=new WeakMap,Bd=new WeakMap,_A),fx=new MT,Ud,Gl,qd,xA,DT=(xA=class extends tp{constructor(){super();R(this,Ud,!0);R(this,Gl);R(this,qd);A(this,qd,e=>{if(!Ph&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){c(this,Gl)||this.setEventListener(c(this,qd))}onUnsubscribe(){var e;this.hasListeners()||((e=c(this,Gl))==null||e.call(this),A(this,Gl,void 0))}setEventListener(e){var t;A(this,qd,e),(t=c(this,Gl))==null||t.call(this),A(this,Gl,e(this.setOnline.bind(this)))}setOnline(e){c(this,Ud)!==e&&(A(this,Ud,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return c(this,Ud)}},Ud=new WeakMap,Gl=new WeakMap,qd=new WeakMap,xA),n0=new DT;function kw(){let a,e;const t=new Promise((s,o)=>{a=s,e=o});t.status="pending",t.catch(()=>{});function n(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{n({status:"fulfilled",value:s}),a(s)},t.reject=s=>{n({status:"rejected",reason:s}),e(s)},t}function IT(a){return Math.min(1e3*2**a,3e4)}function OA(a){return(a??"online")==="online"?n0.isOnline():!0}var jA=class extends Error{constructor(a){super("CancelledError"),this.revert=a==null?void 0:a.revert,this.silent=a==null?void 0:a.silent}};function hw(a){return a instanceof jA}function HA(a){let e=!1,t=0,n=!1,s;const o=kw(),l=C=>{var N;n||(b(new jA(C)),(N=a.abort)==null||N.call(a))},h=()=>{e=!0},d=()=>{e=!1},f=()=>fx.isFocused()&&(a.networkMode==="always"||n0.isOnline())&&a.canRun(),g=()=>OA(a.networkMode)&&a.canRun(),v=C=>{var N;n||(n=!0,(N=a.onSuccess)==null||N.call(a,C),s==null||s(),o.resolve(C))},b=C=>{var N;n||(n=!0,(N=a.onError)==null||N.call(a,C),s==null||s(),o.reject(C))},_=()=>new Promise(C=>{var N;s=T=>{(n||f())&&C(T)},(N=a.onPause)==null||N.call(a)}).then(()=>{var C;s=void 0,n||(C=a.onContinue)==null||C.call(a)}),S=()=>{if(n)return;let C;const N=t===0?a.initialPromise:void 0;try{C=N??a.fn()}catch(T){C=Promise.reject(T)}Promise.resolve(C).then(v).catch(T=>{var U;if(n)return;const F=a.retry??(Ph?0:3),j=a.retryDelay??IT,O=typeof j=="function"?j(t,T):j,D=F===!0||typeof F=="number"&&t<F||typeof F=="function"&&F(t,T);if(e||!D){b(T);return}t++,(U=a.onFail)==null||U.call(a,t,T),RT(O).then(()=>f()?void 0:_()).then(()=>{e?b(T):S()})})};return{promise:o,cancel:l,continue:()=>(s==null||s(),o),cancelRetry:h,continueRetry:d,canStart:g,start:()=>(g()?S():_().then(S),o)}}function FT(){let a=[],e=0,t=h=>{h()},n=h=>{h()},s=h=>setTimeout(h,0);const o=h=>{e?a.push(h):s(()=>{t(h)})},l=()=>{const h=a;a=[],h.length&&s(()=>{n(()=>{h.forEach(d=>{t(d)})})})};return{batch:h=>{let d;e++;try{d=h()}finally{e--,e||l()}return d},batchCalls:h=>(...d)=>{o(()=>{h(...d)})},schedule:o,setNotifyFunction:h=>{t=h},setBatchNotifyFunction:h=>{n=h},setScheduler:h=>{s=h}}}var Xn=FT(),ku,EA,$A=(EA=class{constructor(){R(this,ku)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sw(this.gcTime)&&A(this,ku,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(a){this.gcTime=Math.max(this.gcTime||0,a??(Ph?1/0:5*60*1e3))}clearGcTimeout(){c(this,ku)&&(clearTimeout(c(this,ku)),A(this,ku,void 0))}},ku=new WeakMap,EA),Wd,Vd,cs,Mi,wm,Tu,Hs,xo,SA,OT=(SA=class extends $A{constructor(e){super();R(this,Hs);R(this,Wd);R(this,Vd);R(this,cs);R(this,Mi);R(this,wm);R(this,Tu);A(this,Tu,!1),A(this,wm,e.defaultOptions),this.setOptions(e.options),this.observers=[],A(this,cs,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,A(this,Wd,jT(this.options)),this.state=e.state??c(this,Wd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=c(this,Mi))==null?void 0:e.promise}setOptions(e){this.options={...c(this,wm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&c(this,cs).remove(this)}setData(e,t){const n=Cw(this.state.data,e,this.options);return k(this,Hs,xo).call(this,{data:n,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),n}setState(e,t){k(this,Hs,xo).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var n,s;const t=(n=c(this,Mi))==null?void 0:n.promise;return(s=c(this,Mi))==null||s.cancel(e),t?t.then(ms).catch(ms):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(c(this,Wd))}isActive(){return this.observers.some(e=>ta(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!DA(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=c(this,Mi))==null||t.continue()}onOnline(){var t;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=c(this,Mi))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),c(this,cs).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(c(this,Mi)&&(c(this,Tu)?c(this,Mi).cancel({revert:!0}):c(this,Mi).cancelRetry()),this.scheduleGc()),c(this,cs).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||k(this,Hs,xo).call(this,{type:"invalidate"})}fetch(e,t){var d,f,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(c(this,Mi))return c(this,Mi).continueRetry(),c(this,Mi).promise}if(e&&this.setOptions(e),!this.options.queryFn){const v=this.observers.find(b=>b.options.queryFn);v&&this.setOptions(v.options)}const n=new AbortController,s=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(A(this,Tu,!0),n.signal)})},o=()=>{const v=FA(this.options,t),b={queryKey:this.queryKey,meta:this.meta};return s(b),A(this,Tu,!1),this.options.persister?this.options.persister(v,b,this):v(b)},l={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(l),(d=this.options.behavior)==null||d.onFetch(l,this),A(this,Vd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&k(this,Hs,xo).call(this,{type:"fetch",meta:(g=l.fetchOptions)==null?void 0:g.meta});const h=v=>{var b,_,S,C;hw(v)&&v.silent||k(this,Hs,xo).call(this,{type:"error",error:v}),hw(v)||((_=(b=c(this,cs).config).onError)==null||_.call(b,v,this),(C=(S=c(this,cs).config).onSettled)==null||C.call(S,this.state.data,v,this)),this.scheduleGc()};return A(this,Mi,HA({initialPromise:t==null?void 0:t.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:v=>{var b,_,S,C;if(v===void 0){h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(N){h(N);return}(_=(b=c(this,cs).config).onSuccess)==null||_.call(b,v,this),(C=(S=c(this,cs).config).onSettled)==null||C.call(S,v,this.state.error,this),this.scheduleGc()},onError:h,onFail:(v,b)=>{k(this,Hs,xo).call(this,{type:"failed",failureCount:v,error:b})},onPause:()=>{k(this,Hs,xo).call(this,{type:"pause"})},onContinue:()=>{k(this,Hs,xo).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),c(this,Mi).start()}},Wd=new WeakMap,Vd=new WeakMap,cs=new WeakMap,Mi=new WeakMap,wm=new WeakMap,Tu=new WeakMap,Hs=new WeakSet,xo=function(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...zA(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return hw(s)&&s.revert&&c(this,Vd)?{...c(this,Vd),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Xn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),c(this,cs).notify({query:this,type:"updated",action:e})})},SA);function zA(a,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:OA(e.networkMode)?"fetching":"paused",...a===void 0&&{error:null,status:"pending"}}}function jT(a){const e=typeof a.initialData=="function"?a.initialData():a.initialData,t=e!==void 0,n=t?typeof a.initialDataUpdatedAt=="function"?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Ta,AA,HT=(AA=class extends tp{constructor(e={}){super();R(this,Ta);this.config=e,A(this,Ta,new Map)}build(e,t,n){const s=t.queryKey,o=t.queryHash??hx(s,t);let l=this.get(o);return l||(l=new OT({cache:this,queryKey:s,queryHash:o,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(l)),l}add(e){c(this,Ta).has(e.queryHash)||(c(this,Ta).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=c(this,Ta).get(e.queryHash);t&&(e.destroy(),t===e&&c(this,Ta).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Xn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return c(this,Ta).get(e)}getAll(){return[...c(this,Ta).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>dS(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>dS(e,n)):t}notify(e){Xn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Xn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Xn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ta=new WeakMap,AA),Pa,Xi,Pu,Ra,Hl,CA,$T=(CA=class extends $A{constructor(e){super();R(this,Ra);R(this,Pa);R(this,Xi);R(this,Pu);this.mutationId=e.mutationId,A(this,Xi,e.mutationCache),A(this,Pa,[]),this.state=e.state||BA(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){c(this,Pa).includes(e)||(c(this,Pa).push(e),this.clearGcTimeout(),c(this,Xi).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){A(this,Pa,c(this,Pa).filter(t=>t!==e)),this.scheduleGc(),c(this,Xi).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){c(this,Pa).length||(this.state.status==="pending"?this.scheduleGc():c(this,Xi).remove(this))}continue(){var e;return((e=c(this,Pu))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,l,h,d,f,g,v,b,_,S,C,N,T,F,j,O,D,U,Q;A(this,Pu,HA({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(z,K)=>{k(this,Ra,Hl).call(this,{type:"failed",failureCount:z,error:K})},onPause:()=>{k(this,Ra,Hl).call(this,{type:"pause"})},onContinue:()=>{k(this,Ra,Hl).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>c(this,Xi).canRun(this)}));const t=this.state.status==="pending",n=!c(this,Pu).canStart();try{if(!t){k(this,Ra,Hl).call(this,{type:"pending",variables:e,isPaused:n}),await((o=(s=c(this,Xi).config).onMutate)==null?void 0:o.call(s,e,this));const K=await((h=(l=this.options).onMutate)==null?void 0:h.call(l,e));K!==this.state.context&&k(this,Ra,Hl).call(this,{type:"pending",context:K,variables:e,isPaused:n})}const z=await c(this,Pu).start();return await((f=(d=c(this,Xi).config).onSuccess)==null?void 0:f.call(d,z,e,this.state.context,this)),await((v=(g=this.options).onSuccess)==null?void 0:v.call(g,z,e,this.state.context)),await((_=(b=c(this,Xi).config).onSettled)==null?void 0:_.call(b,z,null,this.state.variables,this.state.context,this)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,z,null,e,this.state.context)),k(this,Ra,Hl).call(this,{type:"success",data:z}),z}catch(z){try{throw await((T=(N=c(this,Xi).config).onError)==null?void 0:T.call(N,z,e,this.state.context,this)),await((j=(F=this.options).onError)==null?void 0:j.call(F,z,e,this.state.context)),await((D=(O=c(this,Xi).config).onSettled)==null?void 0:D.call(O,void 0,z,this.state.variables,this.state.context,this)),await((Q=(U=this.options).onSettled)==null?void 0:Q.call(U,void 0,z,e,this.state.context)),z}finally{k(this,Ra,Hl).call(this,{type:"error",error:z})}}finally{c(this,Xi).runNext(this)}}},Pa=new WeakMap,Xi=new WeakMap,Pu=new WeakMap,Ra=new WeakSet,Hl=function(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Xn.batch(()=>{c(this,Pa).forEach(n=>{n.onMutationUpdate(e)}),c(this,Xi).notify({mutation:this,type:"updated",action:e})})},CA);function BA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Co,$s,_m,kA,zT=(kA=class extends tp{constructor(e={}){super();R(this,Co);R(this,$s);R(this,_m);this.config=e,A(this,Co,new Set),A(this,$s,new Map),A(this,_m,0)}build(e,t,n){const s=new $T({mutationCache:this,mutationId:++ri(this,_m)._,options:e.defaultMutationOptions(t),state:n});return this.add(s),s}add(e){c(this,Co).add(e);const t=lv(e);if(typeof t=="string"){const n=c(this,$s).get(t);n?n.push(e):c(this,$s).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(c(this,Co).delete(e)){const t=lv(e);if(typeof t=="string"){const n=c(this,$s).get(t);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&c(this,$s).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=lv(e);if(typeof t=="string"){const n=c(this,$s).get(t),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const t=lv(e);if(typeof t=="string"){const s=(n=c(this,$s).get(t))==null?void 0:n.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Xn.batch(()=>{c(this,Co).forEach(e=>{this.notify({type:"removed",mutation:e})}),c(this,Co).clear(),c(this,$s).clear()})}getAll(){return Array.from(c(this,Co))}find(e){const t={exact:!0,...e};return this.getAll().find(n=>fS(t,n))}findAll(e={}){return this.getAll().filter(t=>fS(e,t))}notify(e){Xn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Xn.batch(()=>Promise.all(e.map(t=>t.continue().catch(ms))))}},Co=new WeakMap,$s=new WeakMap,_m=new WeakMap,kA);function lv(a){var e;return(e=a.options.scope)==null?void 0:e.id}function gS(a){return{onFetch:(e,t)=>{var g,v,b,_,S;const n=e.options,s=(b=(v=(g=e.fetchOptions)==null?void 0:g.meta)==null?void 0:v.fetchMore)==null?void 0:b.direction,o=((_=e.state.data)==null?void 0:_.pages)||[],l=((S=e.state.data)==null?void 0:S.pageParams)||[];let h={pages:[],pageParams:[]},d=0;const f=async()=>{let C=!1;const N=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(e.signal.aborted?C=!0:e.signal.addEventListener("abort",()=>{C=!0}),e.signal)})},T=FA(e.options,e.fetchOptions),F=async(j,O,D)=>{if(C)return Promise.reject();if(O==null&&j.pages.length)return Promise.resolve(j);const U={queryKey:e.queryKey,pageParam:O,direction:D?"backward":"forward",meta:e.options.meta};N(U);const Q=await T(U),{maxPages:z}=e.options,K=D?NT:LT;return{pages:K(j.pages,Q,z),pageParams:K(j.pageParams,O,z)}};if(s&&o.length){const j=s==="backward",O=j?BT:yS,D={pages:o,pageParams:l},U=O(n,D);h=await F(D,U,j)}else{const j=a??o.length;do{const O=d===0?l[0]??n.initialPageParam:yS(n,h);if(d>0&&O==null)break;h=await F(h,O),d++}while(d<j)}return h};e.options.persister?e.fetchFn=()=>{var C,N;return(N=(C=e.options).persister)==null?void 0:N.call(C,f,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=f}}}function yS(a,{pages:e,pageParams:t}){const n=e.length-1;return e.length>0?a.getNextPageParam(e[n],e,t[n],t):void 0}function BT(a,{pages:e,pageParams:t}){var n;return e.length>0?(n=a.getPreviousPageParam)==null?void 0:n.call(a,e[0],e,t[0],t):void 0}var xn,Xl,Kl,Gd,Xd,Ql,Kd,Qd,TA,UT=(TA=class{constructor(a={}){R(this,xn);R(this,Xl);R(this,Kl);R(this,Gd);R(this,Xd);R(this,Ql);R(this,Kd);R(this,Qd);A(this,xn,a.queryCache||new HT),A(this,Xl,a.mutationCache||new zT),A(this,Kl,a.defaultOptions||{}),A(this,Gd,new Map),A(this,Xd,new Map),A(this,Ql,0)}mount(){ri(this,Ql)._++,c(this,Ql)===1&&(A(this,Kd,fx.subscribe(async a=>{a&&(await this.resumePausedMutations(),c(this,xn).onFocus())})),A(this,Qd,n0.subscribe(async a=>{a&&(await this.resumePausedMutations(),c(this,xn).onOnline())})))}unmount(){var a,e;ri(this,Ql)._--,c(this,Ql)===0&&((a=c(this,Kd))==null||a.call(this),A(this,Kd,void 0),(e=c(this,Qd))==null||e.call(this),A(this,Qd,void 0))}isFetching(a){return c(this,xn).findAll({...a,fetchStatus:"fetching"}).length}isMutating(a){return c(this,Xl).findAll({...a,status:"pending"}).length}getQueryData(a){var t;const e=this.defaultQueryOptions({queryKey:a});return(t=c(this,xn).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(a){const e=this.defaultQueryOptions(a),t=c(this,xn).build(this,e),n=t.state.data;return n===void 0?this.fetchQuery(a):(a.revalidateIfStale&&t.isStaleByTime(Od(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(a){return c(this,xn).findAll(a).map(({queryKey:e,state:t})=>{const n=t.data;return[e,n]})}setQueryData(a,e,t){const n=this.defaultQueryOptions({queryKey:a}),s=c(this,xn).get(n.queryHash),o=s==null?void 0:s.state.data,l=PT(e,o);if(l!==void 0)return c(this,xn).build(this,n).setData(l,{...t,manual:!0})}setQueriesData(a,e,t){return Xn.batch(()=>c(this,xn).findAll(a).map(({queryKey:n})=>[n,this.setQueryData(n,e,t)]))}getQueryState(a){var t;const e=this.defaultQueryOptions({queryKey:a});return(t=c(this,xn).get(e.queryHash))==null?void 0:t.state}removeQueries(a){const e=c(this,xn);Xn.batch(()=>{e.findAll(a).forEach(t=>{e.remove(t)})})}resetQueries(a,e){const t=c(this,xn),n={type:"active",...a};return Xn.batch(()=>(t.findAll(a).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(a,e={}){const t={revert:!0,...e},n=Xn.batch(()=>c(this,xn).findAll(a).map(s=>s.cancel(t)));return Promise.all(n).then(ms).catch(ms)}invalidateQueries(a,e={}){return Xn.batch(()=>{if(c(this,xn).findAll(a).forEach(n=>{n.invalidate()}),(a==null?void 0:a.refetchType)==="none")return Promise.resolve();const t={...a,type:(a==null?void 0:a.refetchType)??(a==null?void 0:a.type)??"active"};return this.refetchQueries(t,e)})}refetchQueries(a,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},n=Xn.batch(()=>c(this,xn).findAll(a).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,t);return t.throwOnError||(o=o.catch(ms)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(ms)}fetchQuery(a){const e=this.defaultQueryOptions(a);e.retry===void 0&&(e.retry=!1);const t=c(this,xn).build(this,e);return t.isStaleByTime(Od(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(a){return this.fetchQuery(a).then(ms).catch(ms)}fetchInfiniteQuery(a){return a.behavior=gS(a.pages),this.fetchQuery(a)}prefetchInfiniteQuery(a){return this.fetchInfiniteQuery(a).then(ms).catch(ms)}ensureInfiniteQueryData(a){return a.behavior=gS(a.pages),this.ensureQueryData(a)}resumePausedMutations(){return n0.isOnline()?c(this,Xl).resumePausedMutations():Promise.resolve()}getQueryCache(){return c(this,xn)}getMutationCache(){return c(this,Xl)}getDefaultOptions(){return c(this,Kl)}setDefaultOptions(a){A(this,Kl,a)}setQueryDefaults(a,e){c(this,Gd).set(Rh(a),{queryKey:a,defaultOptions:e})}getQueryDefaults(a){const e=[...c(this,Gd).values()],t={};return e.forEach(n=>{ym(a,n.queryKey)&&Object.assign(t,n.defaultOptions)}),t}setMutationDefaults(a,e){c(this,Xd).set(Rh(a),{mutationKey:a,defaultOptions:e})}getMutationDefaults(a){const e=[...c(this,Xd).values()];let t={};return e.forEach(n=>{ym(a,n.mutationKey)&&(t={...t,...n.defaultOptions})}),t}defaultQueryOptions(a){if(a._defaulted)return a;const e={...c(this,Kl).queries,...this.getQueryDefaults(a.queryKey),...a,_defaulted:!0};return e.queryHash||(e.queryHash=hx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===dx&&(e.enabled=!1),e}defaultMutationOptions(a){return a!=null&&a._defaulted?a:{...c(this,Kl).mutations,...(a==null?void 0:a.mutationKey)&&this.getMutationDefaults(a.mutationKey),...a,_defaulted:!0}}clear(){c(this,xn).clear(),c(this,Xl).clear()}},xn=new WeakMap,Xl=new WeakMap,Kl=new WeakMap,Gd=new WeakMap,Xd=new WeakMap,Ql=new WeakMap,Kd=new WeakMap,Qd=new WeakMap,TA),vr,Tt,xm,Ki,Ru,Yd,Yl,La,Em,Jd,Zd,Lu,Nu,Jl,ef,Ut,Kp,Tw,Pw,Rw,Lw,Nw,Mw,Dw,UA,PA,qT=(PA=class extends tp{constructor(e,t){super();R(this,Ut);R(this,vr);R(this,Tt);R(this,xm);R(this,Ki);R(this,Ru);R(this,Yd);R(this,Yl);R(this,La);R(this,Em);R(this,Jd);R(this,Zd);R(this,Lu);R(this,Nu);R(this,Jl);R(this,ef,new Set);this.options=t,A(this,vr,e),A(this,La,null),A(this,Yl,kw()),this.options.experimental_prefetchInRender||c(this,Yl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(c(this,Tt).addObserver(this),vS(c(this,Tt),this.options)?k(this,Ut,Kp).call(this):this.updateResult(),k(this,Ut,Lw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Iw(c(this,Tt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Iw(c(this,Tt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,k(this,Ut,Nw).call(this),k(this,Ut,Mw).call(this),c(this,Tt).removeObserver(this)}setOptions(e,t){const n=this.options,s=c(this,Tt);if(this.options=c(this,vr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ta(this.options.enabled,c(this,Tt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");k(this,Ut,Dw).call(this),c(this,Tt).setOptions(this.options),n._defaulted&&!t0(this.options,n)&&c(this,vr).getQueryCache().notify({type:"observerOptionsUpdated",query:c(this,Tt),observer:this});const o=this.hasListeners();o&&bS(c(this,Tt),s,this.options,n)&&k(this,Ut,Kp).call(this),this.updateResult(t),o&&(c(this,Tt)!==s||ta(this.options.enabled,c(this,Tt))!==ta(n.enabled,c(this,Tt))||Od(this.options.staleTime,c(this,Tt))!==Od(n.staleTime,c(this,Tt)))&&k(this,Ut,Tw).call(this);const l=k(this,Ut,Pw).call(this);o&&(c(this,Tt)!==s||ta(this.options.enabled,c(this,Tt))!==ta(n.enabled,c(this,Tt))||l!==c(this,Jl))&&k(this,Ut,Rw).call(this,l)}getOptimisticResult(e){const t=c(this,vr).getQueryCache().build(c(this,vr),e),n=this.createResult(t,e);return VT(this,n)&&(A(this,Ki,n),A(this,Yd,this.options),A(this,Ru,c(this,Tt).state)),n}getCurrentResult(){return c(this,Ki)}trackResult(e,t){const n={};return Object.keys(e).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),t==null||t(s),e[s])})}),n}trackProp(e){c(this,ef).add(e)}getCurrentQuery(){return c(this,Tt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=c(this,vr).defaultQueryOptions(e),n=c(this,vr).getQueryCache().build(c(this,vr),t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return k(this,Ut,Kp).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),c(this,Ki)))}createResult(e,t){var z;const n=c(this,Tt),s=this.options,o=c(this,Ki),l=c(this,Ru),h=c(this,Yd),f=e!==n?e.state:c(this,xm),{state:g}=e;let v={...g},b=!1,_;if(t._optimisticResults){const K=this.hasListeners(),Y=!K&&vS(e,t),te=K&&bS(e,n,t,s);(Y||te)&&(v={...v,...zA(g.data,e.options)}),t._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:S,errorUpdatedAt:C,status:N}=v;if(t.select&&v.data!==void 0)if(o&&v.data===(l==null?void 0:l.data)&&t.select===c(this,Em))_=c(this,Jd);else try{A(this,Em,t.select),_=t.select(v.data),_=Cw(o==null?void 0:o.data,_,t),A(this,Jd,_),A(this,La,null)}catch(K){A(this,La,K)}else _=v.data;if(t.placeholderData!==void 0&&_===void 0&&N==="pending"){let K;if(o!=null&&o.isPlaceholderData&&t.placeholderData===(h==null?void 0:h.placeholderData))K=o.data;else if(K=typeof t.placeholderData=="function"?t.placeholderData((z=c(this,Zd))==null?void 0:z.state.data,c(this,Zd)):t.placeholderData,t.select&&K!==void 0)try{K=t.select(K),A(this,La,null)}catch(Y){A(this,La,Y)}K!==void 0&&(N="success",_=Cw(o==null?void 0:o.data,K,t),b=!0)}c(this,La)&&(S=c(this,La),_=c(this,Jd),C=Date.now(),N="error");const T=v.fetchStatus==="fetching",F=N==="pending",j=N==="error",O=F&&T,D=_!==void 0,Q={status:N,fetchStatus:v.fetchStatus,isPending:F,isSuccess:N==="success",isError:j,isInitialLoading:O,isLoading:O,data:_,dataUpdatedAt:v.dataUpdatedAt,error:S,errorUpdatedAt:C,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>f.dataUpdateCount||v.errorUpdateCount>f.errorUpdateCount,isFetching:T,isRefetching:T&&!F,isLoadingError:j&&!D,isPaused:v.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:j&&D,isStale:px(e,t),refetch:this.refetch,promise:c(this,Yl)};if(this.options.experimental_prefetchInRender){const K=le=>{Q.status==="error"?le.reject(Q.error):Q.data!==void 0&&le.resolve(Q.data)},Y=()=>{const le=A(this,Yl,Q.promise=kw());K(le)},te=c(this,Yl);switch(te.status){case"pending":e.queryHash===n.queryHash&&K(te);break;case"fulfilled":(Q.status==="error"||Q.data!==te.value)&&Y();break;case"rejected":(Q.status!=="error"||Q.error!==te.reason)&&Y();break}}return Q}updateResult(e){const t=c(this,Ki),n=this.createResult(c(this,Tt),this.options);if(A(this,Ru,c(this,Tt).state),A(this,Yd,this.options),c(this,Ru).data!==void 0&&A(this,Zd,c(this,Tt)),t0(n,t))return;A(this,Ki,n);const s={},o=()=>{if(!t)return!0;const{notifyOnChangeProps:l}=this.options,h=typeof l=="function"?l():l;if(h==="all"||!h&&!c(this,ef).size)return!0;const d=new Set(h??c(this,ef));return this.options.throwOnError&&d.add("error"),Object.keys(c(this,Ki)).some(f=>{const g=f;return c(this,Ki)[g]!==t[g]&&d.has(g)})};(e==null?void 0:e.listeners)!==!1&&o()&&(s.listeners=!0),k(this,Ut,UA).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&k(this,Ut,Lw).call(this)}},vr=new WeakMap,Tt=new WeakMap,xm=new WeakMap,Ki=new WeakMap,Ru=new WeakMap,Yd=new WeakMap,Yl=new WeakMap,La=new WeakMap,Em=new WeakMap,Jd=new WeakMap,Zd=new WeakMap,Lu=new WeakMap,Nu=new WeakMap,Jl=new WeakMap,ef=new WeakMap,Ut=new WeakSet,Kp=function(e){k(this,Ut,Dw).call(this);let t=c(this,Tt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(ms)),t},Tw=function(){k(this,Ut,Nw).call(this);const e=Od(this.options.staleTime,c(this,Tt));if(Ph||c(this,Ki).isStale||!Sw(e))return;const n=DA(c(this,Ki).dataUpdatedAt,e)+1;A(this,Lu,setTimeout(()=>{c(this,Ki).isStale||this.updateResult()},n))},Pw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(c(this,Tt)):this.options.refetchInterval)??!1},Rw=function(e){k(this,Ut,Mw).call(this),A(this,Jl,e),!(Ph||ta(this.options.enabled,c(this,Tt))===!1||!Sw(c(this,Jl))||c(this,Jl)===0)&&A(this,Nu,setInterval(()=>{(this.options.refetchIntervalInBackground||fx.isFocused())&&k(this,Ut,Kp).call(this)},c(this,Jl)))},Lw=function(){k(this,Ut,Tw).call(this),k(this,Ut,Rw).call(this,k(this,Ut,Pw).call(this))},Nw=function(){c(this,Lu)&&(clearTimeout(c(this,Lu)),A(this,Lu,void 0))},Mw=function(){c(this,Nu)&&(clearInterval(c(this,Nu)),A(this,Nu,void 0))},Dw=function(){const e=c(this,vr).getQueryCache().build(c(this,vr),this.options);if(e===c(this,Tt))return;const t=c(this,Tt);A(this,Tt,e),A(this,xm,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},UA=function(e){Xn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(c(this,Ki))}),c(this,vr).getQueryCache().notify({query:c(this,Tt),type:"observerResultsUpdated"})})},PA);function WT(a,e){return ta(e.enabled,a)!==!1&&a.state.data===void 0&&!(a.state.status==="error"&&e.retryOnMount===!1)}function vS(a,e){return WT(a,e)||a.state.data!==void 0&&Iw(a,e,e.refetchOnMount)}function Iw(a,e,t){if(ta(e.enabled,a)!==!1){const n=typeof t=="function"?t(a):t;return n==="always"||n!==!1&&px(a,e)}return!1}function bS(a,e,t,n){return(a!==e||ta(n.enabled,a)===!1)&&(!t.suspense||a.state.status!=="error")&&px(a,t)}function px(a,e){return ta(e.enabled,a)!==!1&&a.isStaleByTime(Od(e.staleTime,a))}function VT(a,e){return!t0(a.getCurrentResult(),e)}var Zl,ec,br,ko,el,vv,Fw,RA,GT=(RA=class extends tp{constructor(t,n){super();R(this,el);R(this,Zl);R(this,ec);R(this,br);R(this,ko);A(this,Zl,t),this.setOptions(n),this.bindMethods(),k(this,el,vv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var s;const n=this.options;this.options=c(this,Zl).defaultMutationOptions(t),t0(this.options,n)||c(this,Zl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:c(this,br),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Rh(n.mutationKey)!==Rh(this.options.mutationKey)?this.reset():((s=c(this,br))==null?void 0:s.state.status)==="pending"&&c(this,br).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=c(this,br))==null||t.removeObserver(this)}onMutationUpdate(t){k(this,el,vv).call(this),k(this,el,Fw).call(this,t)}getCurrentResult(){return c(this,ec)}reset(){var t;(t=c(this,br))==null||t.removeObserver(this),A(this,br,void 0),k(this,el,vv).call(this),k(this,el,Fw).call(this)}mutate(t,n){var s;return A(this,ko,n),(s=c(this,br))==null||s.removeObserver(this),A(this,br,c(this,Zl).getMutationCache().build(c(this,Zl),this.options)),c(this,br).addObserver(this),c(this,br).execute(t)}},Zl=new WeakMap,ec=new WeakMap,br=new WeakMap,ko=new WeakMap,el=new WeakSet,vv=function(){var n;const t=((n=c(this,br))==null?void 0:n.state)??BA();A(this,ec,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Fw=function(t){Xn.batch(()=>{var n,s,o,l,h,d,f,g;if(c(this,ko)&&this.hasListeners()){const v=c(this,ec).variables,b=c(this,ec).context;(t==null?void 0:t.type)==="success"?((s=(n=c(this,ko)).onSuccess)==null||s.call(n,t.data,v,b),(l=(o=c(this,ko)).onSettled)==null||l.call(o,t.data,null,v,b)):(t==null?void 0:t.type)==="error"&&((d=(h=c(this,ko)).onError)==null||d.call(h,t.error,v,b),(g=(f=c(this,ko)).onSettled)==null||g.call(f,void 0,t.error,v,b))}this.listeners.forEach(v=>{v(c(this,ec))})})},RA),qA=I.createContext(void 0),np=a=>{const e=I.useContext(qA);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},XT=({client:a,children:e})=>(I.useEffect(()=>(a.mount(),()=>{a.unmount()}),[a]),x.jsx(qA.Provider,{value:a,children:e})),WA=I.createContext(!1),KT=()=>I.useContext(WA);WA.Provider;function QT(){let a=!1;return{clearReset:()=>{a=!1},reset:()=>{a=!0},isReset:()=>a}}var YT=I.createContext(QT()),JT=()=>I.useContext(YT);function VA(a,e){return typeof a=="function"?a(...e):!!a}function Ow(){}var ZT=(a,e)=>{(a.suspense||a.throwOnError||a.experimental_prefetchInRender)&&(e.isReset()||(a.retryOnMount=!1))},eP=a=>{I.useEffect(()=>{a.clearReset()},[a])},tP=({result:a,errorResetBoundary:e,throwOnError:t,query:n})=>a.isError&&!e.isReset()&&!a.isFetching&&n&&VA(t,[a.error,n]),nP=a=>{const e=a.staleTime;a.suspense&&(a.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof a.gcTime=="number"&&(a.gcTime=Math.max(a.gcTime,1e3)))},iP=(a,e)=>a.isLoading&&a.isFetching&&!e,rP=(a,e)=>(a==null?void 0:a.suspense)&&e.isPending,wS=(a,e,t)=>e.fetchOptimistic(a).catch(()=>{t.clearReset()});function sP(a,e,t){var g,v,b,_,S;const n=np(),s=KT(),o=JT(),l=n.defaultQueryOptions(a);(v=(g=n.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||v.call(g,l),l._optimisticResults=s?"isRestoring":"optimistic",nP(l),ZT(l,o),eP(o);const h=!n.getQueryCache().get(l.queryHash),[d]=I.useState(()=>new e(n,l)),f=d.getOptimisticResult(l);if(I.useSyncExternalStore(I.useCallback(C=>{const N=s?Ow:d.subscribe(Xn.batchCalls(C));return d.updateResult(),N},[d,s]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),I.useEffect(()=>{d.setOptions(l,{listeners:!1})},[l,d]),rP(l,f))throw wS(l,d,o);if(tP({result:f,errorResetBoundary:o,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash)}))throw f.error;if((_=(b=n.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||_.call(b,l,f),l.experimental_prefetchInRender&&!Ph&&iP(f,s)){const C=h?wS(l,d,o):(S=n.getQueryCache().get(l.queryHash))==null?void 0:S.promise;C==null||C.catch(Ow).finally(()=>{d.updateResult()})}return l.notifyOnChangeProps?f:d.trackResult(f)}function Tc(a,e){return sP(a,qT)}function Ja(a,e){const t=np(),[n]=I.useState(()=>new GT(t,a));I.useEffect(()=>{n.setOptions(a)},[n,a]);const s=I.useSyncExternalStore(I.useCallback(l=>n.subscribe(Xn.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=I.useCallback((l,h)=>{n.mutate(l,h).catch(Ow)},[n]);if(s.error&&VA(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}var Bp={},_S;function aP(){if(_S)return Bp;_S=1,Object.defineProperty(Bp,"__esModule",{value:!0}),Bp.parse=l,Bp.serialize=f;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function l(b,_){const S=new o,C=b.length;if(C<2)return S;const N=(_==null?void 0:_.decode)||g;let T=0;do{const F=b.indexOf("=",T);if(F===-1)break;const j=b.indexOf(";",T),O=j===-1?C:j;if(F>O){T=b.lastIndexOf(";",F-1)+1;continue}const D=h(b,T,F),U=d(b,F,D),Q=b.slice(D,U);if(S[Q]===void 0){let z=h(b,F+1,O),K=d(b,O,z);const Y=N(b.slice(z,K));S[Q]=Y}T=O+1}while(T<C);return S}function h(b,_,S){do{const C=b.charCodeAt(_);if(C!==32&&C!==9)return _}while(++_<S);return S}function d(b,_,S){for(;_>S;){const C=b.charCodeAt(--_);if(C!==32&&C!==9)return _+1}return S}function f(b,_,S){const C=(S==null?void 0:S.encode)||encodeURIComponent;if(!a.test(b))throw new TypeError(`argument name is invalid: ${b}`);const N=C(_);if(!e.test(N))throw new TypeError(`argument val is invalid: ${_}`);let T=b+"="+N;if(!S)return T;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);T+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);T+="; Domain="+S.domain}if(S.path){if(!n.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);T+="; Path="+S.path}if(S.expires){if(!v(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);T+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(T+="; HttpOnly"),S.secure&&(T+="; Secure"),S.partitioned&&(T+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return T}function g(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return s.call(b)==="[object Date]"}return Bp}aP();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xS="popstate";function oP(a={}){function e(n,s){let{pathname:o,search:l,hash:h}=n.location;return vm("",{pathname:o,search:l,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(n,s){return typeof s=="string"?s:Pc(s)}return cP(e,t,null,a)}function bt(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function hi(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lP(){return Math.random().toString(36).substring(2,10)}function ES(a,e){return{usr:a.state,key:a.key,idx:e}}function vm(a,e,t=null,n){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Dc(e):e,state:t,key:e&&e.key||n||lP()}}function Pc({pathname:a="/",search:e="",hash:t=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(a+=t.charAt(0)==="#"?t:"#"+t),a}function Dc(a){let e={};if(a){let t=a.indexOf("#");t>=0&&(e.hash=a.substring(t),a=a.substring(0,t));let n=a.indexOf("?");n>=0&&(e.search=a.substring(n),a=a.substring(0,n)),a&&(e.pathname=a)}return e}function cP(a,e,t,n={}){let{window:s=document.defaultView,v5Compat:o=!1}=n,l=s.history,h="POP",d=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function v(){h="POP";let N=g(),T=N==null?null:N-f;f=N,d&&d({action:h,location:C.location,delta:T})}function b(N,T){h="PUSH";let F=vm(C.location,N,T);f=g()+1;let j=ES(F,f),O=C.createHref(F);try{l.pushState(j,"",O)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(O)}o&&d&&d({action:h,location:C.location,delta:1})}function _(N,T){h="REPLACE";let F=vm(C.location,N,T);f=g();let j=ES(F,f),O=C.createHref(F);l.replaceState(j,"",O),o&&d&&d({action:h,location:C.location,delta:0})}function S(N){let T=s.location.origin!=="null"?s.location.origin:s.location.href,F=typeof N=="string"?N:Pc(N);return F=F.replace(/ $/,"%20"),bt(T,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,T)}let C={get action(){return h},get location(){return a(s,l)},listen(N){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(xS,v),d=N,()=>{s.removeEventListener(xS,v),d=null}},createHref(N){return e(s,N)},createURL:S,encodeLocation(N){let T=S(N);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:b,replace:_,go(N){return l.go(N)}};return C}var uP=new Set(["lazy","caseSensitive","path","id","index","children"]);function hP(a){return a.index===!0}function i0(a,e,t=[],n={}){return a.map((s,o)=>{let l=[...t,String(o)],h=typeof s.id=="string"?s.id:l.join("-");if(bt(s.index!==!0||!s.children,"Cannot specify children on an index route"),bt(!n[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),hP(s)){let d={...s,...e(s),id:h};return n[h]=d,d}else{let d={...s,...e(s),id:h,children:void 0};return n[h]=d,s.children&&(d.children=i0(s.children,e,l,n)),d}})}function Ul(a,e,t="/"){return bv(a,e,t,!1)}function bv(a,e,t,n){let s=typeof e=="string"?Dc(e):e,o=ia(s.pathname||"/",t);if(o==null)return null;let l=GA(a);fP(l);let h=null;for(let d=0;h==null&&d<l.length;++d){let f=SP(o);h=xP(l[d],f,n)}return h}function dP(a,e){let{route:t,pathname:n,params:s}=a;return{id:t.id,pathname:n,params:s,data:e[t.id],handle:t.handle}}function GA(a,e=[],t=[],n=""){let s=(o,l,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(bt(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let f=Qa([n,d.relativePath]),g=t.concat(d);o.children&&o.children.length>0&&(bt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),GA(o.children,e,g,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:wP(f,o.index),routesMeta:g})};return a.forEach((o,l)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))s(o,l);else for(let d of XA(o.path))s(o,l,d)}),e}function XA(a){let e=a.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let l=XA(n.join("/")),h=[];return h.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&h.push(...l),h.map(d=>a.startsWith("/")&&d===""?"/":d)}function fP(a){a.sort((e,t)=>e.score!==t.score?t.score-e.score:_P(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var pP=/^:[\w-]+$/,mP=3,gP=2,yP=1,vP=10,bP=-2,SS=a=>a==="*";function wP(a,e){let t=a.split("/"),n=t.length;return t.some(SS)&&(n+=bP),e&&(n+=gP),t.filter(s=>!SS(s)).reduce((s,o)=>s+(pP.test(o)?mP:o===""?yP:vP),n)}function _P(a,e){return a.length===e.length&&a.slice(0,-1).every((n,s)=>n===e[s])?a[a.length-1]-e[e.length-1]:0}function xP(a,e,t=!1){let{routesMeta:n}=a,s={},o="/",l=[];for(let h=0;h<n.length;++h){let d=n[h],f=h===n.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=r0({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),b=d.route;if(!v&&f&&t&&!n[n.length-1].route.index&&(v=r0({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:Qa([o,v.pathname]),pathnameBase:kP(Qa([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=Qa([o,v.pathnameBase]))}return l}function r0(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[t,n]=EP(a.path,a.caseSensitive,a.end),s=e.match(t);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:n.reduce((f,{paramName:g,isOptional:v},b)=>{if(g==="*"){let S=h[b]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const _=h[b];return v&&!_?f[g]=void 0:f[g]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:a}}function EP(a,e=!1,t=!0){hi(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let n=[],s="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,d)=>(n.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(n.push({paramName:"*"}),s+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":a!==""&&a!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function SP(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hi(!1,`The URL path "${a}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function ia(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=a.charAt(t);return n&&n!=="/"?null:a.slice(t)||"/"}function AP(a,e="/"){let{pathname:t,search:n="",hash:s=""}=typeof a=="string"?Dc(a):a;return{pathname:t?t.startsWith("/")?t:CP(t,e):e,search:TP(n),hash:PP(s)}}function CP(a,e){let t=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function dw(a,e,t,n){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KA(a){return a.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function P0(a){let e=KA(a);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function R0(a,e,t,n=!1){let s;typeof a=="string"?s=Dc(a):(s={...a},bt(!s.pathname||!s.pathname.includes("?"),dw("?","pathname","search",s)),bt(!s.pathname||!s.pathname.includes("#"),dw("#","pathname","hash",s)),bt(!s.search||!s.search.includes("#"),dw("#","search","hash",s)));let o=a===""||s.pathname==="",l=o?"/":s.pathname,h;if(l==null)h=t;else{let v=e.length-1;if(!n&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),v-=1;s.pathname=b.join("/")}h=v>=0?e[v]:"/"}let d=AP(s,h),f=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var Qa=a=>a.join("/").replace(/\/\/+/g,"/"),kP=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),TP=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,PP=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,s0=class{constructor(a,e,t,n=!1){this.status=a,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function L0(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var QA=["POST","PUT","PATCH","DELETE"],RP=new Set(QA),LP=["GET",...QA],NP=new Set(LP),MP=new Set([301,302,303,307,308]),DP=new Set([307,308]),fw={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IP={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Up={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},mx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FP=a=>({hasErrorBoundary:!!a.hasErrorBoundary}),YA="remix-router-transitions",JA=Symbol("ResetLoaderData");function OP(a){const e=a.window?a.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";bt(a.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=a.mapRouteProperties||FP,s={},o=i0(a.routes,n,void 0,s),l,h=a.basename||"/",d=a.dataStrategy||BP,f=a.patchRoutesOnNavigation,g={...a.future},v=null,b=new Set,_=null,S=null,C=null,N=a.hydrationData!=null,T=Ul(o,a.history.location,h),F=null;if(T==null&&!f){let $=gs(404,{pathname:a.history.location.pathname}),{matches:J,route:se}=IS(o);T=J,F={[se.id]:$}}T&&!a.hydrationData&&no(T,o,a.history.location.pathname).active&&(T=null);let j;if(T)if(T.some($=>$.route.lazy))j=!1;else if(!T.some($=>$.route.loader))j=!0;else{let $=a.hydrationData?a.hydrationData.loaderData:null,J=a.hydrationData?a.hydrationData.errors:null;if(J){let se=T.findIndex(ce=>J[ce.route.id]!==void 0);j=T.slice(0,se+1).every(ce=>!Hw(ce.route,$,J))}else j=T.every(se=>!Hw(se.route,$,J))}else{j=!1,T=[];let $=no(null,o,a.history.location.pathname);$.active&&$.matches&&(T=$.matches)}let O,D={historyAction:a.history.action,location:a.history.location,matches:T,initialized:j,navigation:fw,restoreScrollPosition:a.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:a.hydrationData&&a.hydrationData.loaderData||{},actionData:a.hydrationData&&a.hydrationData.actionData||null,errors:a.hydrationData&&a.hydrationData.errors||F,fetchers:new Map,blockers:new Map},U="POP",Q=!1,z,K=!1,Y=new Map,te=null,le=!1,we=!1,Te=new Set,Ae=new Map,$e=0,fe=-1,ae=new Map,_e=new Set,G=new Map,q=new Map,re=new Set,Ee=new Map,Me,qe=null;function Pe(){if(v=a.history.listen(({action:$,location:J,delta:se})=>{if(Me){Me(),Me=void 0;return}hi(Ee.size===0||se!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ce=ll({currentLocation:D.location,nextLocation:J,historyAction:$});if(ce&&se!=null){let De=new Promise(We=>{Me=We});a.history.go(se*-1),oa(ce,{state:"blocked",location:J,proceed(){oa(ce,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),De.then(()=>a.history.go(se))},reset(){let We=new Map(D.blockers);We.set(ce,Up),Ge({blockers:We})}});return}return ye($,J)}),t){ZP(e,Y);let $=()=>eR(e,Y);e.addEventListener("pagehide",$),te=()=>e.removeEventListener("pagehide",$)}return D.initialized||ye("POP",D.location,{initialHydration:!0}),O}function He(){v&&v(),te&&te(),b.clear(),z&&z.abort(),D.fetchers.forEach(($,J)=>Ln(J)),D.blockers.forEach(($,J)=>qh(J))}function de($){return b.add($),()=>b.delete($)}function Ge($,J={}){D={...D,...$};let se=[],ce=[];D.fetchers.forEach((De,We)=>{De.state==="idle"&&(re.has(We)?se.push(We):ce.push(We))}),[...b].forEach(De=>De(D,{deletedFetchers:se,viewTransitionOpts:J.viewTransitionOpts,flushSync:J.flushSync===!0})),se.forEach(De=>Ln(De)),ce.forEach(De=>D.fetchers.delete(De))}function it($,J,{flushSync:se}={}){var xe,st;let ce=D.actionData!=null&&D.navigation.formMethod!=null&&ea(D.navigation.formMethod)&&D.navigation.state==="loading"&&((xe=$.state)==null?void 0:xe._isRedirect)!==!0,De;J.actionData?Object.keys(J.actionData).length>0?De=J.actionData:De=null:ce?De=D.actionData:De=null;let We=J.loaderData?MS(D.loaderData,J.loaderData,J.matches||[],J.errors):D.loaderData,rt=D.blockers;rt.size>0&&(rt=new Map(rt),rt.forEach((ht,Kt)=>rt.set(Kt,Up)));let Re=Q===!0||D.navigation.formMethod!=null&&ea(D.navigation.formMethod)&&((st=$.state)==null?void 0:st._isRedirect)!==!0;l&&(o=l,l=void 0),le||U==="POP"||(U==="PUSH"?a.history.push($,$.state):U==="REPLACE"&&a.history.replace($,$.state));let Le;if(U==="POP"){let ht=Y.get(D.location.pathname);ht&&ht.has($.pathname)?Le={currentLocation:D.location,nextLocation:$}:Y.has($.pathname)&&(Le={currentLocation:$,nextLocation:D.location})}else if(K){let ht=Y.get(D.location.pathname);ht?ht.add($.pathname):(ht=new Set([$.pathname]),Y.set(D.location.pathname,ht)),Le={currentLocation:D.location,nextLocation:$}}Ge({...J,actionData:De,loaderData:We,historyAction:U,location:$,initialized:!0,navigation:fw,revalidation:"idle",restoreScrollPosition:Vr($,J.matches||D.matches),preventScrollReset:Re,blockers:rt},{viewTransitionOpts:Le,flushSync:se===!0}),U="POP",Q=!1,K=!1,le=!1,we=!1,qe==null||qe.resolve(),qe=null}async function be($,J){if(typeof $=="number"){a.history.go($);return}let se=jw(D.location,D.matches,h,$,J==null?void 0:J.fromRouteId,J==null?void 0:J.relative),{path:ce,submission:De,error:We}=AS(!1,se,J),rt=D.location,Re=vm(D.location,ce,J&&J.state);Re={...Re,...a.history.encodeLocation(Re)};let Le=J&&J.replace!=null?J.replace:void 0,xe="PUSH";Le===!0?xe="REPLACE":Le===!1||De!=null&&ea(De.formMethod)&&De.formAction===D.location.pathname+D.location.search&&(xe="REPLACE");let st=J&&"preventScrollReset"in J?J.preventScrollReset===!0:void 0,ht=(J&&J.flushSync)===!0,Kt=ll({currentLocation:rt,nextLocation:Re,historyAction:xe});if(Kt){oa(Kt,{state:"blocked",location:Re,proceed(){oa(Kt,{state:"proceeding",proceed:void 0,reset:void 0,location:Re}),be($,J)},reset(){let Cn=new Map(D.blockers);Cn.set(Kt,Up),Ge({blockers:Cn})}});return}await ye(xe,Re,{submission:De,pendingError:We,preventScrollReset:st,replace:J&&J.replace,enableViewTransition:J&&J.viewTransition,flushSync:ht})}function me(){qe||(qe=tR()),Cr(),Ge({revalidation:"loading"});let $=qe.promise;return D.navigation.state==="submitting"?$:D.navigation.state==="idle"?(ye(D.historyAction,D.location,{startUninterruptedRevalidation:!0}),$):(ye(U||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation,enableViewTransition:K===!0}),$)}async function ye($,J,se){z&&z.abort(),z=null,U=$,le=(se&&se.startUninterruptedRevalidation)===!0,Es(D.location,D.matches),Q=(se&&se.preventScrollReset)===!0,K=(se&&se.enableViewTransition)===!0;let ce=l||o,De=se&&se.overrideNavigation,We=Ul(ce,J,h),rt=(se&&se.flushSync)===!0,Re=no(We,ce,J.pathname);if(Re.active&&Re.matches&&(We=Re.matches),!We){let{error:wt,notFoundMatches:dt,route:At}=to(J.pathname);it(J,{matches:dt,loaderData:{},errors:{[At.id]:wt}},{flushSync:rt});return}if(D.initialized&&!we&&XP(D.location,J)&&!(se&&se.submission&&ea(se.submission.formMethod))){it(J,{matches:We},{flushSync:rt});return}z=new AbortController;let Le=kd(a.history,J,z.signal,se&&se.submission),xe;if(se&&se.pendingError)xe=[xu(We).route.id,{type:"error",error:se.pendingError}];else if(se&&se.submission&&ea(se.submission.formMethod)){let wt=await Ke(Le,J,se.submission,We,Re.active,{replace:se.replace,flushSync:rt});if(wt.shortCircuited)return;if(wt.pendingActionResult){let[dt,At]=wt.pendingActionResult;if(Br(At)&&L0(At.error)&&At.error.status===404){z=null,it(J,{matches:wt.matches,loaderData:{},errors:{[dt]:At.error}});return}}We=wt.matches||We,xe=wt.pendingActionResult,De=pw(J,se.submission),rt=!1,Re.active=!1,Le=kd(a.history,Le.url,Le.signal)}let{shortCircuited:st,matches:ht,loaderData:Kt,errors:Cn}=await nt(Le,J,We,Re.active,De,se&&se.submission,se&&se.fetcherSubmission,se&&se.replace,se&&se.initialHydration===!0,rt,xe);st||(z=null,it(J,{matches:ht||We,...DS(xe),loaderData:Kt,errors:Cn}))}async function Ke($,J,se,ce,De,We={}){Cr();let rt=YP(J,se);if(Ge({navigation:rt},{flushSync:We.flushSync===!0}),De){let xe=await io(ce,J.pathname,$.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){let st=xu(xe.partialMatches).route.id;return{matches:xe.partialMatches,pendingActionResult:[st,{type:"error",error:xe.error}]}}else if(xe.matches)ce=xe.matches;else{let{notFoundMatches:st,error:ht,route:Kt}=to(J.pathname);return{matches:st,pendingActionResult:[Kt.id,{type:"error",error:ht}]}}}let Re,Le=Qp(ce,J);if(!Le.route.action&&!Le.route.lazy)Re={type:"error",error:gs(405,{method:$.method,pathname:J.pathname,routeId:Le.route.id})};else if(Re=(await Ar("action",D,$,[Le],ce,null))[Le.route.id],$.signal.aborted)return{shortCircuited:!0};if(Au(Re)){let xe;return We&&We.replace!=null?xe=We.replace:xe=RS(Re.response.headers.get("Location"),new URL($.url),h)===D.location.pathname+D.location.search,await An($,Re,!0,{submission:se,replace:xe}),{shortCircuited:!0}}if(Br(Re)){let xe=xu(ce,Le.route.id);return(We&&We.replace)!==!0&&(U="PUSH"),{matches:ce,pendingActionResult:[xe.route.id,Re]}}return{matches:ce,pendingActionResult:[Le.route.id,Re]}}async function nt($,J,se,ce,De,We,rt,Re,Le,xe,st){let ht=De||pw(J,We),Kt=We||rt||OS(ht),Cn=!le&&!Le;if(ce){if(Cn){let hn=St(st);Ge({navigation:ht,...hn!==void 0?{actionData:hn}:{}},{flushSync:xe})}let Lt=await io(se,J.pathname,$.signal);if(Lt.type==="aborted")return{shortCircuited:!0};if(Lt.type==="error"){let hn=xu(Lt.partialMatches).route.id;return{matches:Lt.partialMatches,loaderData:{},errors:{[hn]:Lt.error}}}else if(Lt.matches)se=Lt.matches;else{let{error:hn,notFoundMatches:Tr,route:la}=to(J.pathname);return{matches:Tr,loaderData:{},errors:{[la.id]:hn}}}}let wt=l||o,[dt,At]=kS(a.history,D,se,Kt,J,Le===!0,we,Te,re,G,_e,wt,h,st);if(fe=++$e,dt.length===0&&At.length===0){let Lt=ol();return it(J,{matches:se,loaderData:{},errors:st&&Br(st[1])?{[st[0]]:st[1].error}:null,...DS(st),...Lt?{fetchers:new Map(D.fetchers)}:{}},{flushSync:xe}),{shortCircuited:!0}}if(Cn){let Lt={};if(!ce){Lt.navigation=ht;let hn=St(st);hn!==void 0&&(Lt.actionData=hn)}At.length>0&&(Lt.fetchers=er(At)),Ge(Lt,{flushSync:xe})}At.forEach(Lt=>{un(Lt.key),Lt.controller&&Ae.set(Lt.key,Lt.controller)});let vn=()=>At.forEach(Lt=>un(Lt.key));z&&z.signal.addEventListener("abort",vn);let{loaderResults:on,fetcherResults:pi}=await eo(D,se,dt,At,$);if($.signal.aborted)return{shortCircuited:!0};z&&z.signal.removeEventListener("abort",vn),At.forEach(Lt=>Ae.delete(Lt.key));let Nn=cv(on);if(Nn)return await An($,Nn.result,!0,{replace:Re}),{shortCircuited:!0};if(Nn=cv(pi),Nn)return _e.add(Nn.key),await An($,Nn.result,!0,{replace:Re}),{shortCircuited:!0};let{loaderData:tr,errors:nr}=NS(D,se,on,st,At,pi);Le&&D.errors&&(nr={...D.errors,...nr});let Gr=ol(),$t=Oc(fe),kr=Gr||$t||At.length>0;return{matches:se,loaderData:tr,errors:nr,...kr?{fetchers:new Map(D.fetchers)}:{}}}function St($){if($&&!Br($[1]))return{[$[0]]:$[1].data};if(D.actionData)return Object.keys(D.actionData).length===0?null:D.actionData}function er($){return $.forEach(J=>{let se=D.fetchers.get(J.key),ce=qp(void 0,se?se.data:void 0);D.fetchers.set(J.key,ce)}),new Map(D.fetchers)}async function Wr($,J,se,ce){un($);let De=(ce&&ce.flushSync)===!0,We=l||o,rt=jw(D.location,D.matches,h,se,J,ce==null?void 0:ce.relative),Re=Ul(We,rt,h),Le=no(Re,We,rt);if(Le.active&&Le.matches&&(Re=Le.matches),!Re){fi($,J,gs(404,{pathname:rt}),{flushSync:De});return}let{path:xe,submission:st,error:ht}=AS(!0,rt,ce);if(ht){fi($,J,ht,{flushSync:De});return}let Kt=Qp(Re,xe),Cn=(ce&&ce.preventScrollReset)===!0;if(st&&ea(st.formMethod)){await Za($,J,xe,Kt,Re,Le.active,De,Cn,st);return}G.set($,{routeId:J,path:xe}),await _s($,J,xe,Kt,Re,Le.active,De,Cn,st)}async function Za($,J,se,ce,De,We,rt,Re,Le){Cr(),G.delete($);function xe(nn){if(!nn.route.action&&!nn.route.lazy){let ir=gs(405,{method:Le.formMethod,pathname:se,routeId:J});return fi($,J,ir,{flushSync:rt}),!0}return!1}if(!We&&xe(ce))return;let st=D.fetchers.get($);yn($,JP(Le,st),{flushSync:rt});let ht=new AbortController,Kt=kd(a.history,se,ht.signal,Le);if(We){let nn=await io(De,se,Kt.signal);if(nn.type==="aborted")return;if(nn.type==="error"){fi($,J,nn.error,{flushSync:rt});return}else if(nn.matches){if(De=nn.matches,ce=Qp(De,se),xe(ce))return}else{fi($,J,gs(404,{pathname:se}),{flushSync:rt});return}}Ae.set($,ht);let Cn=$e,dt=(await Ar("action",D,Kt,[ce],De,$))[ce.route.id];if(Kt.signal.aborted){Ae.get($)===ht&&Ae.delete($);return}if(re.has($)){if(Au(dt)||Br(dt)){yn($,$l(void 0));return}}else{if(Au(dt))if(Ae.delete($),fe>Cn){yn($,$l(void 0));return}else return _e.add($),yn($,qp(Le)),An(Kt,dt,!1,{fetcherSubmission:Le,preventScrollReset:Re});if(Br(dt)){fi($,J,dt.error);return}}let At=D.navigation.location||D.location,vn=kd(a.history,At,ht.signal),on=l||o,pi=D.navigation.state!=="idle"?Ul(on,D.navigation.location,h):D.matches;bt(pi,"Didn't find any matches after fetcher action");let Nn=++$e;ae.set($,Nn);let tr=qp(Le,dt.data);D.fetchers.set($,tr);let[nr,Gr]=kS(a.history,D,pi,Le,At,!1,we,Te,re,G,_e,on,h,[ce.route.id,dt]);Gr.filter(nn=>nn.key!==$).forEach(nn=>{let ir=nn.key,Ai=D.fetchers.get(ir),Gh=qp(void 0,Ai?Ai.data:void 0);D.fetchers.set(ir,Gh),un(ir),nn.controller&&Ae.set(ir,nn.controller)}),Ge({fetchers:new Map(D.fetchers)});let $t=()=>Gr.forEach(nn=>un(nn.key));ht.signal.addEventListener("abort",$t);let{loaderResults:kr,fetcherResults:Lt}=await eo(D,pi,nr,Gr,vn);if(ht.signal.aborted)return;ht.signal.removeEventListener("abort",$t),ae.delete($),Ae.delete($),Gr.forEach(nn=>Ae.delete(nn.key));let hn=cv(kr);if(hn)return An(vn,hn.result,!1,{preventScrollReset:Re});if(hn=cv(Lt),hn)return _e.add(hn.key),An(vn,hn.result,!1,{preventScrollReset:Re});let{loaderData:Tr,errors:la}=NS(D,pi,kr,void 0,Gr,Lt);if(D.fetchers.has($)){let nn=$l(dt.data);D.fetchers.set($,nn)}Oc(Nn),D.navigation.state==="loading"&&Nn>fe?(bt(U,"Expected pending action"),z&&z.abort(),it(D.navigation.location,{matches:pi,loaderData:Tr,errors:la,fetchers:new Map(D.fetchers)})):(Ge({errors:la,loaderData:MS(D.loaderData,Tr,pi,la),fetchers:new Map(D.fetchers)}),we=!1)}async function _s($,J,se,ce,De,We,rt,Re,Le){let xe=D.fetchers.get($);yn($,qp(Le,xe?xe.data:void 0),{flushSync:rt});let st=new AbortController,ht=kd(a.history,se,st.signal);if(We){let dt=await io(De,se,ht.signal);if(dt.type==="aborted")return;if(dt.type==="error"){fi($,J,dt.error,{flushSync:rt});return}else if(dt.matches)De=dt.matches,ce=Qp(De,se);else{fi($,J,gs(404,{pathname:se}),{flushSync:rt});return}}Ae.set($,st);let Kt=$e,wt=(await Ar("loader",D,ht,[ce],De,$))[ce.route.id];if(Ae.get($)===st&&Ae.delete($),!ht.signal.aborted){if(re.has($)){yn($,$l(void 0));return}if(Au(wt))if(fe>Kt){yn($,$l(void 0));return}else{_e.add($),await An(ht,wt,!1,{preventScrollReset:Re});return}if(Br(wt)){fi($,J,wt.error);return}yn($,$l(wt.data))}}async function An($,J,se,{submission:ce,fetcherSubmission:De,preventScrollReset:We,replace:rt}={}){J.response.headers.has("X-Remix-Revalidate")&&(we=!0);let Re=J.response.headers.get("Location");bt(Re,"Expected a Location header on the redirect Response"),Re=RS(Re,new URL($.url),h);let Le=vm(D.location,Re,{_isRedirect:!0});if(t){let wt=!1;if(J.response.headers.has("X-Remix-Reload-Document"))wt=!0;else if(mx.test(Re)){const dt=a.history.createURL(Re);wt=dt.origin!==e.location.origin||ia(dt.pathname,h)==null}if(wt){rt?e.location.replace(Re):e.location.assign(Re);return}}z=null;let xe=rt===!0||J.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:st,formAction:ht,formEncType:Kt}=D.navigation;!ce&&!De&&st&&ht&&Kt&&(ce=OS(D.navigation));let Cn=ce||De;if(DP.has(J.response.status)&&Cn&&ea(Cn.formMethod))await ye(xe,Le,{submission:{...Cn,formAction:Re},preventScrollReset:We||Q,enableViewTransition:se?K:void 0});else{let wt=pw(Le,ce);await ye(xe,Le,{overrideNavigation:wt,fetcherSubmission:De,preventScrollReset:We||Q,enableViewTransition:se?K:void 0})}}async function Ar($,J,se,ce,De,We){let rt,Re={};try{rt=await UP(d,$,J,se,ce,De,We,s,n)}catch(Le){return ce.forEach(xe=>{Re[xe.route.id]={type:"error",error:Le}}),Re}for(let[Le,xe]of Object.entries(rt))if(KP(xe)){let st=xe.result;Re[Le]={type:"redirect",response:VP(st,se,Le,De,h)}}else Re[Le]=await WP(xe);return Re}async function eo($,J,se,ce,De){let We=Ar("loader",$,De,se,J,null),rt=Promise.all(ce.map(async xe=>{if(xe.matches&&xe.match&&xe.controller){let ht=(await Ar("loader",$,kd(a.history,xe.path,xe.controller.signal),[xe.match],xe.matches,xe.key))[xe.match.route.id];return{[xe.key]:ht}}else return Promise.resolve({[xe.key]:{type:"error",error:gs(404,{pathname:xe.path})}})})),Re=await We,Le=(await rt).reduce((xe,st)=>Object.assign(xe,st),{});return{loaderResults:Re,fetcherResults:Le}}function Cr(){we=!0,G.forEach(($,J)=>{Ae.has(J)&&Te.add(J),un(J)})}function yn($,J,se={}){D.fetchers.set($,J),Ge({fetchers:new Map(D.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function fi($,J,se,ce={}){let De=xu(D.matches,J);Ln($),Ge({errors:{[De.route.id]:se},fetchers:new Map(D.fetchers)},{flushSync:(ce&&ce.flushSync)===!0})}function On($){return q.set($,(q.get($)||0)+1),re.has($)&&re.delete($),D.fetchers.get($)||IP}function Ln($){let J=D.fetchers.get($);Ae.has($)&&!(J&&J.state==="loading"&&ae.has($))&&un($),G.delete($),ae.delete($),_e.delete($),re.delete($),Te.delete($),D.fetchers.delete($)}function Si($){let J=(q.get($)||0)-1;J<=0?(q.delete($),re.add($)):q.set($,J),Ge({fetchers:new Map(D.fetchers)})}function un($){let J=Ae.get($);J&&(J.abort(),Ae.delete($))}function aa($){for(let J of $){let se=On(J),ce=$l(se.data);D.fetchers.set(J,ce)}}function ol(){let $=[],J=!1;for(let se of _e){let ce=D.fetchers.get(se);bt(ce,`Expected fetcher: ${se}`),ce.state==="loading"&&(_e.delete(se),$.push(se),J=!0)}return aa($),J}function Oc($){let J=[];for(let[se,ce]of ae)if(ce<$){let De=D.fetchers.get(se);bt(De,`Expected fetcher: ${se}`),De.state==="loading"&&(un(se),ae.delete(se),J.push(se))}return aa(J),J.length>0}function Uh($,J){let se=D.blockers.get($)||Up;return Ee.get($)!==J&&Ee.set($,J),se}function qh($){D.blockers.delete($),Ee.delete($)}function oa($,J){let se=D.blockers.get($)||Up;bt(se.state==="unblocked"&&J.state==="blocked"||se.state==="blocked"&&J.state==="blocked"||se.state==="blocked"&&J.state==="proceeding"||se.state==="blocked"&&J.state==="unblocked"||se.state==="proceeding"&&J.state==="unblocked",`Invalid blocker state transition: ${se.state} -> ${J.state}`);let ce=new Map(D.blockers);ce.set($,J),Ge({blockers:ce})}function ll({currentLocation:$,nextLocation:J,historyAction:se}){if(Ee.size===0)return;Ee.size>1&&hi(!1,"A router only supports one blocker at a time");let ce=Array.from(Ee.entries()),[De,We]=ce[ce.length-1],rt=D.blockers.get(De);if(!(rt&&rt.state==="proceeding")&&We({currentLocation:$,nextLocation:J,historyAction:se}))return De}function to($){let J=gs(404,{pathname:$}),se=l||o,{matches:ce,route:De}=IS(se);return{notFoundMatches:ce,route:De,error:J}}function cl($,J,se){if(_=$,C=J,S=se||null,!N&&D.navigation===fw){N=!0;let ce=Vr(D.location,D.matches);ce!=null&&Ge({restoreScrollPosition:ce})}return()=>{_=null,C=null,S=null}}function xs($,J){return S&&S($,J.map(ce=>dP(ce,D.loaderData)))||$.key}function Es($,J){if(_&&C){let se=xs($,J);_[se]=C()}}function Vr($,J){if(_){let se=xs($,J),ce=_[se];if(typeof ce=="number")return ce}return null}function no($,J,se){if(f)if($){if(Object.keys($[0].params).length>0)return{active:!0,matches:bv(J,se,h,!0)}}else return{active:!0,matches:bv(J,se,h,!0)||[]};return{active:!1,matches:null}}async function io($,J,se){if(!f)return{type:"success",matches:$};let ce=$;for(;;){let De=l==null,We=l||o,rt=s;try{await f({path:J,matches:ce,patch:(xe,st)=>{se.aborted||PS(xe,st,We,rt,n)}})}catch(xe){return{type:"error",error:xe,partialMatches:ce}}finally{De&&!se.aborted&&(o=[...o])}if(se.aborted)return{type:"aborted"};let Re=Ul(We,J,h);if(Re)return{type:"success",matches:Re};let Le=bv(We,J,h,!0);if(!Le||ce.length===Le.length&&ce.every((xe,st)=>xe.route.id===Le[st].route.id))return{type:"success",matches:null};ce=Le}}function Wh($){s={},l=i0($,n,void 0,s)}function Vh($,J){let se=l==null;PS($,J,l||o,s,n),se&&(o=[...o],Ge({}))}return O={get basename(){return h},get future(){return g},get state(){return D},get routes(){return o},get window(){return e},initialize:Pe,subscribe:de,enableScrollRestoration:cl,navigate:be,fetch:Wr,revalidate:me,createHref:$=>a.history.createHref($),encodeLocation:$=>a.history.encodeLocation($),getFetcher:On,deleteFetcher:Si,dispose:He,getBlocker:Uh,deleteBlocker:qh,patchRoutes:Vh,_internalFetchControllers:Ae,_internalSetRoutes:Wh},O}function jP(a){return a!=null&&("formData"in a&&a.formData!=null||"body"in a&&a.body!==void 0)}function jw(a,e,t,n,s,o){let l,h;if(s){l=[];for(let f of e)if(l.push(f),f.route.id===s){h=f;break}}else l=e,h=e[e.length-1];let d=R0(n||".",P0(l),ia(a.pathname,t)||a.pathname,o==="path");if(n==null&&(d.search=a.search,d.hash=a.hash),(n==null||n===""||n===".")&&h){let f=gx(d.search);if(h.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&f){let g=new URLSearchParams(d.search),v=g.getAll("index");g.delete("index"),v.filter(_=>_).forEach(_=>g.append("index",_));let b=g.toString();d.search=b?`?${b}`:""}}return t!=="/"&&(d.pathname=d.pathname==="/"?t:Qa([t,d.pathname])),Pc(d)}function AS(a,e,t){if(!t||!jP(t))return{path:e};if(t.formMethod&&!QP(t.formMethod))return{path:e,error:gs(405,{method:t.formMethod})};let n=()=>({path:e,error:gs(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),l=e1(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!ea(o))return n();let v=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((b,[_,S])=>`${b}${_}=${S}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:l,formEncType:t.formEncType,formData:void 0,json:void 0,text:v}}}else if(t.formEncType==="application/json"){if(!ea(o))return n();try{let v=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:l,formEncType:t.formEncType,formData:void 0,json:v,text:void 0}}}catch{return n()}}}bt(typeof FormData=="function","FormData is not available in this environment");let h,d;if(t.formData)h=$w(t.formData),d=t.formData;else if(t.body instanceof FormData)h=$w(t.body),d=t.body;else if(t.body instanceof URLSearchParams)h=t.body,d=LS(h);else if(t.body==null)h=new URLSearchParams,d=new FormData;else try{h=new URLSearchParams(t.body),d=LS(h)}catch{return n()}let f={formMethod:o,formAction:l,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(ea(f.formMethod))return{path:e,submission:f};let g=Dc(e);return a&&g.search&&gx(g.search)&&h.append("index",""),g.search=`?${h}`,{path:Pc(g),submission:f}}function CS(a,e,t=!1){let n=a.findIndex(s=>s.route.id===e);return n>=0?a.slice(0,t?n+1:n):a}function kS(a,e,t,n,s,o,l,h,d,f,g,v,b,_){let S=_?Br(_[1])?_[1].error:_[1].data:void 0,C=a.createURL(e.location),N=a.createURL(s),T=t;o&&e.errors?T=CS(t,Object.keys(e.errors)[0],!0):_&&Br(_[1])&&(T=CS(t,_[0]));let F=_?_[1].statusCode:void 0,j=F&&F>=400,O=T.filter((U,Q)=>{let{route:z}=U;if(z.lazy)return!0;if(z.loader==null)return!1;if(o)return Hw(z,e.loaderData,e.errors);if(HP(e.loaderData,e.matches[Q],U))return!0;let K=e.matches[Q],Y=U;return TS(U,{currentUrl:C,currentParams:K.params,nextUrl:N,nextParams:Y.params,...n,actionResult:S,actionStatus:F,defaultShouldRevalidate:j?!1:l||C.pathname+C.search===N.pathname+N.search||C.search!==N.search||$P(K,Y)})}),D=[];return f.forEach((U,Q)=>{if(o||!t.some(le=>le.route.id===U.routeId)||d.has(Q))return;let z=Ul(v,U.path,b);if(!z){D.push({key:Q,routeId:U.routeId,path:U.path,matches:null,match:null,controller:null});return}let K=e.fetchers.get(Q),Y=Qp(z,U.path),te=!1;g.has(Q)?te=!1:h.has(Q)?(h.delete(Q),te=!0):K&&K.state!=="idle"&&K.data===void 0?te=l:te=TS(Y,{currentUrl:C,currentParams:e.matches[e.matches.length-1].params,nextUrl:N,nextParams:t[t.length-1].params,...n,actionResult:S,actionStatus:F,defaultShouldRevalidate:j?!1:l}),te&&D.push({key:Q,routeId:U.routeId,path:U.path,matches:z,match:Y,controller:new AbortController})}),[O,D]}function Hw(a,e,t){if(a.lazy)return!0;if(!a.loader)return!1;let n=e!=null&&e[a.id]!==void 0,s=t!=null&&t[a.id]!==void 0;return!n&&s?!1:typeof a.loader=="function"&&a.loader.hydrate===!0?!0:!n&&!s}function HP(a,e,t){let n=!e||t.route.id!==e.route.id,s=!a.hasOwnProperty(t.route.id);return n||s}function $P(a,e){let t=a.route.path;return a.pathname!==e.pathname||t!=null&&t.endsWith("*")&&a.params["*"]!==e.params["*"]}function TS(a,e){if(a.route.shouldRevalidate){let t=a.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function PS(a,e,t,n,s){let o;if(a){let d=n[a];bt(d,`No route found to patch children into: routeId = ${a}`),d.children||(d.children=[]),o=d.children}else o=t;let l=e.filter(d=>!o.some(f=>ZA(d,f))),h=i0(l,s,[a||"_","patch",String((o==null?void 0:o.length)||"0")],n);o.push(...h)}function ZA(a,e){return"id"in a&&"id"in e&&a.id===e.id?!0:a.index===e.index&&a.path===e.path&&a.caseSensitive===e.caseSensitive?(!a.children||a.children.length===0)&&(!e.children||e.children.length===0)?!0:a.children.every((t,n)=>{var s;return(s=e.children)==null?void 0:s.some(o=>ZA(t,o))}):!1}async function zP(a,e,t){if(!a.lazy)return;let n=await a.lazy();if(!a.lazy)return;let s=t[a.id];bt(s,"No route found in manifest");let o={};for(let l in n){let d=s[l]!==void 0&&l!=="hasErrorBoundary";hi(!d,`Route "${s.id}" has a static property "${l}" defined but its lazy function is also returning a value for this property. The lazy route property "${l}" will be ignored.`),!d&&!uP.has(l)&&(o[l]=n[l])}Object.assign(s,o),Object.assign(s,{...e(s),lazy:void 0})}async function BP({matches:a}){let e=a.filter(n=>n.shouldLoad);return(await Promise.all(e.map(n=>n.resolve()))).reduce((n,s,o)=>Object.assign(n,{[e[o].route.id]:s}),{})}async function UP(a,e,t,n,s,o,l,h,d,f){let g=o.map(_=>_.route.lazy?zP(_.route,d,h):void 0),v=o.map((_,S)=>{let C=g[S],N=s.some(F=>F.route.id===_.route.id);return{..._,shouldLoad:N,resolve:async F=>(F&&n.method==="GET"&&(_.route.lazy||_.route.loader)&&(N=!0),N?qP(e,n,_,C,F,f):Promise.resolve({type:"data",result:void 0}))}}),b=await a({matches:v,request:n,params:o[0].params,fetcherKey:l,context:f});try{await Promise.all(g)}catch{}return b}async function qP(a,e,t,n,s,o){let l,h,d=f=>{let g,v=new Promise((S,C)=>g=C);h=()=>g(),e.signal.addEventListener("abort",h);let b=S=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${a}" [routeId: ${t.route.id}]`)):f({request:e,params:t.params,context:o},...S!==void 0?[S]:[]),_=(async()=>{try{return{type:"data",result:await(s?s(C=>b(C)):b())}}catch(S){return{type:"error",result:S}}})();return Promise.race([_,v])};try{let f=t.route[a];if(n)if(f){let g,[v]=await Promise.all([d(f).catch(b=>{g=b}),n]);if(g!==void 0)throw g;l=v}else if(await n,f=t.route[a],f)l=await d(f);else if(a==="action"){let g=new URL(e.url),v=g.pathname+g.search;throw gs(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:"data",result:void 0};else if(f)l=await d(f);else{let g=new URL(e.url),v=g.pathname+g.search;throw gs(404,{pathname:v})}}catch(f){return{type:"error",result:f}}finally{h&&e.signal.removeEventListener("abort",h)}return l}async function WP(a){var n,s,o,l;let{result:e,type:t}=a;if(t1(e)){let h;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(d){return{type:"error",error:d}}return t==="error"?{type:"error",error:new s0(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:"data",data:h,statusCode:e.status,headers:e.headers}}if(t==="error"){if(FS(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(n=e.init)==null?void 0:n.status};e=new s0(((s=e.init)==null?void 0:s.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:L0(e)?e.status:void 0}}return FS(e)?{type:"data",data:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function VP(a,e,t,n,s){let o=a.headers.get("Location");if(bt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!mx.test(o)){let l=n.slice(0,n.findIndex(h=>h.route.id===t)+1);o=jw(new URL(e.url),l,s,o),a.headers.set("Location",o)}return a}function RS(a,e,t){if(mx.test(a)){let n=a,s=n.startsWith("//")?new URL(e.protocol+n):new URL(n),o=ia(s.pathname,t)!=null;if(s.origin===e.origin&&o)return s.pathname+s.search+s.hash}return a}function kd(a,e,t,n){let s=a.createURL(e1(e)).toString(),o={signal:t};if(n&&ea(n.formMethod)){let{formMethod:l,formEncType:h}=n;o.method=l.toUpperCase(),h==="application/json"?(o.headers=new Headers({"Content-Type":h}),o.body=JSON.stringify(n.json)):h==="text/plain"?o.body=n.text:h==="application/x-www-form-urlencoded"&&n.formData?o.body=$w(n.formData):o.body=n.formData}return new Request(s,o)}function $w(a){let e=new URLSearchParams;for(let[t,n]of a.entries())e.append(t,typeof n=="string"?n:n.name);return e}function LS(a){let e=new FormData;for(let[t,n]of a.entries())e.append(t,n);return e}function GP(a,e,t,n=!1,s=!1){let o={},l=null,h,d=!1,f={},g=t&&Br(t[1])?t[1].error:void 0;return a.forEach(v=>{if(!(v.route.id in e))return;let b=v.route.id,_=e[b];if(bt(!Au(_),"Cannot handle redirect results in processLoaderData"),Br(_)){let S=_.error;if(g!==void 0&&(S=g,g=void 0),l=l||{},s)l[b]=S;else{let C=xu(a,b);l[C.route.id]==null&&(l[C.route.id]=S)}n||(o[b]=JA),d||(d=!0,h=L0(_.error)?_.error.status:500),_.headers&&(f[b]=_.headers)}else o[b]=_.data,_.statusCode&&_.statusCode!==200&&!d&&(h=_.statusCode),_.headers&&(f[b]=_.headers)}),g!==void 0&&t&&(l={[t[0]]:g},o[t[0]]=void 0),{loaderData:o,errors:l,statusCode:h||200,loaderHeaders:f}}function NS(a,e,t,n,s,o){let{loaderData:l,errors:h}=GP(e,t,n);return s.forEach(d=>{let{key:f,match:g,controller:v}=d,b=o[f];if(bt(b,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(Br(b)){let _=xu(a.matches,g==null?void 0:g.route.id);h&&h[_.route.id]||(h={...h,[_.route.id]:b.error}),a.fetchers.delete(f)}else if(Au(b))bt(!1,"Unhandled fetcher revalidation redirect");else{let _=$l(b.data);a.fetchers.set(f,_)}}),{loaderData:l,errors:h}}function MS(a,e,t,n){let s=Object.entries(e).filter(([,o])=>o!==JA).reduce((o,[l,h])=>(o[l]=h,o),{});for(let o of t){let l=o.route.id;if(!e.hasOwnProperty(l)&&a.hasOwnProperty(l)&&o.route.loader&&(s[l]=a[l]),n&&n.hasOwnProperty(l))break}return s}function DS(a){return a?Br(a[1])?{actionData:{}}:{actionData:{[a[0]]:a[1].data}}:{}}function xu(a,e){return(e?a.slice(0,a.findIndex(n=>n.route.id===e)+1):[...a]).reverse().find(n=>n.route.hasErrorBoundary===!0)||a[0]}function IS(a){let e=a.length===1?a[0]:a.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function gs(a,{pathname:e,routeId:t,method:n,type:s,message:o}={}){let l="Unknown Server Error",h="Unknown @remix-run/router error";return a===400?(l="Bad Request",n&&e&&t?h=`You made a ${n} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(h="Unable to encode submission body")):a===403?(l="Forbidden",h=`Route "${t}" does not match URL "${e}"`):a===404?(l="Not Found",h=`No route matches URL "${e}"`):a===405&&(l="Method Not Allowed",n&&e&&t?h=`You made a ${n.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:n&&(h=`Invalid request method "${n.toUpperCase()}"`)),new s0(a||500,l,new Error(h),!0)}function cv(a){let e=Object.entries(a);for(let t=e.length-1;t>=0;t--){let[n,s]=e[t];if(Au(s))return{key:n,result:s}}}function e1(a){let e=typeof a=="string"?Dc(a):a;return Pc({...e,hash:""})}function XP(a,e){return a.pathname!==e.pathname||a.search!==e.search?!1:a.hash===""?e.hash!=="":a.hash===e.hash?!0:e.hash!==""}function KP(a){return t1(a.result)&&MP.has(a.result.status)}function Br(a){return a.type==="error"}function Au(a){return(a&&a.type)==="redirect"}function FS(a){return typeof a=="object"&&a!=null&&"type"in a&&"data"in a&&"init"in a&&a.type==="DataWithResponseInit"}function t1(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.headers=="object"&&typeof a.body<"u"}function QP(a){return NP.has(a.toUpperCase())}function ea(a){return RP.has(a.toUpperCase())}function gx(a){return new URLSearchParams(a).getAll("index").some(e=>e==="")}function Qp(a,e){let t=typeof e=="string"?Dc(e).search:e.search;if(a[a.length-1].route.index&&gx(t||""))return a[a.length-1];let n=KA(a);return n[n.length-1]}function OS(a){let{formMethod:e,formAction:t,formEncType:n,text:s,formData:o,json:l}=a;if(!(!e||!t||!n)){if(s!=null)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:e,formAction:t,formEncType:n,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:l,text:void 0}}}function pw(a,e){return e?{state:"loading",location:a,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:a,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function YP(a,e){return{state:"submitting",location:a,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function qp(a,e){return a?{state:"loading",formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function JP(a,e){return{state:"submitting",formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text,data:e?e.data:void 0}}function $l(a){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:a}}function ZP(a,e){try{let t=a.sessionStorage.getItem(YA);if(t){let n=JSON.parse(t);for(let[s,o]of Object.entries(n||{}))o&&Array.isArray(o)&&e.set(s,new Set(o||[]))}}catch{}}function eR(a,e){if(e.size>0){let t={};for(let[n,s]of e)t[n]=[...s];try{a.sessionStorage.setItem(YA,JSON.stringify(t))}catch(n){hi(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function tR(){let a,e,t=new Promise((n,s)=>{a=async o=>{n(o);try{await t}catch{}},e=async o=>{s(o);try{await t}catch{}}});return{promise:t,resolve:a,reject:e}}var Oh=I.createContext(null);Oh.displayName="DataRouter";var Hg=I.createContext(null);Hg.displayName="DataRouterState";var yx=I.createContext({isTransitioning:!1});yx.displayName="ViewTransition";var n1=I.createContext(new Map);n1.displayName="Fetchers";var nR=I.createContext(null);nR.displayName="Await";var ra=I.createContext(null);ra.displayName="Navigation";var N0=I.createContext(null);N0.displayName="Location";var sa=I.createContext({outlet:null,matches:[],isDataRoute:!1});sa.displayName="Route";var vx=I.createContext(null);vx.displayName="RouteError";function iR(a,{relative:e}={}){bt(ip(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=I.useContext(ra),{hash:s,pathname:o,search:l}=$g(a,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Qa([t,o])),n.createHref({pathname:h,search:l,hash:s})}function ip(){return I.useContext(N0)!=null}function al(){return bt(ip(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(N0).location}var i1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function r1(a){I.useContext(ra).static||I.useLayoutEffect(a)}function bx(){let{isDataRoute:a}=I.useContext(sa);return a?vR():rR()}function rR(){bt(ip(),"useNavigate() may be used only in the context of a <Router> component.");let a=I.useContext(Oh),{basename:e,navigator:t}=I.useContext(ra),{matches:n}=I.useContext(sa),{pathname:s}=al(),o=JSON.stringify(P0(n)),l=I.useRef(!1);return r1(()=>{l.current=!0}),I.useCallback((d,f={})=>{if(hi(l.current,i1),!l.current)return;if(typeof d=="number"){t.go(d);return}let g=R0(d,JSON.parse(o),s,f.relative==="path");a==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Qa([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,o,s,a])}var sR=I.createContext(null);function aR(a){let e=I.useContext(sa).outlet;return e&&I.createElement(sR.Provider,{value:a},e)}function $g(a,{relative:e}={}){let{matches:t}=I.useContext(sa),{pathname:n}=al(),s=JSON.stringify(P0(t));return I.useMemo(()=>R0(a,JSON.parse(s),n,e==="path"),[a,s,n,e])}function oR(a,e,t,n){bt(ip(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=I.useContext(ra),{matches:o}=I.useContext(sa),l=o[o.length-1],h=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",g=l&&l.route;{let T=g&&g.path||"";s1(d,!g||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let v=al(),b;b=v;let _=b.pathname||"/",S=_;if(f!=="/"){let T=f.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(T.length).join("/")}let C=Ul(a,{pathname:S});return hi(g||C!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),hi(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),dR(C&&C.map(T=>Object.assign({},T,{params:Object.assign({},h,T.params),pathname:Qa([f,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:Qa([f,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,t,n)}function lR(){let a=yR(),e=L0(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),t=a instanceof Error?a.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",a),l=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:o},"ErrorBoundary")," or"," ",I.createElement("code",{style:o},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:s},t):null,l)}var cR=I.createElement(lR,null),uR=class extends I.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?I.createElement(sa.Provider,{value:this.props.routeContext},I.createElement(vx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hR({routeContext:a,match:e,children:t}){let n=I.useContext(Oh);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(sa.Provider,{value:a},t)}function dR(a,e=[],t=null,n=null){if(a==null){if(!t)return null;if(t.errors)a=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)a=t.matches;else return null}let s=a,o=t==null?void 0:t.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);bt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,h=-1;if(t)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=d),f.route.id){let{loaderData:g,errors:v}=t,b=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||b){l=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((d,f,g)=>{let v,b=!1,_=null,S=null;t&&(v=o&&f.route.id?o[f.route.id]:void 0,_=f.route.errorElement||cR,l&&(h<0&&g===0?(s1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):h===g&&(b=!0,S=f.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,g+1)),N=()=>{let T;return v?T=_:b?T=S:f.route.Component?T=I.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,I.createElement(hR,{match:f,routeContext:{outlet:d,matches:C,isDataRoute:t!=null},children:T})};return t&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?I.createElement(uR,{location:t.location,revalidation:t.revalidation,component:_,error:v,children:N(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):N()},null)}function wx(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fR(a){let e=I.useContext(Oh);return bt(e,wx(a)),e}function pR(a){let e=I.useContext(Hg);return bt(e,wx(a)),e}function mR(a){let e=I.useContext(sa);return bt(e,wx(a)),e}function _x(a){let e=mR(a),t=e.matches[e.matches.length-1];return bt(t.route.id,`${a} can only be used on routes that contain a unique "id"`),t.route.id}function gR(){return _x("useRouteId")}function yR(){var n;let a=I.useContext(vx),e=pR("useRouteError"),t=_x("useRouteError");return a!==void 0?a:(n=e.errors)==null?void 0:n[t]}function vR(){let{router:a}=fR("useNavigate"),e=_x("useNavigate"),t=I.useRef(!1);return r1(()=>{t.current=!0}),I.useCallback(async(s,o={})=>{hi(t.current,i1),t.current&&(typeof s=="number"?a.navigate(s):await a.navigate(s,{fromRouteId:e,...o}))},[a,e])}var jS={};function s1(a,e,t){!e&&!jS[a]&&(jS[a]=!0,hi(!1,t))}var HS={};function $S(a,e){!a&&!HS[e]&&(HS[e]=!0,console.warn(e))}function bR(a){let e={hasErrorBoundary:a.hasErrorBoundary||a.ErrorBoundary!=null||a.errorElement!=null};return a.Component&&(a.element&&hi(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:I.createElement(a.Component),Component:void 0})),a.HydrateFallback&&(a.hydrateFallbackElement&&hi(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:I.createElement(a.HydrateFallback),HydrateFallback:void 0})),a.ErrorBoundary&&(a.errorElement&&hi(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:I.createElement(a.ErrorBoundary),ErrorBoundary:void 0})),e}var wR=class{constructor(){this.status="pending",this.promise=new Promise((a,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",a(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function _R({router:a,flushSync:e}){let[t,n]=I.useState(a.state),[s,o]=I.useState(),[l,h]=I.useState({isTransitioning:!1}),[d,f]=I.useState(),[g,v]=I.useState(),[b,_]=I.useState(),S=I.useRef(new Map),C=I.useCallback((j,{deletedFetchers:O,flushSync:D,viewTransitionOpts:U})=>{O.forEach(z=>S.current.delete(z)),j.fetchers.forEach((z,K)=>{z.data!==void 0&&S.current.set(K,z.data)}),$S(D===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Q=a.window!=null&&a.window.document!=null&&typeof a.window.document.startViewTransition=="function";if($S(U==null||Q,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!Q){e&&D?e(()=>n(j)):I.startTransition(()=>n(j));return}if(e&&D){e(()=>{g&&(d&&d.resolve(),g.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let z=a.window.document.startViewTransition(()=>{e(()=>n(j))});z.finished.finally(()=>{e(()=>{f(void 0),v(void 0),o(void 0),h({isTransitioning:!1})})}),e(()=>v(z));return}g?(d&&d.resolve(),g.skipTransition(),_({state:j,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(o(j),h({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[a.window,e,g,d]);I.useLayoutEffect(()=>a.subscribe(C),[a,C]),I.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new wR)},[l]),I.useEffect(()=>{if(d&&s&&a.window){let j=s,O=d.promise,D=a.window.document.startViewTransition(async()=>{I.startTransition(()=>n(j)),await O});D.finished.finally(()=>{f(void 0),v(void 0),o(void 0),h({isTransitioning:!1})}),v(D)}},[s,d,a.window]),I.useEffect(()=>{d&&s&&t.location.key===s.location.key&&d.resolve()},[d,g,t.location,s]),I.useEffect(()=>{!l.isTransitioning&&b&&(o(b.state),h({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),_(void 0))},[l.isTransitioning,b]);let N=I.useMemo(()=>({createHref:a.createHref,encodeLocation:a.encodeLocation,go:j=>a.navigate(j),push:(j,O,D)=>a.navigate(j,{state:O,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(j,O,D)=>a.navigate(j,{replace:!0,state:O,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[a]),T=a.basename||"/",F=I.useMemo(()=>({router:a,navigator:N,static:!1,basename:T}),[a,N,T]);return I.createElement(I.Fragment,null,I.createElement(Oh.Provider,{value:F},I.createElement(Hg.Provider,{value:t},I.createElement(n1.Provider,{value:S.current},I.createElement(yx.Provider,{value:l},I.createElement(SR,{basename:T,location:t.location,navigationType:t.historyAction,navigator:N},I.createElement(xR,{routes:a.routes,future:a.future,state:t})))))),null)}var xR=I.memo(ER);function ER({routes:a,future:e,state:t}){return oR(a,void 0,t,e)}function zS({to:a,replace:e,state:t,relative:n}){bt(ip(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=I.useContext(ra);hi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=I.useContext(sa),{pathname:l}=al(),h=bx(),d=R0(a,P0(o),l,n==="path"),f=JSON.stringify(d);return I.useEffect(()=>{h(JSON.parse(f),{replace:e,state:t,relative:n})},[h,f,n,e,t]),null}function a1(a){return aR(a.context)}function ka(a){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function SR({basename:a="/",children:e=null,location:t,navigationType:n="POP",navigator:s,static:o=!1}){bt(!ip(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=a.replace(/^\/*/,"/"),h=I.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof t=="string"&&(t=Dc(t));let{pathname:d="/",search:f="",hash:g="",state:v=null,key:b="default"}=t,_=I.useMemo(()=>{let S=ia(d,l);return S==null?null:{location:{pathname:S,search:f,hash:g,state:v,key:b},navigationType:n}},[l,d,f,g,v,b,n]);return hi(_!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:I.createElement(ra.Provider,{value:h},I.createElement(N0.Provider,{children:e,value:_}))}function zw(a,e=[]){let t=[];return I.Children.forEach(a,(n,s)=>{if(!I.isValidElement(n))return;let o=[...e,s];if(n.type===I.Fragment){t.push.apply(t,zw(n.props.children,o));return}bt(n.type===ka,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=zw(n.props.children,o)),t.push(l)}),t}var AR=zw,wv="get",_v="application/x-www-form-urlencoded";function M0(a){return a!=null&&typeof a.tagName=="string"}function CR(a){return M0(a)&&a.tagName.toLowerCase()==="button"}function kR(a){return M0(a)&&a.tagName.toLowerCase()==="form"}function TR(a){return M0(a)&&a.tagName.toLowerCase()==="input"}function PR(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function RR(a,e){return a.button===0&&(!e||e==="_self")&&!PR(a)}var uv=null;function LR(){if(uv===null)try{new FormData(document.createElement("form"),0),uv=!1}catch{uv=!0}return uv}var NR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mw(a){return a!=null&&!NR.has(a)?(hi(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_v}"`),null):a}function MR(a,e){let t,n,s,o,l;if(kR(a)){let h=a.getAttribute("action");n=h?ia(h,e):null,t=a.getAttribute("method")||wv,s=mw(a.getAttribute("enctype"))||_v,o=new FormData(a)}else if(CR(a)||TR(a)&&(a.type==="submit"||a.type==="image")){let h=a.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=a.getAttribute("formaction")||h.getAttribute("action");if(n=d?ia(d,e):null,t=a.getAttribute("formmethod")||h.getAttribute("method")||wv,s=mw(a.getAttribute("formenctype"))||mw(h.getAttribute("enctype"))||_v,o=new FormData(h,a),!LR()){let{name:f,type:g,value:v}=a;if(g==="image"){let b=f?`${f}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else f&&o.append(f,v)}}else{if(M0(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=wv,n=null,s=_v,l=a}return o&&s==="text/plain"&&(l=o,o=void 0),{action:n,method:t.toLowerCase(),encType:s,formData:o,body:l}}function xx(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function DR(a,e){if(a.id in e)return e[a.id];try{let t=await import(a.module);return e[a.id]=t,t}catch(t){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IR(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function FR(a,e,t){let n=await Promise.all(a.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await DR(o,t);return l.links?l.links():[]}return[]}));return $R(n.flat(1).filter(IR).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function BS(a,e,t,n,s,o){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,h=(d,f)=>{var g;return t[f].pathname!==d.pathname||((g=t[f].route.path)==null?void 0:g.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,f)=>l(d,f)||h(d,f)):o==="data"?e.filter((d,f)=>{var v;let g=n.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(a,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function OR(a,e){return jR(a.map(t=>{let n=e.routes[t.route.id];if(!n)return[];let s=[n.module];return n.imports&&(s=s.concat(n.imports)),s}).flat(1))}function jR(a){return[...new Set(a)]}function HR(a){let e={},t=Object.keys(a).sort();for(let n of t)e[n]=a[n];return e}function $R(a,e){let t=new Set;return new Set(e),a.reduce((n,s)=>{let o=JSON.stringify(HR(s));return t.has(o)||(t.add(o),n.push({key:o,link:s})),n},[])}function zR(a){let e=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function BR(){let a=I.useContext(Oh);return xx(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function UR(){let a=I.useContext(Hg);return xx(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Ex=I.createContext(void 0);Ex.displayName="FrameworkContext";function o1(){let a=I.useContext(Ex);return xx(a,"You must render this element inside a <HydratedRouter> element"),a}function qR(a,e){let t=I.useContext(Ex),[n,s]=I.useState(!1),[o,l]=I.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:v}=e,b=I.useRef(null);I.useEffect(()=>{if(a==="render"&&l(!0),a==="viewport"){let C=T=>{T.forEach(F=>{l(F.isIntersecting)})},N=new IntersectionObserver(C,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[a]),I.useEffect(()=>{if(n){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[n]);let _=()=>{s(!0)},S=()=>{s(!1),l(!1)};return t?a!=="intent"?[o,b,{}]:[o,b,{onFocus:Wp(h,_),onBlur:Wp(d,S),onMouseEnter:Wp(f,_),onMouseLeave:Wp(g,S),onTouchStart:Wp(v,_)}]:[!1,b,{}]}function Wp(a,e){return t=>{a&&a(t),t.defaultPrevented||e(t)}}function WR({page:a,...e}){let{router:t}=BR(),n=I.useMemo(()=>Ul(t.routes,a,t.basename),[t.routes,a,t.basename]);return n?I.createElement(GR,{page:a,matches:n,...e}):null}function VR(a){let{manifest:e,routeModules:t}=o1(),[n,s]=I.useState([]);return I.useEffect(()=>{let o=!1;return FR(a,e,t).then(l=>{o||s(l)}),()=>{o=!0}},[a,e,t]),n}function GR({page:a,matches:e,...t}){let n=al(),{manifest:s,routeModules:o}=o1(),{loaderData:l,matches:h}=UR(),d=I.useMemo(()=>BS(a,e,h,s,n,"data"),[a,e,h,s,n]),f=I.useMemo(()=>BS(a,e,h,s,n,"assets"),[a,e,h,s,n]),g=I.useMemo(()=>{if(a===n.pathname+n.search+n.hash)return[];let _=new Set,S=!1;if(e.forEach(N=>{var F;let T=s.routes[N.route.id];!T||!T.hasLoader||(!d.some(j=>j.route.id===N.route.id)&&N.route.id in l&&((F=o[N.route.id])!=null&&F.shouldRevalidate)||T.hasClientLoader?S=!0:_.add(N.route.id))}),_.size===0)return[];let C=zR(a);return S&&_.size>0&&C.searchParams.set("_routes",e.filter(N=>_.has(N.route.id)).map(N=>N.route.id).join(",")),[C.pathname+C.search]},[l,n,s,d,e,a,o]),v=I.useMemo(()=>OR(f,s),[f,s]),b=VR(f);return I.createElement(I.Fragment,null,g.map(_=>I.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),v.map(_=>I.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),b.map(({key:_,link:S})=>I.createElement("link",{key:_,...S})))}function XR(...a){return e=>{a.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var l1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{l1&&(window.__reactRouterVersion="7.1.1")}catch{}function KR(a,e){return OP({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:oP({window:e==null?void 0:e.window}),hydrationData:QR(),routes:a,mapRouteProperties:bR,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function QR(){let a=window==null?void 0:window.__staticRouterHydrationData;return a&&a.errors&&(a={...a,errors:YR(a.errors)}),a}function YR(a){if(!a)return null;let e=Object.entries(a),t={};for(let[n,s]of e)if(s&&s.__type==="RouteErrorResponse")t[n]=new s0(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let l=new o(s.message);l.stack="",t[n]=l}catch{}}if(t[n]==null){let o=new Error(s.message);o.stack="",t[n]=o}}else t[n]=s;return t}var c1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u1=I.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:s,reloadDocument:o,replace:l,state:h,target:d,to:f,preventScrollReset:g,viewTransition:v,...b},_){let{basename:S}=I.useContext(ra),C=typeof f=="string"&&c1.test(f),N,T=!1;if(typeof f=="string"&&C&&(N=f,l1))try{let K=new URL(window.location.href),Y=f.startsWith("//")?new URL(K.protocol+f):new URL(f),te=ia(Y.pathname,S);Y.origin===K.origin&&te!=null?f=te+Y.search+Y.hash:T=!0}catch{hi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=iR(f,{relative:s}),[j,O,D]=qR(n,b),U=eL(f,{replace:l,state:h,target:d,preventScrollReset:g,relative:s,viewTransition:v});function Q(K){e&&e(K),K.defaultPrevented||U(K)}let z=I.createElement("a",{...b,...D,href:N||F,onClick:T||o?e:Q,ref:XR(_,O),target:d,"data-discover":!C&&t==="render"?"true":void 0});return j&&!C?I.createElement(I.Fragment,null,z,I.createElement(WR,{page:F})):z});u1.displayName="Link";var Ya=I.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:s=!1,style:o,to:l,viewTransition:h,children:d,...f},g){let v=$g(l,{relative:f.relative}),b=al(),_=I.useContext(Hg),{navigator:S,basename:C}=I.useContext(ra),N=_!=null&&sL(v)&&h===!0,T=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,F=b.pathname,j=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(F=F.toLowerCase(),j=j?j.toLowerCase():null,T=T.toLowerCase()),j&&C&&(j=ia(j,C)||j);const O=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let D=F===T||!s&&F.startsWith(T)&&F.charAt(O)==="/",U=j!=null&&(j===T||!s&&j.startsWith(T)&&j.charAt(T.length)==="/"),Q={isActive:D,isPending:U,isTransitioning:N},z=D?e:void 0,K;typeof n=="function"?K=n(Q):K=[n,D?"active":null,U?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let Y=typeof o=="function"?o(Q):o;return I.createElement(u1,{...f,"aria-current":z,className:K,ref:g,style:Y,to:l,viewTransition:h},typeof d=="function"?d(Q):d)});Ya.displayName="NavLink";var JR=I.forwardRef(({discover:a="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:s,state:o,method:l=wv,action:h,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:v,...b},_)=>{let S=iL(),C=rL(h,{relative:f}),N=l.toLowerCase()==="get"?"get":"post",T=typeof h=="string"&&c1.test(h),F=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let O=j.nativeEvent.submitter,D=(O==null?void 0:O.getAttribute("formmethod"))||l;S(O||j.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:s,state:o,relative:f,preventScrollReset:g,viewTransition:v})};return I.createElement("form",{ref:_,method:N,action:C,onSubmit:n?d:F,...b,"data-discover":!T&&a==="render"?"true":void 0})});JR.displayName="Form";function ZR(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h1(a){let e=I.useContext(Oh);return bt(e,ZR(a)),e}function eL(a,{target:e,replace:t,state:n,preventScrollReset:s,relative:o,viewTransition:l}={}){let h=bx(),d=al(),f=$g(a,{relative:o});return I.useCallback(g=>{if(RR(g,e)){g.preventDefault();let v=t!==void 0?t:Pc(d)===Pc(f);h(a,{replace:v,state:n,preventScrollReset:s,relative:o,viewTransition:l})}},[d,h,f,t,n,e,a,s,o,l])}var tL=0,nL=()=>`__${String(++tL)}__`;function iL(){let{router:a}=h1("useSubmit"),{basename:e}=I.useContext(ra),t=gR();return I.useCallback(async(n,s={})=>{let{action:o,method:l,encType:h,formData:d,body:f}=MR(n,e);if(s.navigate===!1){let g=s.fetcherKey||nL();await a.fetch(g,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||l,formEncType:s.encType||h,flushSync:s.flushSync})}else await a.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||l,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[a,e,t])}function rL(a,{relative:e}={}){let{basename:t}=I.useContext(ra),n=I.useContext(sa);bt(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),o={...$g(a||".",{relative:e})},l=al();if(a==null){o.search=l.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();o.search=g?`?${g}`:""}}return(!a||a===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Qa([t,o.pathname])),Pc(o)}function sL(a,e={}){let t=I.useContext(yx);bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=h1("useViewTransitionState"),s=$g(a,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ia(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=ia(t.nextLocation.pathname,n)||t.nextLocation.pathname;return r0(s.pathname,l)!=null||r0(s.pathname,o)!=null}new TextEncoder;var aL=MA();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oL(a){return I.createElement(_R,{flushSync:aL.flushSync,...a})}let lL={data:""},cL=a=>typeof window=="object"?((a?a.querySelector("#_goober"):window._goober)||Object.assign((a||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:a||lL,uL=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,hL=/\/\*[^]*?\*\/|  +/g,US=/\n+/g,ql=(a,e)=>{let t="",n="",s="";for(let o in a){let l=a[o];o[0]=="@"?o[1]=="i"?t=o+" "+l+";":n+=o[1]=="f"?ql(l,o):o+"{"+ql(l,o[1]=="k"?"":e)+"}":typeof l=="object"?n+=ql(l,e?e.replace(/([^,])+/g,h=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,h):h?h+" "+d:d)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ql.p?ql.p(o,l):o+":"+l+";")}return t+(e&&s?e+"{"+s+"}":s)+n},bo={},d1=a=>{if(typeof a=="object"){let e="";for(let t in a)e+=t+d1(a[t]);return e}return a},dL=(a,e,t,n,s)=>{let o=d1(a),l=bo[o]||(bo[o]=(d=>{let f=0,g=11;for(;f<d.length;)g=101*g+d.charCodeAt(f++)>>>0;return"go"+g})(o));if(!bo[l]){let d=o!==a?a:(f=>{let g,v,b=[{}];for(;g=uL.exec(f.replace(hL,""));)g[4]?b.shift():g[3]?(v=g[3].replace(US," ").trim(),b.unshift(b[0][v]=b[0][v]||{})):b[0][g[1]]=g[2].replace(US," ").trim();return b[0]})(a);bo[l]=ql(s?{["@keyframes "+l]:d}:d,t?"":"."+l)}let h=t&&bo.g?bo.g:null;return t&&(bo.g=bo[l]),((d,f,g,v)=>{v?f.data=f.data.replace(v,d):f.data.indexOf(d)===-1&&(f.data=g?d+f.data:f.data+d)})(bo[l],e,n,h),l},fL=(a,e,t)=>a.reduce((n,s,o)=>{let l=e[o];if(l&&l.call){let h=l(t),d=h&&h.props&&h.props.className||/^go/.test(h)&&h;l=d?"."+d:h&&typeof h=="object"?h.props?"":ql(h,""):h===!1?"":h}return n+s+(l??"")},"");function D0(a){let e=this||{},t=a.call?a(e.p):a;return dL(t.unshift?t.raw?fL(t,[].slice.call(arguments,1),e.p):t.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):t,cL(e.target),e.g,e.o,e.k)}let f1,Bw,Uw;D0.bind({g:1});let il=D0.bind({k:1});function pL(a,e,t,n){ql.p=e,f1=a,Bw=t,Uw=n}function Ic(a,e){let t=this||{};return function(){let n=arguments;function s(o,l){let h=Object.assign({},o),d=h.className||s.className;t.p=Object.assign({theme:Bw&&Bw()},h),t.o=/ *go\d+/.test(d),h.className=D0.apply(t,n)+(d?" "+d:"");let f=a;return a[0]&&(f=h.as||a,delete h.as),Uw&&f[0]&&Uw(h),f1(f,h)}return s}}var mL=a=>typeof a=="function",a0=(a,e)=>mL(a)?a(e):a,gL=(()=>{let a=0;return()=>(++a).toString()})(),p1=(()=>{let a;return()=>{if(a===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");a=!e||e.matches}return a}})(),yL=20,m1=(a,e)=>{switch(e.type){case 0:return{...a,toasts:[e.toast,...a.toasts].slice(0,yL)};case 1:return{...a,toasts:a.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:t}=e;return m1(a,{type:a.toasts.find(o=>o.id===t.id)?1:0,toast:t});case 3:let{toastId:n}=e;return{...a,toasts:a.toasts.map(o=>o.id===n||n===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...a,toasts:[]}:{...a,toasts:a.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...a,pausedAt:e.time};case 6:let s=e.time-(a.pausedAt||0);return{...a,pausedAt:void 0,toasts:a.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},xv=[],Ev={toasts:[],pausedAt:void 0},jh=a=>{Ev=m1(Ev,a),xv.forEach(e=>{e(Ev)})},vL={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},bL=(a={})=>{let[e,t]=I.useState(Ev);I.useEffect(()=>(xv.push(t),()=>{let s=xv.indexOf(t);s>-1&&xv.splice(s,1)}),[e]);let n=e.toasts.map(s=>{var o,l,h;return{...a,...a[s.type],...s,removeDelay:s.removeDelay||((o=a[s.type])==null?void 0:o.removeDelay)||(a==null?void 0:a.removeDelay),duration:s.duration||((l=a[s.type])==null?void 0:l.duration)||(a==null?void 0:a.duration)||vL[s.type],style:{...a.style,...(h=a[s.type])==null?void 0:h.style,...s.style}}});return{...e,toasts:n}},wL=(a,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:a,pauseDuration:0,...t,id:(t==null?void 0:t.id)||gL()}),zg=a=>(e,t)=>{let n=wL(e,a,t);return jh({type:2,toast:n}),n.id},cn=(a,e)=>zg("blank")(a,e);cn.error=zg("error");cn.success=zg("success");cn.loading=zg("loading");cn.custom=zg("custom");cn.dismiss=a=>{jh({type:3,toastId:a})};cn.remove=a=>jh({type:4,toastId:a});cn.promise=(a,e,t)=>{let n=cn.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof a=="function"&&(a=a()),a.then(s=>{let o=e.success?a0(e.success,s):void 0;return o?cn.success(o,{id:n,...t,...t==null?void 0:t.success}):cn.dismiss(n),s}).catch(s=>{let o=e.error?a0(e.error,s):void 0;o?cn.error(o,{id:n,...t,...t==null?void 0:t.error}):cn.dismiss(n)}),a};var _L=(a,e)=>{jh({type:1,toast:{id:a,height:e}})},xL=()=>{jh({type:5,time:Date.now()})},fm=new Map,EL=1e3,SL=(a,e=EL)=>{if(fm.has(a))return;let t=setTimeout(()=>{fm.delete(a),jh({type:4,toastId:a})},e);fm.set(a,t)},AL=a=>{let{toasts:e,pausedAt:t}=bL(a);I.useEffect(()=>{if(t)return;let o=Date.now(),l=e.map(h=>{if(h.duration===1/0)return;let d=(h.duration||0)+h.pauseDuration-(o-h.createdAt);if(d<0){h.visible&&cn.dismiss(h.id);return}return setTimeout(()=>cn.dismiss(h.id),d)});return()=>{l.forEach(h=>h&&clearTimeout(h))}},[e,t]);let n=I.useCallback(()=>{t&&jh({type:6,time:Date.now()})},[t]),s=I.useCallback((o,l)=>{let{reverseOrder:h=!1,gutter:d=8,defaultPosition:f}=l||{},g=e.filter(_=>(_.position||f)===(o.position||f)&&_.height),v=g.findIndex(_=>_.id===o.id),b=g.filter((_,S)=>S<v&&_.visible).length;return g.filter(_=>_.visible).slice(...h?[b+1]:[0,b]).reduce((_,S)=>_+(S.height||0)+d,0)},[e]);return I.useEffect(()=>{e.forEach(o=>{if(o.dismissed)SL(o.id,o.removeDelay);else{let l=fm.get(o.id);l&&(clearTimeout(l),fm.delete(o.id))}})},[e]),{toasts:e,handlers:{updateHeight:_L,startPause:xL,endPause:n,calculateOffset:s}}},CL=il`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,kL=il`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,TL=il`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,PL=Ic("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${a=>a.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${CL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${kL} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${a=>a.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${TL} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,RL=il`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,LL=Ic("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${a=>a.secondary||"#e0e0e0"};
  border-right-color: ${a=>a.primary||"#616161"};
  animation: ${RL} 1s linear infinite;
`,NL=il`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ML=il`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,DL=Ic("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${a=>a.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${NL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ML} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${a=>a.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,IL=Ic("div")`
  position: absolute;
`,FL=Ic("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,OL=il`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jL=Ic("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${OL} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,HL=({toast:a})=>{let{icon:e,type:t,iconTheme:n}=a;return e!==void 0?typeof e=="string"?I.createElement(jL,null,e):e:t==="blank"?null:I.createElement(FL,null,I.createElement(LL,{...n}),t!=="loading"&&I.createElement(IL,null,t==="error"?I.createElement(PL,{...n}):I.createElement(DL,{...n})))},$L=a=>`
0% {transform: translate3d(0,${a*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,zL=a=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${a*-150}%,-1px) scale(.6); opacity:0;}
`,BL="0%{opacity:0;} 100%{opacity:1;}",UL="0%{opacity:1;} 100%{opacity:0;}",qL=Ic("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,WL=Ic("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,VL=(a,e)=>{let t=a.includes("top")?1:-1,[n,s]=p1()?[BL,UL]:[$L(t),zL(t)];return{animation:e?`${il(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${il(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},GL=I.memo(({toast:a,position:e,style:t,children:n})=>{let s=a.height?VL(a.position||e||"top-center",a.visible):{opacity:0},o=I.createElement(HL,{toast:a}),l=I.createElement(WL,{...a.ariaProps},a0(a.message,a));return I.createElement(qL,{className:a.className,style:{...s,...t,...a.style}},typeof n=="function"?n({icon:o,message:l}):I.createElement(I.Fragment,null,o,l))});pL(I.createElement);var XL=({id:a,className:e,style:t,onHeightUpdate:n,children:s})=>{let o=I.useCallback(l=>{if(l){let h=()=>{let d=l.getBoundingClientRect().height;n(a,d)};h(),new MutationObserver(h).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[a,n]);return I.createElement("div",{ref:o,className:e,style:t},s)},KL=(a,e)=>{let t=a.includes("top"),n=t?{top:0}:{bottom:0},s=a.includes("center")?{justifyContent:"center"}:a.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:p1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...n,...s}},QL=D0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,hv=16,YL=({reverseOrder:a,position:e="top-center",toastOptions:t,gutter:n,children:s,containerStyle:o,containerClassName:l})=>{let{toasts:h,handlers:d}=AL(t);return I.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:hv,left:hv,right:hv,bottom:hv,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},h.map(f=>{let g=f.position||e,v=d.calculateOffset(f,{reverseOrder:a,gutter:n,defaultPosition:e}),b=KL(g,v);return I.createElement(XL,{id:f.id,key:f.id,onHeightUpdate:d.updateHeight,className:f.visible?QL:"",style:b},f.type==="custom"?a0(f.message,f):s?s(f):I.createElement(GL,{toast:f,position:g}))}))};const JL=()=>x.jsxs(x.Fragment,{children:[x.jsx(a1,{}),x.jsx(YL,{})]}),ZL="/assets/background-img-BFvL_iX_.png",g1="/assets/gnc-logo-D9VUsNwO.png",eN=()=>x.jsxs(x.Fragment,{children:[x.jsx("header",{className:"Gnc_header px-lg-5 px-sm-0 py-1 ",children:x.jsx("div",{className:"container-fluid px-3 py-2 mb-3 mb-lg-0 mb-md-0",children:x.jsxs("div",{className:"row align-items-center",children:[x.jsxs("div",{className:"col-12 col-md-9 d-flex flex-column flex-md-row align-items-center ",children:[x.jsx("img",{src:g1,alt:"Guru Nanak College Logo",className:"img-fluid me-0 me-lg-3 me-md-3 d-flex justify-content-center ",style:{maxWidth:"100px"}}),x.jsxs("div",{children:[x.jsx("h2",{className:"Gnc_h1 fw-bold mb-3 mt-0 mb-sm-4 mb-md-0 my-0 mb-sm-4  mb-lg-0 mb-xl-0 text-center text-sm-start",children:"Guru Nanak College(Autonomous)"}),x.jsx("h6",{className:"Gnc_h1 mb-0 d-none d-md-block",children:"Affiliated to University of Madras"}),x.jsx("h6",{className:"Gnc_h1 mb-0 d-none d-md-block",children:"Accredited at ‘A++’ Grade by NAAC | ISO 9001:2015 Certified Institution"}),x.jsx("h6",{className:"Gnc_h1 mb-0 d-none d-md-block",children:"Guru Nanak Salai, Velachery, Chennai-600 042"})]})]}),x.jsx("div",{className:"col-12 col-md-3 text-center text-md-end mb-0 mb-md-3 mb-sm-3 mt-0 mt-sm-3",children:x.jsx(Ya,{to:"/login",id:"Login_button",children:"Teacher Login"})})]})})}),x.jsxs("div",{className:"row mx-0",children:[x.jsxs("div",{className:"col mt-3 mt-lg-5 mt-sm-5 ms-2 ms-lg-5",children:[x.jsx("h1",{className:"Library_head",children:"GNC QUESTION PAPER"}),x.jsx("h5",{className:"Border_contend ps-4 mt-4",children:"Using the previous year’s question paper as a reference is an effective way to prepare for exams. It helps you understand the question patterns, exam format, and key topics often emphasized. By analyzing these papers,you can identify areas needing more focus and gain familiarity with the exam style. Once you’ve reviewed the paper, you can create a new set of practice questions. These can be rephrased versions of the original questions, expanded variations, or entirely new ones that test the same concepts differently. This approach not only strengthens your understanding but also enhances your confidence for the actual exam."}),x.jsx(Ya,{to:"/student-library",className:"Library_button mt-4 mb-4",children:"Get Into Library"})]}),x.jsx("div",{className:"col-5 d-none d-lg-block",children:x.jsx("img",{src:ZL,alt:"",className:"Library_img img-fluid"})})]})]}),di="http://localhost:5500";var Sv={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var tN=Sv.exports,qS;function nN(){return qS||(qS=1,function(a,e){(function(t,n){a.exports=n()})(tN,function(){const t=new Map,n={set(P,m,E){t.has(P)||t.set(P,new Map);const M=t.get(P);M.has(m)||M.size===0?M.set(m,E):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(M.keys())[0]}.`)},get:(P,m)=>t.has(P)&&t.get(P).get(m)||null,remove(P,m){if(!t.has(P))return;const E=t.get(P);E.delete(m),E.size===0&&t.delete(P)}},s="transitionend",o=P=>(P&&window.CSS&&window.CSS.escape&&(P=P.replace(/#([^\s"#']+)/g,(m,E)=>`#${CSS.escape(E)}`)),P),l=P=>{P.dispatchEvent(new Event(s))},h=P=>!(!P||typeof P!="object")&&(P.jquery!==void 0&&(P=P[0]),P.nodeType!==void 0),d=P=>h(P)?P.jquery?P[0]:P:typeof P=="string"&&P.length>0?document.querySelector(o(P)):null,f=P=>{if(!h(P)||P.getClientRects().length===0)return!1;const m=getComputedStyle(P).getPropertyValue("visibility")==="visible",E=P.closest("details:not([open])");if(!E)return m;if(E!==P){const M=P.closest("summary");if(M&&M.parentNode!==E||M===null)return!1}return m},g=P=>!P||P.nodeType!==Node.ELEMENT_NODE||!!P.classList.contains("disabled")||(P.disabled!==void 0?P.disabled:P.hasAttribute("disabled")&&P.getAttribute("disabled")!=="false"),v=P=>{if(!document.documentElement.attachShadow)return null;if(typeof P.getRootNode=="function"){const m=P.getRootNode();return m instanceof ShadowRoot?m:null}return P instanceof ShadowRoot?P:P.parentNode?v(P.parentNode):null},b=()=>{},_=P=>{P.offsetHeight},S=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,C=[],N=()=>document.documentElement.dir==="rtl",T=P=>{var m;m=()=>{const E=S();if(E){const M=P.NAME,W=E.fn[M];E.fn[M]=P.jQueryInterface,E.fn[M].Constructor=P,E.fn[M].noConflict=()=>(E.fn[M]=W,P.jQueryInterface)}},document.readyState==="loading"?(C.length||document.addEventListener("DOMContentLoaded",()=>{for(const E of C)E()}),C.push(m)):m()},F=(P,m=[],E=P)=>typeof P=="function"?P(...m):E,j=(P,m,E=!0)=>{if(!E)return void F(P);const M=(ie=>{if(!ie)return 0;let{transitionDuration:oe,transitionDelay:ge}=window.getComputedStyle(ie);const Ie=Number.parseFloat(oe),Fe=Number.parseFloat(ge);return Ie||Fe?(oe=oe.split(",")[0],ge=ge.split(",")[0],1e3*(Number.parseFloat(oe)+Number.parseFloat(ge))):0})(m)+5;let W=!1;const X=({target:ie})=>{ie===m&&(W=!0,m.removeEventListener(s,X),F(P))};m.addEventListener(s,X),setTimeout(()=>{W||l(m)},M)},O=(P,m,E,M)=>{const W=P.length;let X=P.indexOf(m);return X===-1?!E&&M?P[W-1]:P[0]:(X+=E?1:-1,M&&(X=(X+W)%W),P[Math.max(0,Math.min(X,W-1))])},D=/[^.]*(?=\..*)\.|.*/,U=/\..*/,Q=/::\d+$/,z={};let K=1;const Y={mouseenter:"mouseover",mouseleave:"mouseout"},te=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function le(P,m){return m&&`${m}::${K++}`||P.uidEvent||K++}function we(P){const m=le(P);return P.uidEvent=m,z[m]=z[m]||{},z[m]}function Te(P,m,E=null){return Object.values(P).find(M=>M.callable===m&&M.delegationSelector===E)}function Ae(P,m,E){const M=typeof m=="string",W=M?E:m||E;let X=_e(P);return te.has(X)||(X=P),[M,W,X]}function $e(P,m,E,M,W){if(typeof m!="string"||!P)return;let[X,ie,oe]=Ae(m,E,M);m in Y&&(ie=(Oe=>function(Qe){if(!Qe.relatedTarget||Qe.relatedTarget!==Qe.delegateTarget&&!Qe.delegateTarget.contains(Qe.relatedTarget))return Oe.call(this,Qe)})(ie));const ge=we(P),Ie=ge[oe]||(ge[oe]={}),Fe=Te(Ie,ie,X?E:null);if(Fe)return void(Fe.oneOff=Fe.oneOff&&W);const Ce=le(ie,m.replace(D,"")),Je=X?function(Ue,Oe,Qe){return function at(Ft){const zt=Ue.querySelectorAll(Oe);for(let{target:pt}=Ft;pt&&pt!==this;pt=pt.parentNode)for(const Rt of zt)if(Rt===pt)return q(Ft,{delegateTarget:pt}),at.oneOff&&G.off(Ue,Ft.type,Oe,Qe),Qe.apply(pt,[Ft])}}(P,E,ie):function(Ue,Oe){return function Qe(at){return q(at,{delegateTarget:Ue}),Qe.oneOff&&G.off(Ue,at.type,Oe),Oe.apply(Ue,[at])}}(P,ie);Je.delegationSelector=X?E:null,Je.callable=ie,Je.oneOff=W,Je.uidEvent=Ce,Ie[Ce]=Je,P.addEventListener(oe,Je,X)}function fe(P,m,E,M,W){const X=Te(m[E],M,W);X&&(P.removeEventListener(E,X,!!W),delete m[E][X.uidEvent])}function ae(P,m,E,M){const W=m[E]||{};for(const[X,ie]of Object.entries(W))X.includes(M)&&fe(P,m,E,ie.callable,ie.delegationSelector)}function _e(P){return P=P.replace(U,""),Y[P]||P}const G={on(P,m,E,M){$e(P,m,E,M,!1)},one(P,m,E,M){$e(P,m,E,M,!0)},off(P,m,E,M){if(typeof m!="string"||!P)return;const[W,X,ie]=Ae(m,E,M),oe=ie!==m,ge=we(P),Ie=ge[ie]||{},Fe=m.startsWith(".");if(X===void 0){if(Fe)for(const Ce of Object.keys(ge))ae(P,ge,Ce,m.slice(1));for(const[Ce,Je]of Object.entries(Ie)){const Ue=Ce.replace(Q,"");oe&&!m.includes(Ue)||fe(P,ge,ie,Je.callable,Je.delegationSelector)}}else{if(!Object.keys(Ie).length)return;fe(P,ge,ie,X,W?E:null)}},trigger(P,m,E){if(typeof m!="string"||!P)return null;const M=S();let W=null,X=!0,ie=!0,oe=!1;m!==_e(m)&&M&&(W=M.Event(m,E),M(P).trigger(W),X=!W.isPropagationStopped(),ie=!W.isImmediatePropagationStopped(),oe=W.isDefaultPrevented());const ge=q(new Event(m,{bubbles:X,cancelable:!0}),E);return oe&&ge.preventDefault(),ie&&P.dispatchEvent(ge),ge.defaultPrevented&&W&&W.preventDefault(),ge}};function q(P,m={}){for(const[E,M]of Object.entries(m))try{P[E]=M}catch{Object.defineProperty(P,E,{configurable:!0,get:()=>M})}return P}function re(P){if(P==="true")return!0;if(P==="false")return!1;if(P===Number(P).toString())return Number(P);if(P===""||P==="null")return null;if(typeof P!="string")return P;try{return JSON.parse(decodeURIComponent(P))}catch{return P}}function Ee(P){return P.replace(/[A-Z]/g,m=>`-${m.toLowerCase()}`)}const Me={setDataAttribute(P,m,E){P.setAttribute(`data-bs-${Ee(m)}`,E)},removeDataAttribute(P,m){P.removeAttribute(`data-bs-${Ee(m)}`)},getDataAttributes(P){if(!P)return{};const m={},E=Object.keys(P.dataset).filter(M=>M.startsWith("bs")&&!M.startsWith("bsConfig"));for(const M of E){let W=M.replace(/^bs/,"");W=W.charAt(0).toLowerCase()+W.slice(1,W.length),m[W]=re(P.dataset[M])}return m},getDataAttribute:(P,m)=>re(P.getAttribute(`data-bs-${Ee(m)}`))};class qe{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(m){return m=this._mergeConfigObj(m),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}_configAfterMerge(m){return m}_mergeConfigObj(m,E){const M=h(E)?Me.getDataAttribute(E,"config"):{};return{...this.constructor.Default,...typeof M=="object"?M:{},...h(E)?Me.getDataAttributes(E):{},...typeof m=="object"?m:{}}}_typeCheckConfig(m,E=this.constructor.DefaultType){for(const[W,X]of Object.entries(E)){const ie=m[W],oe=h(ie)?"element":(M=ie)==null?`${M}`:Object.prototype.toString.call(M).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(X).test(oe))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${W}" provided type "${oe}" but expected type "${X}".`)}var M}}class Pe extends qe{constructor(m,E){super(),(m=d(m))&&(this._element=m,this._config=this._getConfig(E),n.set(this._element,this.constructor.DATA_KEY,this))}dispose(){n.remove(this._element,this.constructor.DATA_KEY),G.off(this._element,this.constructor.EVENT_KEY);for(const m of Object.getOwnPropertyNames(this))this[m]=null}_queueCallback(m,E,M=!0){j(m,E,M)}_getConfig(m){return m=this._mergeConfigObj(m,this._element),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}static getInstance(m){return n.get(d(m),this.DATA_KEY)}static getOrCreateInstance(m,E={}){return this.getInstance(m)||new this(m,typeof E=="object"?E:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(m){return`${m}${this.EVENT_KEY}`}}const He=P=>{let m=P.getAttribute("data-bs-target");if(!m||m==="#"){let E=P.getAttribute("href");if(!E||!E.includes("#")&&!E.startsWith("."))return null;E.includes("#")&&!E.startsWith("#")&&(E=`#${E.split("#")[1]}`),m=E&&E!=="#"?E.trim():null}return m?m.split(",").map(E=>o(E)).join(","):null},de={find:(P,m=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(m,P)),findOne:(P,m=document.documentElement)=>Element.prototype.querySelector.call(m,P),children:(P,m)=>[].concat(...P.children).filter(E=>E.matches(m)),parents(P,m){const E=[];let M=P.parentNode.closest(m);for(;M;)E.push(M),M=M.parentNode.closest(m);return E},prev(P,m){let E=P.previousElementSibling;for(;E;){if(E.matches(m))return[E];E=E.previousElementSibling}return[]},next(P,m){let E=P.nextElementSibling;for(;E;){if(E.matches(m))return[E];E=E.nextElementSibling}return[]},focusableChildren(P){const m=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(E=>`${E}:not([tabindex^="-"])`).join(",");return this.find(m,P).filter(E=>!g(E)&&f(E))},getSelectorFromElement(P){const m=He(P);return m&&de.findOne(m)?m:null},getElementFromSelector(P){const m=He(P);return m?de.findOne(m):null},getMultipleElementsFromSelector(P){const m=He(P);return m?de.find(m):[]}},Ge=(P,m="hide")=>{const E=`click.dismiss${P.EVENT_KEY}`,M=P.NAME;G.on(document,E,`[data-bs-dismiss="${M}"]`,function(W){if(["A","AREA"].includes(this.tagName)&&W.preventDefault(),g(this))return;const X=de.getElementFromSelector(this)||this.closest(`.${M}`);P.getOrCreateInstance(X)[m]()})},it=".bs.alert",be=`close${it}`,me=`closed${it}`;class ye extends Pe{static get NAME(){return"alert"}close(){if(G.trigger(this._element,be).defaultPrevented)return;this._element.classList.remove("show");const m=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,m)}_destroyElement(){this._element.remove(),G.trigger(this._element,me),this.dispose()}static jQueryInterface(m){return this.each(function(){const E=ye.getOrCreateInstance(this);if(typeof m=="string"){if(E[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);E[m](this)}})}}Ge(ye,"close"),T(ye);const Ke='[data-bs-toggle="button"]';class nt extends Pe{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(m){return this.each(function(){const E=nt.getOrCreateInstance(this);m==="toggle"&&E[m]()})}}G.on(document,"click.bs.button.data-api",Ke,P=>{P.preventDefault();const m=P.target.closest(Ke);nt.getOrCreateInstance(m).toggle()}),T(nt);const St=".bs.swipe",er=`touchstart${St}`,Wr=`touchmove${St}`,Za=`touchend${St}`,_s=`pointerdown${St}`,An=`pointerup${St}`,Ar={endCallback:null,leftCallback:null,rightCallback:null},eo={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Cr extends qe{constructor(m,E){super(),this._element=m,m&&Cr.isSupported()&&(this._config=this._getConfig(E),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Ar}static get DefaultType(){return eo}static get NAME(){return"swipe"}dispose(){G.off(this._element,St)}_start(m){this._supportPointerEvents?this._eventIsPointerPenTouch(m)&&(this._deltaX=m.clientX):this._deltaX=m.touches[0].clientX}_end(m){this._eventIsPointerPenTouch(m)&&(this._deltaX=m.clientX-this._deltaX),this._handleSwipe(),F(this._config.endCallback)}_move(m){this._deltaX=m.touches&&m.touches.length>1?0:m.touches[0].clientX-this._deltaX}_handleSwipe(){const m=Math.abs(this._deltaX);if(m<=40)return;const E=m/this._deltaX;this._deltaX=0,E&&F(E>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(G.on(this._element,_s,m=>this._start(m)),G.on(this._element,An,m=>this._end(m)),this._element.classList.add("pointer-event")):(G.on(this._element,er,m=>this._start(m)),G.on(this._element,Wr,m=>this._move(m)),G.on(this._element,Za,m=>this._end(m)))}_eventIsPointerPenTouch(m){return this._supportPointerEvents&&(m.pointerType==="pen"||m.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const yn=".bs.carousel",fi=".data-api",On="next",Ln="prev",Si="left",un="right",aa=`slide${yn}`,ol=`slid${yn}`,Oc=`keydown${yn}`,Uh=`mouseenter${yn}`,qh=`mouseleave${yn}`,oa=`dragstart${yn}`,ll=`load${yn}${fi}`,to=`click${yn}${fi}`,cl="carousel",xs="active",Es=".active",Vr=".carousel-item",no=Es+Vr,io={ArrowLeft:un,ArrowRight:Si},Wh={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Vh={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class $ extends Pe{constructor(m,E){super(m,E),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=de.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===cl&&this.cycle()}static get Default(){return Wh}static get DefaultType(){return Vh}static get NAME(){return"carousel"}next(){this._slide(On)}nextWhenVisible(){!document.hidden&&f(this._element)&&this.next()}prev(){this._slide(Ln)}pause(){this._isSliding&&l(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?G.one(this._element,ol,()=>this.cycle()):this.cycle())}to(m){const E=this._getItems();if(m>E.length-1||m<0)return;if(this._isSliding)return void G.one(this._element,ol,()=>this.to(m));const M=this._getItemIndex(this._getActive());if(M===m)return;const W=m>M?On:Ln;this._slide(W,E[m])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(m){return m.defaultInterval=m.interval,m}_addEventListeners(){this._config.keyboard&&G.on(this._element,Oc,m=>this._keydown(m)),this._config.pause==="hover"&&(G.on(this._element,Uh,()=>this.pause()),G.on(this._element,qh,()=>this._maybeEnableCycle())),this._config.touch&&Cr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const E of de.find(".carousel-item img",this._element))G.on(E,oa,M=>M.preventDefault());const m={leftCallback:()=>this._slide(this._directionToOrder(Si)),rightCallback:()=>this._slide(this._directionToOrder(un)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Cr(this._element,m)}_keydown(m){if(/input|textarea/i.test(m.target.tagName))return;const E=io[m.key];E&&(m.preventDefault(),this._slide(this._directionToOrder(E)))}_getItemIndex(m){return this._getItems().indexOf(m)}_setActiveIndicatorElement(m){if(!this._indicatorsElement)return;const E=de.findOne(Es,this._indicatorsElement);E.classList.remove(xs),E.removeAttribute("aria-current");const M=de.findOne(`[data-bs-slide-to="${m}"]`,this._indicatorsElement);M&&(M.classList.add(xs),M.setAttribute("aria-current","true"))}_updateInterval(){const m=this._activeElement||this._getActive();if(!m)return;const E=Number.parseInt(m.getAttribute("data-bs-interval"),10);this._config.interval=E||this._config.defaultInterval}_slide(m,E=null){if(this._isSliding)return;const M=this._getActive(),W=m===On,X=E||O(this._getItems(),M,W,this._config.wrap);if(X===M)return;const ie=this._getItemIndex(X),oe=Ce=>G.trigger(this._element,Ce,{relatedTarget:X,direction:this._orderToDirection(m),from:this._getItemIndex(M),to:ie});if(oe(aa).defaultPrevented||!M||!X)return;const ge=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ie),this._activeElement=X;const Ie=W?"carousel-item-start":"carousel-item-end",Fe=W?"carousel-item-next":"carousel-item-prev";X.classList.add(Fe),_(X),M.classList.add(Ie),X.classList.add(Ie),this._queueCallback(()=>{X.classList.remove(Ie,Fe),X.classList.add(xs),M.classList.remove(xs,Fe,Ie),this._isSliding=!1,oe(ol)},M,this._isAnimated()),ge&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return de.findOne(no,this._element)}_getItems(){return de.find(Vr,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(m){return N()?m===Si?Ln:On:m===Si?On:Ln}_orderToDirection(m){return N()?m===Ln?Si:un:m===Ln?un:Si}static jQueryInterface(m){return this.each(function(){const E=$.getOrCreateInstance(this,m);if(typeof m!="number"){if(typeof m=="string"){if(E[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);E[m]()}}else E.to(m)})}}G.on(document,to,"[data-bs-slide], [data-bs-slide-to]",function(P){const m=de.getElementFromSelector(this);if(!m||!m.classList.contains(cl))return;P.preventDefault();const E=$.getOrCreateInstance(m),M=this.getAttribute("data-bs-slide-to");return M?(E.to(M),void E._maybeEnableCycle()):Me.getDataAttribute(this,"slide")==="next"?(E.next(),void E._maybeEnableCycle()):(E.prev(),void E._maybeEnableCycle())}),G.on(window,ll,()=>{const P=de.find('[data-bs-ride="carousel"]');for(const m of P)$.getOrCreateInstance(m)}),T($);const J=".bs.collapse",se=`show${J}`,ce=`shown${J}`,De=`hide${J}`,We=`hidden${J}`,rt=`click${J}.data-api`,Re="show",Le="collapse",xe="collapsing",st=`:scope .${Le} .${Le}`,ht='[data-bs-toggle="collapse"]',Kt={parent:null,toggle:!0},Cn={parent:"(null|element)",toggle:"boolean"};class wt extends Pe{constructor(m,E){super(m,E),this._isTransitioning=!1,this._triggerArray=[];const M=de.find(ht);for(const W of M){const X=de.getSelectorFromElement(W),ie=de.find(X).filter(oe=>oe===this._element);X!==null&&ie.length&&this._triggerArray.push(W)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Kt}static get DefaultType(){return Cn}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let m=[];if(this._config.parent&&(m=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(W=>W!==this._element).map(W=>wt.getOrCreateInstance(W,{toggle:!1}))),m.length&&m[0]._isTransitioning||G.trigger(this._element,se).defaultPrevented)return;for(const W of m)W.hide();const E=this._getDimension();this._element.classList.remove(Le),this._element.classList.add(xe),this._element.style[E]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const M=`scroll${E[0].toUpperCase()+E.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(xe),this._element.classList.add(Le,Re),this._element.style[E]="",G.trigger(this._element,ce)},this._element,!0),this._element.style[E]=`${this._element[M]}px`}hide(){if(this._isTransitioning||!this._isShown()||G.trigger(this._element,De).defaultPrevented)return;const m=this._getDimension();this._element.style[m]=`${this._element.getBoundingClientRect()[m]}px`,_(this._element),this._element.classList.add(xe),this._element.classList.remove(Le,Re);for(const E of this._triggerArray){const M=de.getElementFromSelector(E);M&&!this._isShown(M)&&this._addAriaAndCollapsedClass([E],!1)}this._isTransitioning=!0,this._element.style[m]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(xe),this._element.classList.add(Le),G.trigger(this._element,We)},this._element,!0)}_isShown(m=this._element){return m.classList.contains(Re)}_configAfterMerge(m){return m.toggle=!!m.toggle,m.parent=d(m.parent),m}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const m=this._getFirstLevelChildren(ht);for(const E of m){const M=de.getElementFromSelector(E);M&&this._addAriaAndCollapsedClass([E],this._isShown(M))}}_getFirstLevelChildren(m){const E=de.find(st,this._config.parent);return de.find(m,this._config.parent).filter(M=>!E.includes(M))}_addAriaAndCollapsedClass(m,E){if(m.length)for(const M of m)M.classList.toggle("collapsed",!E),M.setAttribute("aria-expanded",E)}static jQueryInterface(m){const E={};return typeof m=="string"&&/show|hide/.test(m)&&(E.toggle=!1),this.each(function(){const M=wt.getOrCreateInstance(this,E);if(typeof m=="string"){if(M[m]===void 0)throw new TypeError(`No method named "${m}"`);M[m]()}})}}G.on(document,rt,ht,function(P){(P.target.tagName==="A"||P.delegateTarget&&P.delegateTarget.tagName==="A")&&P.preventDefault();for(const m of de.getMultipleElementsFromSelector(this))wt.getOrCreateInstance(m,{toggle:!1}).toggle()}),T(wt);var dt="top",At="bottom",vn="right",on="left",pi="auto",Nn=[dt,At,vn,on],tr="start",nr="end",Gr="clippingParents",$t="viewport",kr="popper",Lt="reference",hn=Nn.reduce(function(P,m){return P.concat([m+"-"+tr,m+"-"+nr])},[]),Tr=[].concat(Nn,[pi]).reduce(function(P,m){return P.concat([m,m+"-"+tr,m+"-"+nr])},[]),la="beforeRead",nn="read",ir="afterRead",Ai="beforeMain",Gh="main",rr="afterMain",Vg="beforeWrite",Gg="write",Xg="afterWrite",jc=[la,nn,ir,Ai,Gh,rr,Vg,Gg,Xg];function $i(P){return P?(P.nodeName||"").toLowerCase():null}function jn(P){if(P==null)return window;if(P.toString()!=="[object Window]"){var m=P.ownerDocument;return m&&m.defaultView||window}return P}function Xr(P){return P instanceof jn(P).Element||P instanceof Element}function sr(P){return P instanceof jn(P).HTMLElement||P instanceof HTMLElement}function rp(P){return typeof ShadowRoot<"u"&&(P instanceof jn(P).ShadowRoot||P instanceof ShadowRoot)}const Hc={name:"applyStyles",enabled:!0,phase:"write",fn:function(P){var m=P.state;Object.keys(m.elements).forEach(function(E){var M=m.styles[E]||{},W=m.attributes[E]||{},X=m.elements[E];sr(X)&&$i(X)&&(Object.assign(X.style,M),Object.keys(W).forEach(function(ie){var oe=W[ie];oe===!1?X.removeAttribute(ie):X.setAttribute(ie,oe===!0?"":oe)}))})},effect:function(P){var m=P.state,E={popper:{position:m.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(m.elements.popper.style,E.popper),m.styles=E,m.elements.arrow&&Object.assign(m.elements.arrow.style,E.arrow),function(){Object.keys(m.elements).forEach(function(M){var W=m.elements[M],X=m.attributes[M]||{},ie=Object.keys(m.styles.hasOwnProperty(M)?m.styles[M]:E[M]).reduce(function(oe,ge){return oe[ge]="",oe},{});sr(W)&&$i(W)&&(Object.assign(W.style,ie),Object.keys(X).forEach(function(oe){W.removeAttribute(oe)}))})}},requires:["computeStyles"]};function Pr(P){return P.split("-")[0]}var Ss=Math.max,ca=Math.min,ul=Math.round;function $c(){var P=navigator.userAgentData;return P!=null&&P.brands&&Array.isArray(P.brands)?P.brands.map(function(m){return m.brand+"/"+m.version}).join(" "):navigator.userAgent}function Mt(){return!/^((?!chrome|android).)*safari/i.test($c())}function ro(P,m,E){m===void 0&&(m=!1),E===void 0&&(E=!1);var M=P.getBoundingClientRect(),W=1,X=1;m&&sr(P)&&(W=P.offsetWidth>0&&ul(M.width)/P.offsetWidth||1,X=P.offsetHeight>0&&ul(M.height)/P.offsetHeight||1);var ie=(Xr(P)?jn(P):window).visualViewport,oe=!Mt()&&E,ge=(M.left+(oe&&ie?ie.offsetLeft:0))/W,Ie=(M.top+(oe&&ie?ie.offsetTop:0))/X,Fe=M.width/W,Ce=M.height/X;return{width:Fe,height:Ce,top:Ie,right:ge+Fe,bottom:Ie+Ce,left:ge,x:ge,y:Ie}}function Xh(P){var m=ro(P),E=P.offsetWidth,M=P.offsetHeight;return Math.abs(m.width-E)<=1&&(E=m.width),Math.abs(m.height-M)<=1&&(M=m.height),{x:P.offsetLeft,y:P.offsetTop,width:E,height:M}}function Kh(P,m){var E=m.getRootNode&&m.getRootNode();if(P.contains(m))return!0;if(E&&rp(E)){var M=m;do{if(M&&P.isSameNode(M))return!0;M=M.parentNode||M.host}while(M)}return!1}function Kr(P){return jn(P).getComputedStyle(P)}function Kg(P){return["table","td","th"].indexOf($i(P))>=0}function As(P){return((Xr(P)?P.ownerDocument:P.document)||window.document).documentElement}function hl(P){return $i(P)==="html"?P:P.assignedSlot||P.parentNode||(rp(P)?P.host:null)||As(P)}function zc(P){return sr(P)&&Kr(P).position!=="fixed"?P.offsetParent:null}function ar(P){for(var m=jn(P),E=zc(P);E&&Kg(E)&&Kr(E).position==="static";)E=zc(E);return E&&($i(E)==="html"||$i(E)==="body"&&Kr(E).position==="static")?m:E||function(M){var W=/firefox/i.test($c());if(/Trident/i.test($c())&&sr(M)&&Kr(M).position==="fixed")return null;var X=hl(M);for(rp(X)&&(X=X.host);sr(X)&&["html","body"].indexOf($i(X))<0;){var ie=Kr(X);if(ie.transform!=="none"||ie.perspective!=="none"||ie.contain==="paint"||["transform","perspective"].indexOf(ie.willChange)!==-1||W&&ie.willChange==="filter"||W&&ie.filter&&ie.filter!=="none")return X;X=X.parentNode}return null}(P)||m}function Qr(P){return["top","bottom"].indexOf(P)>=0?"x":"y"}function or(P,m,E){return Ss(P,ca(m,E))}function dl(P){return Object.assign({},{top:0,right:0,bottom:0,left:0},P)}function fl(P,m){return m.reduce(function(E,M){return E[M]=P,E},{})}const Cs={name:"arrow",enabled:!0,phase:"main",fn:function(P){var m,E=P.state,M=P.name,W=P.options,X=E.elements.arrow,ie=E.modifiersData.popperOffsets,oe=Pr(E.placement),ge=Qr(oe),Ie=[on,vn].indexOf(oe)>=0?"height":"width";if(X&&ie){var Fe=function(Dt,Ot){return dl(typeof(Dt=typeof Dt=="function"?Dt(Object.assign({},Ot.rects,{placement:Ot.placement})):Dt)!="number"?Dt:fl(Dt,Nn))}(W.padding,E),Ce=Xh(X),Je=ge==="y"?dt:on,Ue=ge==="y"?At:vn,Oe=E.rects.reference[Ie]+E.rects.reference[ge]-ie[ge]-E.rects.popper[Ie],Qe=ie[ge]-E.rects.reference[ge],at=ar(X),Ft=at?ge==="y"?at.clientHeight||0:at.clientWidth||0:0,zt=Oe/2-Qe/2,pt=Fe[Je],Rt=Ft-Ce[Ie]-Fe[Ue],lt=Ft/2-Ce[Ie]/2+zt,_t=or(pt,lt,Rt),Ct=ge;E.modifiersData[M]=((m={})[Ct]=_t,m.centerOffset=_t-lt,m)}},effect:function(P){var m=P.state,E=P.options.element,M=E===void 0?"[data-popper-arrow]":E;M!=null&&(typeof M!="string"||(M=m.elements.popper.querySelector(M)))&&Kh(m.elements.popper,M)&&(m.elements.arrow=M)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pl(P){return P.split("-")[1]}var Qg={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ml(P){var m,E=P.popper,M=P.popperRect,W=P.placement,X=P.variation,ie=P.offsets,oe=P.position,ge=P.gpuAcceleration,Ie=P.adaptive,Fe=P.roundOffsets,Ce=P.isFixed,Je=ie.x,Ue=Je===void 0?0:Je,Oe=ie.y,Qe=Oe===void 0?0:Oe,at=typeof Fe=="function"?Fe({x:Ue,y:Qe}):{x:Ue,y:Qe};Ue=at.x,Qe=at.y;var Ft=ie.hasOwnProperty("x"),zt=ie.hasOwnProperty("y"),pt=on,Rt=dt,lt=window;if(Ie){var _t=ar(E),Ct="clientHeight",Dt="clientWidth";_t===jn(E)&&Kr(_t=As(E)).position!=="static"&&oe==="absolute"&&(Ct="scrollHeight",Dt="scrollWidth"),(W===dt||(W===on||W===vn)&&X===nr)&&(Rt=At,Qe-=(Ce&&_t===lt&&lt.visualViewport?lt.visualViewport.height:_t[Ct])-M.height,Qe*=ge?1:-1),W!==on&&(W!==dt&&W!==At||X!==nr)||(pt=vn,Ue-=(Ce&&_t===lt&&lt.visualViewport?lt.visualViewport.width:_t[Dt])-M.width,Ue*=ge?1:-1)}var Ot,Zt=Object.assign({position:oe},Ie&&Qg),Jn=Fe===!0?function(ur,Zn){var Hn=ur.x,Bi=ur.y,en=Zn.devicePixelRatio||1;return{x:ul(Hn*en)/en||0,y:ul(Bi*en)/en||0}}({x:Ue,y:Qe},jn(E)):{x:Ue,y:Qe};return Ue=Jn.x,Qe=Jn.y,ge?Object.assign({},Zt,((Ot={})[Rt]=zt?"0":"",Ot[pt]=Ft?"0":"",Ot.transform=(lt.devicePixelRatio||1)<=1?"translate("+Ue+"px, "+Qe+"px)":"translate3d("+Ue+"px, "+Qe+"px, 0)",Ot)):Object.assign({},Zt,((m={})[Rt]=zt?Qe+"px":"",m[pt]=Ft?Ue+"px":"",m.transform="",m))}const sp={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(P){var m=P.state,E=P.options,M=E.gpuAcceleration,W=M===void 0||M,X=E.adaptive,ie=X===void 0||X,oe=E.roundOffsets,ge=oe===void 0||oe,Ie={placement:Pr(m.placement),variation:pl(m.placement),popper:m.elements.popper,popperRect:m.rects.popper,gpuAcceleration:W,isFixed:m.options.strategy==="fixed"};m.modifiersData.popperOffsets!=null&&(m.styles.popper=Object.assign({},m.styles.popper,ml(Object.assign({},Ie,{offsets:m.modifiersData.popperOffsets,position:m.options.strategy,adaptive:ie,roundOffsets:ge})))),m.modifiersData.arrow!=null&&(m.styles.arrow=Object.assign({},m.styles.arrow,ml(Object.assign({},Ie,{offsets:m.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ge})))),m.attributes.popper=Object.assign({},m.attributes.popper,{"data-popper-placement":m.placement})},data:{}};var Bc={passive:!0};const gl={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(P){var m=P.state,E=P.instance,M=P.options,W=M.scroll,X=W===void 0||W,ie=M.resize,oe=ie===void 0||ie,ge=jn(m.elements.popper),Ie=[].concat(m.scrollParents.reference,m.scrollParents.popper);return X&&Ie.forEach(function(Fe){Fe.addEventListener("scroll",E.update,Bc)}),oe&&ge.addEventListener("resize",E.update,Bc),function(){X&&Ie.forEach(function(Fe){Fe.removeEventListener("scroll",E.update,Bc)}),oe&&ge.removeEventListener("resize",E.update,Bc)}},data:{}};var Yg={left:"right",right:"left",bottom:"top",top:"bottom"};function Qh(P){return P.replace(/left|right|bottom|top/g,function(m){return Yg[m]})}var Uc={start:"end",end:"start"};function yl(P){return P.replace(/start|end/g,function(m){return Uc[m]})}function ua(P){var m=jn(P);return{scrollLeft:m.pageXOffset,scrollTop:m.pageYOffset}}function vl(P){return ro(As(P)).left+ua(P).scrollLeft}function ap(P){var m=Kr(P),E=m.overflow,M=m.overflowX,W=m.overflowY;return/auto|scroll|overlay|hidden/.test(E+W+M)}function Jg(P){return["html","body","#document"].indexOf($i(P))>=0?P.ownerDocument.body:sr(P)&&ap(P)?P:Jg(hl(P))}function so(P,m){var E;m===void 0&&(m=[]);var M=Jg(P),W=M===((E=P.ownerDocument)==null?void 0:E.body),X=jn(M),ie=W?[X].concat(X.visualViewport||[],ap(M)?M:[]):M,oe=m.concat(ie);return W?oe:oe.concat(so(hl(ie)))}function bl(P){return Object.assign({},P,{left:P.x,top:P.y,right:P.x+P.width,bottom:P.y+P.height})}function Yh(P,m,E){return m===$t?bl(function(M,W){var X=jn(M),ie=As(M),oe=X.visualViewport,ge=ie.clientWidth,Ie=ie.clientHeight,Fe=0,Ce=0;if(oe){ge=oe.width,Ie=oe.height;var Je=Mt();(Je||!Je&&W==="fixed")&&(Fe=oe.offsetLeft,Ce=oe.offsetTop)}return{width:ge,height:Ie,x:Fe+vl(M),y:Ce}}(P,E)):Xr(m)?function(M,W){var X=ro(M,!1,W==="fixed");return X.top=X.top+M.clientTop,X.left=X.left+M.clientLeft,X.bottom=X.top+M.clientHeight,X.right=X.left+M.clientWidth,X.width=M.clientWidth,X.height=M.clientHeight,X.x=X.left,X.y=X.top,X}(m,E):bl(function(M){var W,X=As(M),ie=ua(M),oe=(W=M.ownerDocument)==null?void 0:W.body,ge=Ss(X.scrollWidth,X.clientWidth,oe?oe.scrollWidth:0,oe?oe.clientWidth:0),Ie=Ss(X.scrollHeight,X.clientHeight,oe?oe.scrollHeight:0,oe?oe.clientHeight:0),Fe=-ie.scrollLeft+vl(M),Ce=-ie.scrollTop;return Kr(oe||X).direction==="rtl"&&(Fe+=Ss(X.clientWidth,oe?oe.clientWidth:0)-ge),{width:ge,height:Ie,x:Fe,y:Ce}}(As(P)))}function op(P){var m,E=P.reference,M=P.element,W=P.placement,X=W?Pr(W):null,ie=W?pl(W):null,oe=E.x+E.width/2-M.width/2,ge=E.y+E.height/2-M.height/2;switch(X){case dt:m={x:oe,y:E.y-M.height};break;case At:m={x:oe,y:E.y+E.height};break;case vn:m={x:E.x+E.width,y:ge};break;case on:m={x:E.x-M.width,y:ge};break;default:m={x:E.x,y:E.y}}var Ie=X?Qr(X):null;if(Ie!=null){var Fe=Ie==="y"?"height":"width";switch(ie){case tr:m[Ie]=m[Ie]-(E[Fe]/2-M[Fe]/2);break;case nr:m[Ie]=m[Ie]+(E[Fe]/2-M[Fe]/2)}}return m}function zi(P,m){m===void 0&&(m={});var E=m,M=E.placement,W=M===void 0?P.placement:M,X=E.strategy,ie=X===void 0?P.strategy:X,oe=E.boundary,ge=oe===void 0?Gr:oe,Ie=E.rootBoundary,Fe=Ie===void 0?$t:Ie,Ce=E.elementContext,Je=Ce===void 0?kr:Ce,Ue=E.altBoundary,Oe=Ue!==void 0&&Ue,Qe=E.padding,at=Qe===void 0?0:Qe,Ft=dl(typeof at!="number"?at:fl(at,Nn)),zt=Je===kr?Lt:kr,pt=P.rects.popper,Rt=P.elements[Oe?zt:Je],lt=function(Zn,Hn,Bi,en){var Ui=Hn==="clippingParents"?function(jt){var $n=so(hl(jt)),zn=["absolute","fixed"].indexOf(Kr(jt).position)>=0&&sr(jt)?ar(jt):jt;return Xr(zn)?$n.filter(function(kn){return Xr(kn)&&Kh(kn,zn)&&$i(kn)!=="body"}):[]}(Zn):[].concat(Hn),gi=[].concat(Ui,[Bi]),wa=gi[0],wn=gi.reduce(function(jt,$n){var zn=Yh(Zn,$n,en);return jt.top=Ss(zn.top,jt.top),jt.right=ca(zn.right,jt.right),jt.bottom=ca(zn.bottom,jt.bottom),jt.left=Ss(zn.left,jt.left),jt},Yh(Zn,wa,en));return wn.width=wn.right-wn.left,wn.height=wn.bottom-wn.top,wn.x=wn.left,wn.y=wn.top,wn}(Xr(Rt)?Rt:Rt.contextElement||As(P.elements.popper),ge,Fe,ie),_t=ro(P.elements.reference),Ct=op({reference:_t,element:pt,strategy:"absolute",placement:W}),Dt=bl(Object.assign({},pt,Ct)),Ot=Je===kr?Dt:_t,Zt={top:lt.top-Ot.top+Ft.top,bottom:Ot.bottom-lt.bottom+Ft.bottom,left:lt.left-Ot.left+Ft.left,right:Ot.right-lt.right+Ft.right},Jn=P.modifiersData.offset;if(Je===kr&&Jn){var ur=Jn[W];Object.keys(Zt).forEach(function(Zn){var Hn=[vn,At].indexOf(Zn)>=0?1:-1,Bi=[dt,At].indexOf(Zn)>=0?"y":"x";Zt[Zn]+=ur[Bi]*Hn})}return Zt}function lp(P,m){m===void 0&&(m={});var E=m,M=E.placement,W=E.boundary,X=E.rootBoundary,ie=E.padding,oe=E.flipVariations,ge=E.allowedAutoPlacements,Ie=ge===void 0?Tr:ge,Fe=pl(M),Ce=Fe?oe?hn:hn.filter(function(Oe){return pl(Oe)===Fe}):Nn,Je=Ce.filter(function(Oe){return Ie.indexOf(Oe)>=0});Je.length===0&&(Je=Ce);var Ue=Je.reduce(function(Oe,Qe){return Oe[Qe]=zi(P,{placement:Qe,boundary:W,rootBoundary:X,padding:ie})[Pr(Qe)],Oe},{});return Object.keys(Ue).sort(function(Oe,Qe){return Ue[Oe]-Ue[Qe]})}const qc={name:"flip",enabled:!0,phase:"main",fn:function(P){var m=P.state,E=P.options,M=P.name;if(!m.modifiersData[M]._skip){for(var W=E.mainAxis,X=W===void 0||W,ie=E.altAxis,oe=ie===void 0||ie,ge=E.fallbackPlacements,Ie=E.padding,Fe=E.boundary,Ce=E.rootBoundary,Je=E.altBoundary,Ue=E.flipVariations,Oe=Ue===void 0||Ue,Qe=E.allowedAutoPlacements,at=m.options.placement,Ft=Pr(at),zt=ge||(Ft!==at&&Oe?function(jt){if(Pr(jt)===pi)return[];var $n=Qh(jt);return[yl(jt),$n,yl($n)]}(at):[Qh(at)]),pt=[at].concat(zt).reduce(function(jt,$n){return jt.concat(Pr($n)===pi?lp(m,{placement:$n,boundary:Fe,rootBoundary:Ce,padding:Ie,flipVariations:Oe,allowedAutoPlacements:Qe}):$n)},[]),Rt=m.rects.reference,lt=m.rects.popper,_t=new Map,Ct=!0,Dt=pt[0],Ot=0;Ot<pt.length;Ot++){var Zt=pt[Ot],Jn=Pr(Zt),ur=pl(Zt)===tr,Zn=[dt,At].indexOf(Jn)>=0,Hn=Zn?"width":"height",Bi=zi(m,{placement:Zt,boundary:Fe,rootBoundary:Ce,altBoundary:Je,padding:Ie}),en=Zn?ur?vn:on:ur?At:dt;Rt[Hn]>lt[Hn]&&(en=Qh(en));var Ui=Qh(en),gi=[];if(X&&gi.push(Bi[Jn]<=0),oe&&gi.push(Bi[en]<=0,Bi[Ui]<=0),gi.every(function(jt){return jt})){Dt=Zt,Ct=!1;break}_t.set(Zt,gi)}if(Ct)for(var wa=function(jt){var $n=pt.find(function(zn){var kn=_t.get(zn);if(kn)return kn.slice(0,jt).every(function(rs){return rs})});if($n)return Dt=$n,"break"},wn=Oe?3:1;wn>0&&wa(wn)!=="break";wn--);m.placement!==Dt&&(m.modifiersData[M]._skip=!0,m.placement=Dt,m.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function cp(P,m,E){return E===void 0&&(E={x:0,y:0}),{top:P.top-m.height-E.y,right:P.right-m.width+E.x,bottom:P.bottom-m.height+E.y,left:P.left-m.width-E.x}}function Wc(P){return[dt,vn,At,on].some(function(m){return P[m]>=0})}const Vc={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(P){var m=P.state,E=P.name,M=m.rects.reference,W=m.rects.popper,X=m.modifiersData.preventOverflow,ie=zi(m,{elementContext:"reference"}),oe=zi(m,{altBoundary:!0}),ge=cp(ie,M),Ie=cp(oe,W,X),Fe=Wc(ge),Ce=Wc(Ie);m.modifiersData[E]={referenceClippingOffsets:ge,popperEscapeOffsets:Ie,isReferenceHidden:Fe,hasPopperEscaped:Ce},m.attributes.popper=Object.assign({},m.attributes.popper,{"data-popper-reference-hidden":Fe,"data-popper-escaped":Ce})}},up={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(P){var m=P.state,E=P.options,M=P.name,W=E.offset,X=W===void 0?[0,0]:W,ie=Tr.reduce(function(Fe,Ce){return Fe[Ce]=function(Je,Ue,Oe){var Qe=Pr(Je),at=[on,dt].indexOf(Qe)>=0?-1:1,Ft=typeof Oe=="function"?Oe(Object.assign({},Ue,{placement:Je})):Oe,zt=Ft[0],pt=Ft[1];return zt=zt||0,pt=(pt||0)*at,[on,vn].indexOf(Qe)>=0?{x:pt,y:zt}:{x:zt,y:pt}}(Ce,m.rects,X),Fe},{}),oe=ie[m.placement],ge=oe.x,Ie=oe.y;m.modifiersData.popperOffsets!=null&&(m.modifiersData.popperOffsets.x+=ge,m.modifiersData.popperOffsets.y+=Ie),m.modifiersData[M]=ie}},mi={name:"popperOffsets",enabled:!0,phase:"read",fn:function(P){var m=P.state,E=P.name;m.modifiersData[E]=op({reference:m.rects.reference,element:m.rects.popper,strategy:"absolute",placement:m.placement})},data:{}},ao={name:"preventOverflow",enabled:!0,phase:"main",fn:function(P){var m=P.state,E=P.options,M=P.name,W=E.mainAxis,X=W===void 0||W,ie=E.altAxis,oe=ie!==void 0&&ie,ge=E.boundary,Ie=E.rootBoundary,Fe=E.altBoundary,Ce=E.padding,Je=E.tether,Ue=Je===void 0||Je,Oe=E.tetherOffset,Qe=Oe===void 0?0:Oe,at=zi(m,{boundary:ge,rootBoundary:Ie,padding:Ce,altBoundary:Fe}),Ft=Pr(m.placement),zt=pl(m.placement),pt=!zt,Rt=Qr(Ft),lt=Rt==="x"?"y":"x",_t=m.modifiersData.popperOffsets,Ct=m.rects.reference,Dt=m.rects.popper,Ot=typeof Qe=="function"?Qe(Object.assign({},m.rects,{placement:m.placement})):Qe,Zt=typeof Ot=="number"?{mainAxis:Ot,altAxis:Ot}:Object.assign({mainAxis:0,altAxis:0},Ot),Jn=m.modifiersData.offset?m.modifiersData.offset[m.placement]:null,ur={x:0,y:0};if(_t){if(X){var Zn,Hn=Rt==="y"?dt:on,Bi=Rt==="y"?At:vn,en=Rt==="y"?"height":"width",Ui=_t[Rt],gi=Ui+at[Hn],wa=Ui-at[Bi],wn=Ue?-Dt[en]/2:0,jt=zt===tr?Ct[en]:Dt[en],$n=zt===tr?-Dt[en]:-Ct[en],zn=m.elements.arrow,kn=Ue&&zn?Xh(zn):{width:0,height:0},rs=m.modifiersData["arrow#persistent"]?m.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},yd=rs[Hn],Cp=rs[Bi],hr=or(0,Ct[en],kn[en]),_a=pt?Ct[en]/2-wn-hr-yd-Zt.mainAxis:jt-hr-yd-Zt.mainAxis,kp=pt?-Ct[en]/2+wn+hr+Cp+Zt.mainAxis:$n+hr+Cp+Zt.mainAxis,vd=m.elements.arrow&&ar(m.elements.arrow),Ls=vd?Rt==="y"?vd.clientTop||0:vd.clientLeft||0:0,Ns=(Zn=Jn==null?void 0:Jn[Rt])!=null?Zn:0,bd=Ui+kp-Ns,Tp=or(Ue?ca(gi,Ui+_a-Ns-Ls):gi,Ui,Ue?Ss(wa,bd):wa);_t[Rt]=Tp,ur[Rt]=Tp-Ui}if(oe){var au,Iy=Rt==="x"?dt:on,ou=Rt==="x"?At:vn,ei=_t[lt],xa=lt==="y"?"height":"width",Ll=ei+at[Iy],Ea=ei-at[ou],lu=[dt,on].indexOf(Ft)!==-1,go=(au=Jn==null?void 0:Jn[lt])!=null?au:0,Pp=lu?Ll:ei-Ct[xa]-Dt[xa]-go+Zt.altAxis,wd=lu?ei+Ct[xa]+Dt[xa]-go-Zt.altAxis:Ea,rn=Ue&&lu?function(_d,Rp,cu){var uu=or(_d,Rp,cu);return uu>cu?cu:uu}(Pp,ei,wd):or(Ue?Pp:Ll,ei,Ue?wd:Ea);_t[lt]=rn,ur[lt]=rn-ei}m.modifiersData[M]=ur}},requiresIfExists:["offset"]};function hp(P,m,E){E===void 0&&(E=!1);var M,W,X=sr(m),ie=sr(m)&&function(Ce){var Je=Ce.getBoundingClientRect(),Ue=ul(Je.width)/Ce.offsetWidth||1,Oe=ul(Je.height)/Ce.offsetHeight||1;return Ue!==1||Oe!==1}(m),oe=As(m),ge=ro(P,ie,E),Ie={scrollLeft:0,scrollTop:0},Fe={x:0,y:0};return(X||!X&&!E)&&(($i(m)!=="body"||ap(oe))&&(Ie=(M=m)!==jn(M)&&sr(M)?{scrollLeft:(W=M).scrollLeft,scrollTop:W.scrollTop}:ua(M)),sr(m)?((Fe=ro(m,!0)).x+=m.clientLeft,Fe.y+=m.clientTop):oe&&(Fe.x=vl(oe))),{x:ge.left+Ie.scrollLeft-Fe.x,y:ge.top+Ie.scrollTop-Fe.y,width:ge.width,height:ge.height}}function Gc(P){var m=new Map,E=new Set,M=[];function W(X){E.add(X.name),[].concat(X.requires||[],X.requiresIfExists||[]).forEach(function(ie){if(!E.has(ie)){var oe=m.get(ie);oe&&W(oe)}}),M.push(X)}return P.forEach(function(X){m.set(X.name,X)}),P.forEach(function(X){E.has(X.name)||W(X)}),M}var Zg={placement:"bottom",modifiers:[],strategy:"absolute"};function Jh(){for(var P=arguments.length,m=new Array(P),E=0;E<P;E++)m[E]=arguments[E];return!m.some(function(M){return!(M&&typeof M.getBoundingClientRect=="function")})}function wl(P){P===void 0&&(P={});var m=P,E=m.defaultModifiers,M=E===void 0?[]:E,W=m.defaultOptions,X=W===void 0?Zg:W;return function(ie,oe,ge){ge===void 0&&(ge=X);var Ie,Fe,Ce={placement:"bottom",orderedModifiers:[],options:Object.assign({},Zg,X),modifiersData:{},elements:{reference:ie,popper:oe},attributes:{},styles:{}},Je=[],Ue=!1,Oe={state:Ce,setOptions:function(at){var Ft=typeof at=="function"?at(Ce.options):at;Qe(),Ce.options=Object.assign({},X,Ce.options,Ft),Ce.scrollParents={reference:Xr(ie)?so(ie):ie.contextElement?so(ie.contextElement):[],popper:so(oe)};var zt,pt,Rt=function(lt){var _t=Gc(lt);return jc.reduce(function(Ct,Dt){return Ct.concat(_t.filter(function(Ot){return Ot.phase===Dt}))},[])}((zt=[].concat(M,Ce.options.modifiers),pt=zt.reduce(function(lt,_t){var Ct=lt[_t.name];return lt[_t.name]=Ct?Object.assign({},Ct,_t,{options:Object.assign({},Ct.options,_t.options),data:Object.assign({},Ct.data,_t.data)}):_t,lt},{}),Object.keys(pt).map(function(lt){return pt[lt]})));return Ce.orderedModifiers=Rt.filter(function(lt){return lt.enabled}),Ce.orderedModifiers.forEach(function(lt){var _t=lt.name,Ct=lt.options,Dt=Ct===void 0?{}:Ct,Ot=lt.effect;if(typeof Ot=="function"){var Zt=Ot({state:Ce,name:_t,instance:Oe,options:Dt});Je.push(Zt||function(){})}}),Oe.update()},forceUpdate:function(){if(!Ue){var at=Ce.elements,Ft=at.reference,zt=at.popper;if(Jh(Ft,zt)){Ce.rects={reference:hp(Ft,ar(zt),Ce.options.strategy==="fixed"),popper:Xh(zt)},Ce.reset=!1,Ce.placement=Ce.options.placement,Ce.orderedModifiers.forEach(function(Ot){return Ce.modifiersData[Ot.name]=Object.assign({},Ot.data)});for(var pt=0;pt<Ce.orderedModifiers.length;pt++)if(Ce.reset!==!0){var Rt=Ce.orderedModifiers[pt],lt=Rt.fn,_t=Rt.options,Ct=_t===void 0?{}:_t,Dt=Rt.name;typeof lt=="function"&&(Ce=lt({state:Ce,options:Ct,name:Dt,instance:Oe})||Ce)}else Ce.reset=!1,pt=-1}}},update:(Ie=function(){return new Promise(function(at){Oe.forceUpdate(),at(Ce)})},function(){return Fe||(Fe=new Promise(function(at){Promise.resolve().then(function(){Fe=void 0,at(Ie())})})),Fe}),destroy:function(){Qe(),Ue=!0}};if(!Jh(ie,oe))return Oe;function Qe(){Je.forEach(function(at){return at()}),Je=[]}return Oe.setOptions(ge).then(function(at){!Ue&&ge.onFirstUpdate&&ge.onFirstUpdate(at)}),Oe}}var Xc=wl(),Zh=wl({defaultModifiers:[gl,mi,sp,Hc]}),ed=wl({defaultModifiers:[gl,mi,sp,Hc,up,qc,ao,Cs,Vc]});const ey=Object.freeze(Object.defineProperty({__proto__:null,afterMain:rr,afterRead:ir,afterWrite:Xg,applyStyles:Hc,arrow:Cs,auto:pi,basePlacements:Nn,beforeMain:Ai,beforeRead:la,beforeWrite:Vg,bottom:At,clippingParents:Gr,computeStyles:sp,createPopper:ed,createPopperBase:Xc,createPopperLite:Zh,detectOverflow:zi,end:nr,eventListeners:gl,flip:qc,hide:Vc,left:on,main:Gh,modifierPhases:jc,offset:up,placements:Tr,popper:kr,popperGenerator:wl,popperOffsets:mi,preventOverflow:ao,read:nn,reference:Lt,right:vn,start:tr,top:dt,variationPlacements:hn,viewport:$t,write:Gg},Symbol.toStringTag,{value:"Module"})),ty="dropdown",oo=".bs.dropdown",Kc=".data-api",G0="ArrowUp",ny="ArrowDown",X0=`hide${oo}`,K0=`hidden${oo}`,Q0=`show${oo}`,iy=`shown${oo}`,ry=`click${oo}${Kc}`,sy=`keydown${oo}${Kc}`,Y0=`keyup${oo}${Kc}`,_l="show",ks='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',J0=`${ks}.${_l}`,td=".dropdown-menu",Z0=N()?"top-end":"top-start",ay=N()?"top-start":"top-end",eb=N()?"bottom-end":"bottom-start",tb=N()?"bottom-start":"bottom-end",nb=N()?"left-start":"right-start",ib=N()?"right-start":"left-start",rb={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},sb={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Rr extends Pe{constructor(m,E){super(m,E),this._popper=null,this._parent=this._element.parentNode,this._menu=de.next(this._element,td)[0]||de.prev(this._element,td)[0]||de.findOne(td,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return rb}static get DefaultType(){return sb}static get NAME(){return ty}toggle(){return this._isShown()?this.hide():this.show()}show(){if(g(this._element)||this._isShown())return;const m={relatedTarget:this._element};if(!G.trigger(this._element,Q0,m).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const E of[].concat(...document.body.children))G.on(E,"mouseover",b);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(_l),this._element.classList.add(_l),G.trigger(this._element,iy,m)}}hide(){if(g(this._element)||!this._isShown())return;const m={relatedTarget:this._element};this._completeHide(m)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(m){if(!G.trigger(this._element,X0,m).defaultPrevented){if("ontouchstart"in document.documentElement)for(const E of[].concat(...document.body.children))G.off(E,"mouseover",b);this._popper&&this._popper.destroy(),this._menu.classList.remove(_l),this._element.classList.remove(_l),this._element.setAttribute("aria-expanded","false"),Me.removeDataAttribute(this._menu,"popper"),G.trigger(this._element,K0,m)}}_getConfig(m){if(typeof(m=super._getConfig(m)).reference=="object"&&!h(m.reference)&&typeof m.reference.getBoundingClientRect!="function")throw new TypeError(`${ty.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return m}_createPopper(){if(ey===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let m=this._element;this._config.reference==="parent"?m=this._parent:h(this._config.reference)?m=d(this._config.reference):typeof this._config.reference=="object"&&(m=this._config.reference);const E=this._getPopperConfig();this._popper=ed(m,this._menu,E)}_isShown(){return this._menu.classList.contains(_l)}_getPlacement(){const m=this._parent;if(m.classList.contains("dropend"))return nb;if(m.classList.contains("dropstart"))return ib;if(m.classList.contains("dropup-center"))return"top";if(m.classList.contains("dropdown-center"))return"bottom";const E=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return m.classList.contains("dropup")?E?ay:Z0:E?tb:eb}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:m}=this._config;return typeof m=="string"?m.split(",").map(E=>Number.parseInt(E,10)):typeof m=="function"?E=>m(E,this._element):m}_getPopperConfig(){const m={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Me.setDataAttribute(this._menu,"popper","static"),m.modifiers=[{name:"applyStyles",enabled:!1}]),{...m,...F(this._config.popperConfig,[m])}}_selectMenuItem({key:m,target:E}){const M=de.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(W=>f(W));M.length&&O(M,E,m===ny,!M.includes(E)).focus()}static jQueryInterface(m){return this.each(function(){const E=Rr.getOrCreateInstance(this,m);if(typeof m=="string"){if(E[m]===void 0)throw new TypeError(`No method named "${m}"`);E[m]()}})}static clearMenus(m){if(m.button===2||m.type==="keyup"&&m.key!=="Tab")return;const E=de.find(J0);for(const M of E){const W=Rr.getInstance(M);if(!W||W._config.autoClose===!1)continue;const X=m.composedPath(),ie=X.includes(W._menu);if(X.includes(W._element)||W._config.autoClose==="inside"&&!ie||W._config.autoClose==="outside"&&ie||W._menu.contains(m.target)&&(m.type==="keyup"&&m.key==="Tab"||/input|select|option|textarea|form/i.test(m.target.tagName)))continue;const oe={relatedTarget:W._element};m.type==="click"&&(oe.clickEvent=m),W._completeHide(oe)}}static dataApiKeydownHandler(m){const E=/input|textarea/i.test(m.target.tagName),M=m.key==="Escape",W=[G0,ny].includes(m.key);if(!W&&!M||E&&!M)return;m.preventDefault();const X=this.matches(ks)?this:de.prev(this,ks)[0]||de.next(this,ks)[0]||de.findOne(ks,m.delegateTarget.parentNode),ie=Rr.getOrCreateInstance(X);if(W)return m.stopPropagation(),ie.show(),void ie._selectMenuItem(m);ie._isShown()&&(m.stopPropagation(),ie.hide(),X.focus())}}G.on(document,sy,ks,Rr.dataApiKeydownHandler),G.on(document,sy,td,Rr.dataApiKeydownHandler),G.on(document,ry,Rr.clearMenus),G.on(document,Y0,Rr.clearMenus),G.on(document,ry,ks,function(P){P.preventDefault(),Rr.getOrCreateInstance(this).toggle()}),T(Rr);const nd="backdrop",xl="show",oy=`mousedown.bs.${nd}`,ly={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},cy={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class dp extends qe{constructor(m){super(),this._config=this._getConfig(m),this._isAppended=!1,this._element=null}static get Default(){return ly}static get DefaultType(){return cy}static get NAME(){return nd}show(m){if(!this._config.isVisible)return void F(m);this._append();const E=this._getElement();this._config.isAnimated&&_(E),E.classList.add(xl),this._emulateAnimation(()=>{F(m)})}hide(m){this._config.isVisible?(this._getElement().classList.remove(xl),this._emulateAnimation(()=>{this.dispose(),F(m)})):F(m)}dispose(){this._isAppended&&(G.off(this._element,oy),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const m=document.createElement("div");m.className=this._config.className,this._config.isAnimated&&m.classList.add("fade"),this._element=m}return this._element}_configAfterMerge(m){return m.rootElement=d(m.rootElement),m}_append(){if(this._isAppended)return;const m=this._getElement();this._config.rootElement.append(m),G.on(m,oy,()=>{F(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(m){j(m,this._getElement(),this._config.isAnimated)}}const Qc=".bs.focustrap",uy=`focusin${Qc}`,El=`keydown.tab${Qc}`,hy="backward",ab={autofocus:!0,trapElement:null},ob={autofocus:"boolean",trapElement:"element"};class fp extends qe{constructor(m){super(),this._config=this._getConfig(m),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ab}static get DefaultType(){return ob}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),G.off(document,Qc),G.on(document,uy,m=>this._handleFocusin(m)),G.on(document,El,m=>this._handleKeydown(m)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,G.off(document,Qc))}_handleFocusin(m){const{trapElement:E}=this._config;if(m.target===document||m.target===E||E.contains(m.target))return;const M=de.focusableChildren(E);M.length===0?E.focus():this._lastTabNavDirection===hy?M[M.length-1].focus():M[0].focus()}_handleKeydown(m){m.key==="Tab"&&(this._lastTabNavDirection=m.shiftKey?hy:"forward")}}const pp=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Sl=".sticky-top",ha="padding-right",dy="margin-right";class Al{constructor(){this._element=document.body}getWidth(){const m=document.documentElement.clientWidth;return Math.abs(window.innerWidth-m)}hide(){const m=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ha,E=>E+m),this._setElementAttributes(pp,ha,E=>E+m),this._setElementAttributes(Sl,dy,E=>E-m)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ha),this._resetElementAttributes(pp,ha),this._resetElementAttributes(Sl,dy)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(m,E,M){const W=this.getWidth();this._applyManipulationCallback(m,X=>{if(X!==this._element&&window.innerWidth>X.clientWidth+W)return;this._saveInitialAttribute(X,E);const ie=window.getComputedStyle(X).getPropertyValue(E);X.style.setProperty(E,`${M(Number.parseFloat(ie))}px`)})}_saveInitialAttribute(m,E){const M=m.style.getPropertyValue(E);M&&Me.setDataAttribute(m,E,M)}_resetElementAttributes(m,E){this._applyManipulationCallback(m,M=>{const W=Me.getDataAttribute(M,E);W!==null?(Me.removeDataAttribute(M,E),M.style.setProperty(E,W)):M.style.removeProperty(E)})}_applyManipulationCallback(m,E){if(h(m))E(m);else for(const M of de.find(m,this._element))E(M)}}const lr=".bs.modal",fy=`hide${lr}`,mp=`hidePrevented${lr}`,id=`hidden${lr}`,gp=`show${lr}`,py=`shown${lr}`,my=`resize${lr}`,lb=`click.dismiss${lr}`,cb=`mousedown.dismiss${lr}`,ub=`keydown.dismiss${lr}`,hb=`click${lr}.data-api`,gy="modal-open",cr="show",lo="modal-static",yy={backdrop:!0,focus:!0,keyboard:!0},vy={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class da extends Pe{constructor(m,E){super(m,E),this._dialog=de.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Al,this._addEventListeners()}static get Default(){return yy}static get DefaultType(){return vy}static get NAME(){return"modal"}toggle(m){return this._isShown?this.hide():this.show(m)}show(m){this._isShown||this._isTransitioning||G.trigger(this._element,gp,{relatedTarget:m}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(gy),this._adjustDialog(),this._backdrop.show(()=>this._showElement(m)))}hide(){this._isShown&&!this._isTransitioning&&(G.trigger(this._element,fy).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(cr),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){G.off(window,lr),G.off(this._dialog,lr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new dp({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new fp({trapElement:this._element})}_showElement(m){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const E=de.findOne(".modal-body",this._dialog);E&&(E.scrollTop=0),_(this._element),this._element.classList.add(cr),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,G.trigger(this._element,py,{relatedTarget:m})},this._dialog,this._isAnimated())}_addEventListeners(){G.on(this._element,ub,m=>{m.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),G.on(window,my,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),G.on(this._element,cb,m=>{G.one(this._element,lb,E=>{this._element===m.target&&this._element===E.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(gy),this._resetAdjustments(),this._scrollBar.reset(),G.trigger(this._element,id)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(G.trigger(this._element,mp).defaultPrevented)return;const m=this._element.scrollHeight>document.documentElement.clientHeight,E=this._element.style.overflowY;E==="hidden"||this._element.classList.contains(lo)||(m||(this._element.style.overflowY="hidden"),this._element.classList.add(lo),this._queueCallback(()=>{this._element.classList.remove(lo),this._queueCallback(()=>{this._element.style.overflowY=E},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const m=this._element.scrollHeight>document.documentElement.clientHeight,E=this._scrollBar.getWidth(),M=E>0;if(M&&!m){const W=N()?"paddingLeft":"paddingRight";this._element.style[W]=`${E}px`}if(!M&&m){const W=N()?"paddingRight":"paddingLeft";this._element.style[W]=`${E}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(m,E){return this.each(function(){const M=da.getOrCreateInstance(this,m);if(typeof m=="string"){if(M[m]===void 0)throw new TypeError(`No method named "${m}"`);M[m](E)}})}}G.on(document,hb,'[data-bs-toggle="modal"]',function(P){const m=de.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&P.preventDefault(),G.one(m,gp,M=>{M.defaultPrevented||G.one(m,id,()=>{f(this)&&this.focus()})});const E=de.findOne(".modal.show");E&&da.getInstance(E).hide(),da.getOrCreateInstance(m).toggle(this)}),Ge(da),T(da);const Yr=".bs.offcanvas",rd=".data-api",db=`load${Yr}${rd}`,by="show",co="showing",sd="hiding",Cl=".offcanvas.show",yp=`show${Yr}`,wy=`shown${Yr}`,ad=`hide${Yr}`,uo=`hidePrevented${Yr}`,od=`hidden${Yr}`,_y=`resize${Yr}`,ld=`click${Yr}${rd}`,xy=`keydown.dismiss${Yr}`,Ey={backdrop:!0,keyboard:!0,scroll:!1},Sy={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Jr extends Pe{constructor(m,E){super(m,E),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Ey}static get DefaultType(){return Sy}static get NAME(){return"offcanvas"}toggle(m){return this._isShown?this.hide():this.show(m)}show(m){this._isShown||G.trigger(this._element,yp,{relatedTarget:m}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Al().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(co),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(by),this._element.classList.remove(co),G.trigger(this._element,wy,{relatedTarget:m})},this._element,!0))}hide(){this._isShown&&(G.trigger(this._element,ad).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(sd),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(by,sd),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Al().reset(),G.trigger(this._element,od)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const m=!!this._config.backdrop;return new dp({className:"offcanvas-backdrop",isVisible:m,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:m?()=>{this._config.backdrop!=="static"?this.hide():G.trigger(this._element,uo)}:null})}_initializeFocusTrap(){return new fp({trapElement:this._element})}_addEventListeners(){G.on(this._element,xy,m=>{m.key==="Escape"&&(this._config.keyboard?this.hide():G.trigger(this._element,uo))})}static jQueryInterface(m){return this.each(function(){const E=Jr.getOrCreateInstance(this,m);if(typeof m=="string"){if(E[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);E[m](this)}})}}G.on(document,ld,'[data-bs-toggle="offcanvas"]',function(P){const m=de.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&P.preventDefault(),g(this))return;G.one(m,od,()=>{f(this)&&this.focus()});const E=de.findOne(Cl);E&&E!==m&&Jr.getInstance(E).hide(),Jr.getOrCreateInstance(m).toggle(this)}),G.on(window,db,()=>{for(const P of de.find(Cl))Jr.getOrCreateInstance(P).show()}),G.on(window,_y,()=>{for(const P of de.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(P).position!=="fixed"&&Jr.getOrCreateInstance(P).hide()}),Ge(Jr),T(Jr);const vp={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Ay=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),fa=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,bp=(P,m)=>{const E=P.nodeName.toLowerCase();return m.includes(E)?!Ay.has(E)||!!fa.test(P.nodeValue):m.filter(M=>M instanceof RegExp).some(M=>M.test(E))},wp={allowList:vp,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},fb={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},pb={entry:"(string|element|function|null)",selector:"(string|element)"};class Yc extends qe{constructor(m){super(),this._config=this._getConfig(m)}static get Default(){return wp}static get DefaultType(){return fb}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(m=>this._resolvePossibleFunction(m)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(m){return this._checkContent(m),this._config.content={...this._config.content,...m},this}toHtml(){const m=document.createElement("div");m.innerHTML=this._maybeSanitize(this._config.template);for(const[W,X]of Object.entries(this._config.content))this._setContent(m,X,W);const E=m.children[0],M=this._resolvePossibleFunction(this._config.extraClass);return M&&E.classList.add(...M.split(" ")),E}_typeCheckConfig(m){super._typeCheckConfig(m),this._checkContent(m.content)}_checkContent(m){for(const[E,M]of Object.entries(m))super._typeCheckConfig({selector:E,entry:M},pb)}_setContent(m,E,M){const W=de.findOne(M,m);W&&((E=this._resolvePossibleFunction(E))?h(E)?this._putElementInTemplate(d(E),W):this._config.html?W.innerHTML=this._maybeSanitize(E):W.textContent=E:W.remove())}_maybeSanitize(m){return this._config.sanitize?function(E,M,W){if(!E.length)return E;if(W&&typeof W=="function")return W(E);const X=new window.DOMParser().parseFromString(E,"text/html"),ie=[].concat(...X.body.querySelectorAll("*"));for(const oe of ie){const ge=oe.nodeName.toLowerCase();if(!Object.keys(M).includes(ge)){oe.remove();continue}const Ie=[].concat(...oe.attributes),Fe=[].concat(M["*"]||[],M[ge]||[]);for(const Ce of Ie)bp(Ce,Fe)||oe.removeAttribute(Ce.nodeName)}return X.body.innerHTML}(m,this._config.allowList,this._config.sanitizeFn):m}_resolvePossibleFunction(m){return F(m,[this])}_putElementInTemplate(m,E){if(this._config.html)return E.innerHTML="",void E.append(m);E.textContent=m.textContent}}const mb=new Set(["sanitize","allowList","sanitizeFn"]),cd="fade",Jc="show",Qt=".modal",ud="hide.bs.modal",pa="hover",ho="focus",Cy={AUTO:"auto",TOP:"top",RIGHT:N()?"left":"right",BOTTOM:"bottom",LEFT:N()?"right":"left"},_p={allowList:vp,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Zc={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Zr extends Pe{constructor(m,E){if(ey===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(m,E),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return _p}static get DefaultType(){return Zc}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),G.off(this._element.closest(Qt),ud,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const m=G.trigger(this._element,this.constructor.eventName("show")),E=(v(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(m.defaultPrevented||!E)return;this._disposePopper();const M=this._getTipElement();this._element.setAttribute("aria-describedby",M.getAttribute("id"));const{container:W}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(W.append(M),G.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(M),M.classList.add(Jc),"ontouchstart"in document.documentElement)for(const X of[].concat(...document.body.children))G.on(X,"mouseover",b);this._queueCallback(()=>{G.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!G.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Jc),"ontouchstart"in document.documentElement)for(const m of[].concat(...document.body.children))G.off(m,"mouseover",b);this._activeTrigger.click=!1,this._activeTrigger[ho]=!1,this._activeTrigger[pa]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),G.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(m){const E=this._getTemplateFactory(m).toHtml();if(!E)return null;E.classList.remove(cd,Jc),E.classList.add(`bs-${this.constructor.NAME}-auto`);const M=(W=>{do W+=Math.floor(1e6*Math.random());while(document.getElementById(W));return W})(this.constructor.NAME).toString();return E.setAttribute("id",M),this._isAnimated()&&E.classList.add(cd),E}setContent(m){this._newContent=m,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(m){return this._templateFactory?this._templateFactory.changeContent(m):this._templateFactory=new Yc({...this._config,content:m,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(m){return this.constructor.getOrCreateInstance(m.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(cd)}_isShown(){return this.tip&&this.tip.classList.contains(Jc)}_createPopper(m){const E=F(this._config.placement,[this,m,this._element]),M=Cy[E.toUpperCase()];return ed(this._element,m,this._getPopperConfig(M))}_getOffset(){const{offset:m}=this._config;return typeof m=="string"?m.split(",").map(E=>Number.parseInt(E,10)):typeof m=="function"?E=>m(E,this._element):m}_resolvePossibleFunction(m){return F(m,[this._element])}_getPopperConfig(m){const E={placement:m,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:M=>{this._getTipElement().setAttribute("data-popper-placement",M.state.placement)}}]};return{...E,...F(this._config.popperConfig,[E])}}_setListeners(){const m=this._config.trigger.split(" ");for(const E of m)if(E==="click")G.on(this._element,this.constructor.eventName("click"),this._config.selector,M=>{this._initializeOnDelegatedTarget(M).toggle()});else if(E!=="manual"){const M=E===pa?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),W=E===pa?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");G.on(this._element,M,this._config.selector,X=>{const ie=this._initializeOnDelegatedTarget(X);ie._activeTrigger[X.type==="focusin"?ho:pa]=!0,ie._enter()}),G.on(this._element,W,this._config.selector,X=>{const ie=this._initializeOnDelegatedTarget(X);ie._activeTrigger[X.type==="focusout"?ho:pa]=ie._element.contains(X.relatedTarget),ie._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},G.on(this._element.closest(Qt),ud,this._hideModalHandler)}_fixTitle(){const m=this._element.getAttribute("title");m&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",m),this._element.setAttribute("data-bs-original-title",m),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(m,E){clearTimeout(this._timeout),this._timeout=setTimeout(m,E)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(m){const E=Me.getDataAttributes(this._element);for(const M of Object.keys(E))mb.has(M)&&delete E[M];return m={...E,...typeof m=="object"&&m?m:{}},m=this._mergeConfigObj(m),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}_configAfterMerge(m){return m.container=m.container===!1?document.body:d(m.container),typeof m.delay=="number"&&(m.delay={show:m.delay,hide:m.delay}),typeof m.title=="number"&&(m.title=m.title.toString()),typeof m.content=="number"&&(m.content=m.content.toString()),m}_getDelegateConfig(){const m={};for(const[E,M]of Object.entries(this._config))this.constructor.Default[E]!==M&&(m[E]=M);return m.selector=!1,m.trigger="manual",m}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(m){return this.each(function(){const E=Zr.getOrCreateInstance(this,m);if(typeof m=="string"){if(E[m]===void 0)throw new TypeError(`No method named "${m}"`);E[m]()}})}}T(Zr);const kl={...Zr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},ky={...Zr.DefaultType,content:"(null|string|element|function)"};class hd extends Zr{static get Default(){return kl}static get DefaultType(){return ky}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(m){return this.each(function(){const E=hd.getOrCreateInstance(this,m);if(typeof m=="string"){if(E[m]===void 0)throw new TypeError(`No method named "${m}"`);E[m]()}})}}T(hd);const xp=".bs.scrollspy",Ty=`activate${xp}`,eu=`click${xp}`,dd=`load${xp}.data-api`,ma="active",tu="[href]",fd=".nav-link",Ep=`${fd}, .nav-item > ${fd}, .list-group-item`,gb={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Py={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class nu extends Pe{constructor(m,E){super(m,E),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return gb}static get DefaultType(){return Py}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const m of this._observableSections.values())this._observer.observe(m)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(m){return m.target=d(m.target)||document.body,m.rootMargin=m.offset?`${m.offset}px 0px -30%`:m.rootMargin,typeof m.threshold=="string"&&(m.threshold=m.threshold.split(",").map(E=>Number.parseFloat(E))),m}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(G.off(this._config.target,eu),G.on(this._config.target,eu,tu,m=>{const E=this._observableSections.get(m.target.hash);if(E){m.preventDefault();const M=this._rootElement||window,W=E.offsetTop-this._element.offsetTop;if(M.scrollTo)return void M.scrollTo({top:W,behavior:"smooth"});M.scrollTop=W}}))}_getNewObserver(){const m={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(E=>this._observerCallback(E),m)}_observerCallback(m){const E=ie=>this._targetLinks.get(`#${ie.target.id}`),M=ie=>{this._previousScrollData.visibleEntryTop=ie.target.offsetTop,this._process(E(ie))},W=(this._rootElement||document.documentElement).scrollTop,X=W>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=W;for(const ie of m){if(!ie.isIntersecting){this._activeTarget=null,this._clearActiveClass(E(ie));continue}const oe=ie.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(X&&oe){if(M(ie),!W)return}else X||oe||M(ie)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const m=de.find(tu,this._config.target);for(const E of m){if(!E.hash||g(E))continue;const M=de.findOne(decodeURI(E.hash),this._element);f(M)&&(this._targetLinks.set(decodeURI(E.hash),E),this._observableSections.set(E.hash,M))}}_process(m){this._activeTarget!==m&&(this._clearActiveClass(this._config.target),this._activeTarget=m,m.classList.add(ma),this._activateParents(m),G.trigger(this._element,Ty,{relatedTarget:m}))}_activateParents(m){if(m.classList.contains("dropdown-item"))de.findOne(".dropdown-toggle",m.closest(".dropdown")).classList.add(ma);else for(const E of de.parents(m,".nav, .list-group"))for(const M of de.prev(E,Ep))M.classList.add(ma)}_clearActiveClass(m){m.classList.remove(ma);const E=de.find(`${tu}.${ma}`,m);for(const M of E)M.classList.remove(ma)}static jQueryInterface(m){return this.each(function(){const E=nu.getOrCreateInstance(this,m);if(typeof m=="string"){if(E[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);E[m]()}})}}G.on(window,dd,()=>{for(const P of de.find('[data-bs-spy="scroll"]'))nu.getOrCreateInstance(P)}),T(nu);const fo=".bs.tab",Sp=`hide${fo}`,ga=`hidden${fo}`,Ry=`show${fo}`,Tl=`shown${fo}`,es=`click${fo}`,iu=`keydown${fo}`,Ts=`load${fo}`,Ap="ArrowLeft",Ly="ArrowRight",yb="ArrowUp",ya="ArrowDown",po="Home",mo="End",ts="active",pd="fade",va="show",Ps=".dropdown-toggle",qt=`:not(${Ps})`,Wt='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ns=`.nav-link${qt}, .list-group-item${qt}, [role="tab"]${qt}, ${Wt}`,Yn=`.${ts}[data-bs-toggle="tab"], .${ts}[data-bs-toggle="pill"], .${ts}[data-bs-toggle="list"]`;class bn extends Pe{constructor(m){super(m),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),G.on(this._element,iu,E=>this._keydown(E)))}static get NAME(){return"tab"}show(){const m=this._element;if(this._elemIsActive(m))return;const E=this._getActiveElem(),M=E?G.trigger(E,Sp,{relatedTarget:m}):null;G.trigger(m,Ry,{relatedTarget:E}).defaultPrevented||M&&M.defaultPrevented||(this._deactivate(E,m),this._activate(m,E))}_activate(m,E){m&&(m.classList.add(ts),this._activate(de.getElementFromSelector(m)),this._queueCallback(()=>{m.getAttribute("role")==="tab"?(m.removeAttribute("tabindex"),m.setAttribute("aria-selected",!0),this._toggleDropDown(m,!0),G.trigger(m,Tl,{relatedTarget:E})):m.classList.add(va)},m,m.classList.contains(pd)))}_deactivate(m,E){m&&(m.classList.remove(ts),m.blur(),this._deactivate(de.getElementFromSelector(m)),this._queueCallback(()=>{m.getAttribute("role")==="tab"?(m.setAttribute("aria-selected",!1),m.setAttribute("tabindex","-1"),this._toggleDropDown(m,!1),G.trigger(m,ga,{relatedTarget:E})):m.classList.remove(va)},m,m.classList.contains(pd)))}_keydown(m){if(![Ap,Ly,yb,ya,po,mo].includes(m.key))return;m.stopPropagation(),m.preventDefault();const E=this._getChildren().filter(W=>!g(W));let M;if([po,mo].includes(m.key))M=E[m.key===po?0:E.length-1];else{const W=[Ly,ya].includes(m.key);M=O(E,m.target,W,!0)}M&&(M.focus({preventScroll:!0}),bn.getOrCreateInstance(M).show())}_getChildren(){return de.find(ns,this._parent)}_getActiveElem(){return this._getChildren().find(m=>this._elemIsActive(m))||null}_setInitialAttributes(m,E){this._setAttributeIfNotExists(m,"role","tablist");for(const M of E)this._setInitialAttributesOnChild(M)}_setInitialAttributesOnChild(m){m=this._getInnerElement(m);const E=this._elemIsActive(m),M=this._getOuterElement(m);m.setAttribute("aria-selected",E),M!==m&&this._setAttributeIfNotExists(M,"role","presentation"),E||m.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(m,"role","tab"),this._setInitialAttributesOnTargetPanel(m)}_setInitialAttributesOnTargetPanel(m){const E=de.getElementFromSelector(m);E&&(this._setAttributeIfNotExists(E,"role","tabpanel"),m.id&&this._setAttributeIfNotExists(E,"aria-labelledby",`${m.id}`))}_toggleDropDown(m,E){const M=this._getOuterElement(m);if(!M.classList.contains("dropdown"))return;const W=(X,ie)=>{const oe=de.findOne(X,M);oe&&oe.classList.toggle(ie,E)};W(Ps,ts),W(".dropdown-menu",va),M.setAttribute("aria-expanded",E)}_setAttributeIfNotExists(m,E,M){m.hasAttribute(E)||m.setAttribute(E,M)}_elemIsActive(m){return m.classList.contains(ts)}_getInnerElement(m){return m.matches(ns)?m:de.findOne(ns,m)}_getOuterElement(m){return m.closest(".nav-item, .list-group-item")||m}static jQueryInterface(m){return this.each(function(){const E=bn.getOrCreateInstance(this);if(typeof m=="string"){if(E[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);E[m]()}})}}G.on(document,es,Wt,function(P){["A","AREA"].includes(this.tagName)&&P.preventDefault(),g(this)||bn.getOrCreateInstance(this).show()}),G.on(window,Ts,()=>{for(const P of de.find(Yn))bn.getOrCreateInstance(P)}),T(bn);const Ci=".bs.toast",Pl=`mouseover${Ci}`,ki=`mouseout${Ci}`,md=`focusin${Ci}`,Ny=`focusout${Ci}`,My=`hide${Ci}`,gd=`hidden${Ci}`,Dy=`show${Ci}`,Rs=`shown${Ci}`,ru="hide",Rl="show",su="showing",vb={animation:"boolean",autohide:"boolean",delay:"number"},ba={animation:!0,autohide:!0,delay:5e3};class is extends Pe{constructor(m,E){super(m,E),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ba}static get DefaultType(){return vb}static get NAME(){return"toast"}show(){G.trigger(this._element,Dy).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ru),_(this._element),this._element.classList.add(Rl,su),this._queueCallback(()=>{this._element.classList.remove(su),G.trigger(this._element,Rs),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(G.trigger(this._element,My).defaultPrevented||(this._element.classList.add(su),this._queueCallback(()=>{this._element.classList.add(ru),this._element.classList.remove(su,Rl),G.trigger(this._element,gd)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Rl),super.dispose()}isShown(){return this._element.classList.contains(Rl)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(m,E){switch(m.type){case"mouseover":case"mouseout":this._hasMouseInteraction=E;break;case"focusin":case"focusout":this._hasKeyboardInteraction=E}if(E)return void this._clearTimeout();const M=m.relatedTarget;this._element===M||this._element.contains(M)||this._maybeScheduleHide()}_setListeners(){G.on(this._element,Pl,m=>this._onInteraction(m,!0)),G.on(this._element,ki,m=>this._onInteraction(m,!1)),G.on(this._element,md,m=>this._onInteraction(m,!0)),G.on(this._element,Ny,m=>this._onInteraction(m,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(m){return this.each(function(){const E=is.getOrCreateInstance(this,m);if(typeof m=="string"){if(E[m]===void 0)throw new TypeError(`No method named "${m}"`);E[m](this)}})}}return Ge(is),T(is),{Alert:ye,Button:nt,Carousel:$,Collapse:wt,Dropdown:Rr,Modal:da,Offcanvas:Jr,Popover:hd,ScrollSpy:nu,Tab:bn,Toast:is,Tooltip:Zr}})}(Sv)),Sv.exports}nN();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),y1=(...a)=>a.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=I.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:l,...h},d)=>I.createElement("svg",{ref:d,...rN,width:e,height:e,stroke:a,strokeWidth:n?Number(t)*24/Number(e):t,className:y1("lucide",s),...h},[...l.map(([f,g])=>I.createElement(f,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=(a,e)=>{const t=I.forwardRef(({className:n,...s},o)=>I.createElement(sN,{ref:o,iconNode:e,className:y1(`lucide-${iN(a)}`,n),...s}));return t.displayName=`${a}`,t};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],oN=Hh("ChevronLeft",aN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cN=Hh("ChevronRight",lN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],hN=Hh("House",uN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],gw=Hh("RefreshCw",dN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],pN=Hh("Trash2",fN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],gN=Hh("ZoomIn",mN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],vN=Hh("ZoomOut",yN),bN=({Staff:a})=>{const e=np(),{mutate:t}=Ja({mutationFn:async()=>{try{const o=await fetch(`${di}/api/auth/logout`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}}),l=await o.json();if(!o.ok)throw new Error(l.error||"Something Went Wrong")}catch(o){throw o}},onSuccess:()=>{cn.success("Logout Successfully"),e.invalidateQueries({queryKey:["authStaff"]})}}),{mutate:n}=Ja({mutationFn:async({email:o,theme:l})=>{try{const h=await fetch(`${di}/api/staff/change-theme`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,theme:l})}),d=await h.json();if(!h.ok)throw new Error(d.error||"Something Went Wrong")}catch(h){throw h}},onSuccess:()=>{e.invalidateQueries({queryKey:["authStaff"]}),location.reload(),cn("Theme Changed")}});function s(o){const l=o.target.getAttribute("data-value"),h=a.email;n({email:h,theme:l})}return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"container-xxl rounded-4 overflow-hidden p-3 staff-container",id:"staff-card",children:[x.jsx("div",{className:"card m-0 rounded-0 border-0",children:x.jsxs("div",{className:"card-header row m-0 p-0 justify-content-between bg-transparent border-0",children:[x.jsxs("div",{className:"col-md-4 col-6 d-flex p-0 ps-2 align-items-center",children:[x.jsx("div",{className:"vr h-100 side-line rounded opacity-100"}),x.jsxs("div",{id:"staff-label",className:"card-header bg-transparent h5 border-0 fw-normal text-wrap ps-2 p-0",children:[a.role," Info"]})]}),x.jsxs("div",{className:"col-md-3 col-6 d-flex justify-content-end align-items-center gap-2 p-0",children:[x.jsxs("div",{className:"dropdown",children:[x.jsx("a",{className:"btn dropdown-toggle",id:"btn-theme",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Theme"}),x.jsxs("ul",{className:"dropdown-menu",children:[x.jsx("li",{children:x.jsx("button",{className:"dropdown-item","data-value":"light",onClick:s,children:"Light"})}),x.jsx("li",{children:x.jsx("button",{className:"dropdown-item","data-value":"dark",onClick:s,children:"Dark"})})]})]}),x.jsx("button",{id:"btn-logout",type:"button",className:"btn btn-primary",onClick:o=>{o.preventDefault(),t()},children:"logout"})]})]})}),x.jsxs("div",{className:"card-body p-3",children:[x.jsx("div",{className:"card-title h3 mt-3",children:a.staffname}),x.jsxs("div",{className:"row justify-content-around mt-4 gap-2",children:[x.jsxs("div",{className:"col-12 col-sm-5 info-box py-2 pxl-3 rounded-2",children:[x.jsx("div",{className:"info-title fw-light mb-1",children:"StaffID:"}),x.jsx("div",{className:"info-data overflow-auto fs-6",children:a.staffId})]}),x.jsxs("div",{className:"col-12 col-sm-5 info-box py-2 pxl-3 rounded-2",children:[x.jsx("div",{className:"info-title fw-light mb-1",children:"Role :"}),x.jsx("div",{className:"info-data fs-6 overflow-auto",children:a.role})]}),x.jsxs("div",{className:"row collapse justify-content-around mt-3 gap-2 p-0",id:"Collapse-staff-Info",children:[x.jsx("div",{className:"col-12 text-center mb-3",children:"More Information"}),x.jsxs("div",{className:"col-12 col-sm-5 info-box py-2 pxl-3 rounded-2",children:[x.jsx("div",{className:"info-title fw-light mb-1",children:"Email :"}),x.jsx("div",{className:"info-data fs-6 overflow-auto w-100",children:a.email})]}),x.jsxs("div",{className:"col-12 col-sm-5 info-box py-2 pxl-3 rounded-2",children:[x.jsx("div",{className:"info-title fw-light mb-1",children:"Department :"}),x.jsx("div",{className:"info-data overflow-auto fs-6",children:a.department})]})]}),x.jsx("div",{className:"row mt-3 justify-content-center",children:x.jsx("button",{type:"button",className:"btn btn-link w-25",id:"collapse-btn","data-bs-toggle":"collapse",href:"#Collapse-staff-Info",role:"button","aria-expanded":"false","aria-controls":"Collapse-staff-Info",children:"More"})})]})]})]}),x.jsx("div",{className:"back-to-button",children:x.jsx(Ya,{to:"/",className:"back-to-home-link",children:x.jsx(hN,{size:32,strokeWidth:1,className:"back-to-home-icon"})})})]})},v1="/assets/Site-B2_haqMV.png",wN=async()=>{const a=await fetch(`${di}/api/questionpaper/get-subject`);if(!a.ok)throw new Error("Failed to fetch subjects");return a.json()},_N=async a=>{const e=await fetch(`${di}/api/questionpaper/add-subject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!e.ok)throw new Error("Failed to add subject");return e.json()},xN=async a=>{const e=await fetch(`${di}/api/questionpaper/get-questionPaper?Subject_code=${a}`);if(!e.ok)throw new Error("Failed to fetch question papers");return e.json()},EN=async a=>{const e=await fetch(`${di}/api/questionpaper/delete-questionPaper`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({QuestionPaper_ID:a})});if(!e.ok)throw new Error("Failed to delete question paper");return e.json()},SN=()=>{var K,Y,te;const a=np(),[e,t]=I.useState(!1),[n,s]=I.useState(""),[o,l]=I.useState(""),[h,d]=I.useState(null),[f,g]=I.useState(null),[v,b]=I.useState(""),{data:_=[],isLoading:S,isError:C}=Tc({queryKey:["subjects"],queryFn:wN}),{data:N=[],isLoading:T}=Tc({queryKey:["questionPapers",v],queryFn:()=>xN(v),enabled:!!v}),F=Ja({mutationFn:EN,onSuccess:()=>{a.invalidateQueries(["questionPapers",v])}}),j=le=>{window.confirm("Do you want to remove this Question Paper")&&F.mutate(le)};I.useEffect(()=>{_.length>0&&h===null&&(g(_[0]._id),b(_[0].Subject_code),d(_[0]))},[_]);const O=Ja({mutationFn:_N,onSuccess:()=>{a.invalidateQueries(["subjects"]),s(""),l(""),t(!1)}}),D=()=>{n.trim()&&o.trim()&&O.mutate({Subject_name:n,Subject_code:o})},U=le=>{d(le),g(le._id),b(le.Subject_code)},Q=bx(),z=()=>{Q("/staff/add-new-question-paper",{state:{subject:h.Subject_name,subjectCode:h.Subject_code}})};return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"container-xxl rounded-4 overflow-hidden p-3 staff-container mt-5",id:"staff-card",children:[x.jsx("div",{className:"card m-0 rounded-0 border-0",children:x.jsxs("div",{className:"card-header row m-0 p-0 justify-content-between bg-transparent border-0",children:[x.jsxs("div",{className:"col-md-4 col-6 d-flex p-0 ps-2 align-items-center",children:[x.jsx("div",{className:"vr h-100 side-line rounded opacity-100"}),x.jsx("div",{id:"staff-label",className:"card-header bg-transparent h5 border-0 fw-normal text-wrap ps-2 p-0",children:"Question Paper Library"})]}),x.jsx("div",{className:"col-md-3 col-6 d-flex justify-content-end align-items-center gap-2 p-0",children:x.jsx(Ya,{id:"generate-btn",className:"p-2 px-3 text-light text-decoration-none rounded",to:"/staff/generate-new-question-paper",children:"Generate"})})]})}),x.jsxs("div",{className:"card-body p-3 mt-3",children:[S&&x.jsx("p",{children:"Loading subjects..."}),C&&x.jsx("p",{children:"Error fetching subjects."}),_.length===0&&x.jsx("p",{children:"No records found."}),_.map((le,we)=>x.jsx("button",{className:`Custom_Button my-2 ${f===le._id?"active":""}`,onClick:()=>{U(le)},children:le.Subject_name},le._id||we)),x.jsx("button",{className:"cus_but",onClick:()=>t(!0),children:"+ Add Subject"})]}),e&&x.jsx("div",{className:"modal",children:x.jsxs("div",{className:"modal-content",children:[x.jsx("h2",{children:"Add a New Subject"}),x.jsx("input",{type:"text",className:"form-control mb-2",placeholder:"Enter Subject Name",value:n,onChange:le=>s(le.target.value)}),x.jsx("input",{type:"text",className:"form-control mb-2",placeholder:"Enter Subject Code",value:o,onChange:le=>l(le.target.value)}),x.jsxs("div",{className:"modal-buttons",children:[x.jsx("button",{onClick:()=>t(!1),className:"cancel-button",children:"Cancel"}),x.jsx("button",{onClick:D,className:"submit-button",disabled:O.isLoading,children:O.isLoading?"Adding...":"Add"})]})]})}),x.jsxs("div",{className:"mt-2 ms-2 me-2 d-flex gap-4 flex-wrap row justify-content-md-start justify-content-center",children:[T&&x.jsx("p",{children:"Loading question papers..."}),((K=N==null?void 0:N.questionPaper)==null?void 0:K.length)===0&&x.jsxs("div",{className:"d-flex flex-column align-items-center justify-contend-center",children:[x.jsx("img",{src:v1,alt:"",style:{width:"400px",height:"200px"}}),x.jsx("h5",{children:"There is no Question paper available"}),x.jsx("button",{className:"bt3 mt-4",onClick:z,children:"+ Add New Question Paper"})]}),(Y=N==null?void 0:N.questionPaper)==null?void 0:Y.map((le,we)=>x.jsx("div",{className:"cards p-4 border-primary text-center",style:{maxWidth:"350px",position:"relative"},children:x.jsxs("div",{className:"card-body",children:[x.jsx("h5",{className:"card-title border-bottom pb-2 pt-3 text-wrap",children:le.topic}),x.jsx("button",{style:{border:"none",background:"none"},onClick:()=>j(le.QuestionPaper_ID),children:x.jsx(pN,{className:"Trash-icon",size:20,color:"red"})}),x.jsxs("div",{className:"d-flex justify-content-between",children:[x.jsx(Ya,{to:le.preViewLink,target:"_blank",rel:"noopener noreferrer",className:"bt1",children:"View"}),x.jsx(Ya,{to:le.downloadLink,target:"_blank",rel:"noopener noreferrer",className:"bt2",children:"Download"})]})]})},we)),((te=N==null?void 0:N.questionPaper)==null?void 0:te.length)!==0&&x.jsxs("div",{className:"qn_card p-4 border-primary d-flex flex-column justify-content-center align-items-center",style:{maxWidth:"350px",height:"180px",backgroundColor:"var(--86)"},onClick:z,children:[x.jsx("div",{className:"text-center h1",children:"+"}),x.jsx("div",{className:"h5 text-center",children:"Add New Question Paper "})]})]})]})})},AN=({Staff:a})=>{const[e,t]=I.useState({staffname:"",staffId:"",email:"",password:"staff123",department:"",role:"Staff"}),n=np(),[s,o]=I.useState(null),{data:l,isLoading:h,isError:d,error:f}=Tc({queryKey:["getAllStaff"],queryFn:async()=>{try{const O=await fetch(`${di}/api/staff/get-all-staff`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}),D=await O.json();if(!O.ok)throw new Error(D.error||"Something went Wrong");return D}catch(O){throw O}},retry:!1}),{mutate:g,isError:v,error:b}=Ja({mutationFn:async O=>{try{const D=await fetch(`${di}/api/staff/remove-staff`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:O})}),U=await D.json();if(!D.ok)throw new Error(U.error||"Something Wne Wrong");return U}catch(D){throw D}},onSuccess:()=>{cn.success("Deleted Successfully!"),o(null),n.invalidateQueries(["getAllStaff"])},onError:O=>{cn.error("Unable to Delete the record"),o(null),console.error("Error deleting staff:",O)}}),{mutate:_,isPending:S,isError:C,error:N}=Ja({mutationFn:async({staffname:O,staffId:D,email:U,password:Q,department:z,role:K})=>{try{const Y=await fetch(`${di}/api/auth/add-user`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({staffname:O,staffId:D,email:U,password:Q,department:z,role:K})}),te=await Y.json();if(!Y.ok)throw new Error(te.error||"Something Wne Wrong");return te}catch(Y){throw Y}},onSuccess:()=>{cn.success("Added Successfully!"),n.invalidateQueries(["getAllStaff"]),t({staffname:"",staffId:"",email:"",password:"staff123",department:"",role:"Staff"}),document.querySelector("#newStaffForm").reset()},onError:O=>{cn.error("Unable to Add the record"),console.error("Error Add staff:",O)}});function T(O){const D=O.target.getAttribute("data-staffemail");o(D),g(D)}function F(O){t({...e,[O.target.name]:O.target.value})}function j(O){O.preventDefault(),_(e)}return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"container-xxl rounded-4 overflow-hidden p-3 staff-container mt-5",id:"staff-table",children:[x.jsx("div",{className:"card m-0 rounded-0 border-0",children:x.jsx("div",{className:"card-header row m-0 p-0 justify-content-start bg-transparent border-0",children:x.jsxs("div",{className:"col-md-4 col-12 d-flex p-0 ps-2 align-items-center",children:[x.jsx("div",{className:"vr h-100 side-line rounded opacity-100"}),x.jsx("div",{id:"table-label",className:"card-header bg-transparent h5 border-0 fw-normal text-wrap ps-2 p-0",children:"Admin table"})]})})}),x.jsx("div",{className:"card-body p-3",children:x.jsx("div",{className:"table-responsive rounded-2 mt-4",style:{maxHeight:"300px"},children:x.jsxs("table",{className:`table table-striped m-0 ${a.theme==="dark"?"table-dark":""}`,children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{scope:"col",children:"S.no"}),x.jsx("th",{scope:"col",children:"Staffname"}),x.jsx("th",{scope:"col",children:"StaffId"}),x.jsx("th",{scope:"col",children:"Email"}),x.jsx("th",{scope:"col",children:"Department"}),x.jsx("th",{scope:"col",children:"Role"}),x.jsx("th",{scope:"col",children:"Remove"})]})}),x.jsxs("tbody",{children:[v&&x.jsx("tr",{children:x.jsx("td",{colSpan:"7",className:"text-center full-text-table",children:b.message})}),x.jsx("tr",{children:x.jsx("td",{colSpan:"7",className:"text-center full-text-table h5",children:"Your's Detail"})}),x.jsxs("tr",{children:[x.jsx("td",{className:"text-nowrap",children:"1"}),x.jsx("td",{className:"text-nowrap",children:a.staffname}),x.jsx("td",{className:"text-nowrap",children:a.staffId}),x.jsx("td",{className:"text-nowrap",children:a.email}),x.jsx("td",{className:"text-nowrap",children:a.department}),x.jsx("td",{className:"text-nowrap",children:a.role}),x.jsx("td",{className:"text-nowrap text-center text-success",children:"Current"})]}),x.jsx("tr",{children:x.jsx("td",{colSpan:"7",className:"text-center full-text-table h5",children:"Other's Detail"})}),h?x.jsx("tr",{children:x.jsx("td",{colSpan:"7",className:"text-center",children:x.jsx("div",{className:"spinner-border",role:"status"})})}):d?x.jsx("tr",{children:x.jsx("td",{colSpan:"7",className:"text-center",children:f.message})}):l.allStaff.length==0?x.jsx("tr",{children:x.jsx("td",{colSpan:"7",className:"text-center text-body-secondary",id:"noStaffMessage",children:"No Staff Found"})}):l.allStaff.map((O,D)=>x.jsxs("tr",{children:[x.jsx("td",{className:"text-nowrap",children:D+1}),x.jsx("td",{className:"text-nowrap",children:O.staffname}),x.jsx("td",{className:"text-nowrap",children:O.staffId}),x.jsx("td",{className:"text-nowrap",children:O.email}),x.jsx("td",{className:"text-nowrap",children:O.department}),x.jsx("td",{className:"text-nowrap",children:O.role}),x.jsx("td",{className:"text-nowrap text-center text-danger",children:s===O.email?"Removing..":x.jsx("button",{className:"btn bg-transpraent p-0 m-0 text-danger","data-staffemail":O.email,onClick:U=>T(U),children:"Remove"})})]},D+1))]})]})})}),x.jsx("div",{className:"card m-0 mt-4 rounded-0 border-0",children:x.jsx("div",{className:"card-header row m-0 p-0 justify-content-start bg-transparent border-0",children:x.jsxs("div",{className:"col-md-4 col-12 d-flex p-0 ps-2 align-items-center",children:[x.jsx("div",{className:"vr h-100 side-line rounded opacity-100"}),x.jsx("div",{id:"table-label",className:"card-header bg-transparent h5 border-0 fw-normal text-wrap ps-2 p-0",children:"Add new Staff or Admin"})]})})}),x.jsx("div",{className:"card-body p-3",children:x.jsx("div",{className:"conatiner-fluid",children:x.jsxs("form",{action:"#",onSubmit:j,id:"newStaffForm",children:[x.jsxs("div",{className:"form-group mt-3",children:[x.jsx("label",{htmlFor:"newStaffName",children:"Enter the Staff Name"}),x.jsx("input",{type:"text",className:"form-control mt-2",id:"newStaffName",name:"staffname","aria-describedby":"helpStaffName",onChange:F,autoComplete:"off",required:!0}),x.jsx("small",{id:"helpStaffName",className:" form-text text-muted d-block mt-2 ",children:"Enter the Staff Name"})]}),x.jsxs("div",{className:"form-group mt-3",children:[x.jsx("label",{htmlFor:"newStaffId",children:"Enter the StaffId"}),x.jsx("input",{type:"text",className:"form-control mt-2",id:"newStaffId",name:"staffId","aria-describedby":"helpStaffId",onChange:F,autoComplete:"off",required:!0}),x.jsx("small",{id:"helpStaffId",className:" form-text text-muted d-block mt-2 ",children:"Enter the Unique StaffId"})]}),x.jsxs("div",{className:"form-group mt-3",children:[x.jsx("label",{htmlFor:"newStaffEmail",children:"Enter the Staff Email address"}),x.jsx("input",{type:"email",className:"form-control mt-2",id:"newStaffEmail",name:"email","aria-describedby":"helpStaffEmail",onChange:F,autoComplete:"off",required:!0}),x.jsx("small",{id:"helpStaffEmail",className:" form-text text-muted d-block mt-2 ",children:"Enter the valid email address to send Invitation"})]}),x.jsxs("div",{className:"form-group mt-3",children:[x.jsx("label",{htmlFor:"newStaffPassword",children:"Enter the Password"}),x.jsx("input",{type:"text",className:"form-control mt-2",id:"newStaffPassword",name:"password","aria-describedby":"helpStaffPassword",value:e.password,onChange:F,autoComplete:"off",required:!0}),x.jsx("small",{id:"helpStaffPassword",className:" form-text text-muted d-block mt-2 ",children:"Defalut password Staff123"})]}),x.jsxs("div",{className:"form-group mt-3",children:[x.jsx("label",{htmlFor:"newStaffDepartment",children:"Enter the Deparment"}),x.jsx("input",{type:"text",className:"form-control mt-2",id:"newStaffDepartment",name:"department","aria-describedby":"helpStaffDepartment",onChange:F,autoComplete:"off",required:!0}),x.jsx("small",{id:"helpStaffDepartment",className:" form-text text-muted d-block mt-2 ",children:"Enter the Department"})]}),x.jsxs("div",{className:"form-group mt-3",children:[x.jsx("label",{children:"Enter the Role"}),x.jsxs("div",{className:"d-flex gap-5 mt-2",children:[x.jsxs("div",{className:"form-group",children:[x.jsx("input",{className:"form-check-input",type:"radio",name:"role",id:"newstaffRoleStaff",value:"Staff",checked:e.role==="Staff",onChange:F}),x.jsx("label",{className:"ps-2 form-check-label",htmlFor:"newstaffRoleStaff",children:"Staff"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("input",{className:"form-check-input",type:"radio",name:"role",id:"newstaffRoleAdmin",value:"Admin",onChange:F,checked:e.role==="Admin"}),x.jsx("label",{className:"ps-2 form-check-label",htmlFor:"newstaffRoleAdmin",children:"Admin"})]})]}),x.jsx("small",{id:"",className:"form-text text-muted d-block mt-2",children:"Enter the valid email address to send Invitation"})]}),C&&x.jsx("div",{className:"error-text mb-3 form-text text-decoration-underline text-danger mt-3",children:N.message}),x.jsx("div",{className:"form-group mt-3",children:x.jsx("button",{type:"submit",id:"save-btn",className:"btn text-center px-3",children:S?"Saving...":"Save"})})]})})})]})})},CN=()=>{const{data:a,isLoading:e}=Tc({queryKey:["Staff"],queryFn:async()=>{try{const t=await fetch(`${di}/api/auth/getStaff`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}),n=await t.json();if(n.error)return null;if(!t.ok)throw new Error(n.error||"Something went Wrong");return n}catch(t){throw t}},retry:!1});return e?x.jsx("div",{className:"loader vh-100 wh-100 d-flex justify-content-center align-items-center",children:x.jsx("div",{className:"spinner-border",role:"status"})}):x.jsxs("div",{id:"Staff-layout",className:`p-3 pt-5 min-vh-100 ${a.theme}`,children:[x.jsx(bN,{Staff:a}),a.role=="Admin"&&x.jsx(AN,{Staff:a}),x.jsx(SN,{})]})},kN="/assets/gnc-CXMV4rAE.png",TN="/assets/main-backdrop-jv-22GG7.png",PN=()=>{const[a,e]=I.useState({email:"",password:""}),t=np(),{mutate:n,isPending:s,isError:o,error:l}=Ja({mutationFn:async({email:f,password:g})=>{const v=await fetch(`${di}/api/auth/login`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f,password:g})}),b=await v.json();if(!v.ok)throw new Error(b.error||"Something went wrong")},onSuccess:()=>{cn.success("Login Successfully"),t.invalidateQueries({queryKey:["authStaff"]})}});function h(f){f.preventDefault(),n(a)}const d=f=>{e({...a,[f.target.name]:f.target.value})};return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"login-main-container w-100 vh-100 row m-0",children:[x.jsxs("div",{className:"login-form-container d-flex justify-content-center align-items-start flex-column vh-100 p-4 col-12 col-sm-5 col-lg-3",children:[x.jsx("div",{className:"d-flex justify-content-center align-items-center w-100",children:x.jsx("img",{id:"clg-logo",src:kN,alt:""})}),x.jsx("div",{className:"header h2 mb-4 text-center",children:"Log in to your account"}),x.jsxs("form",{className:"w-100",onSubmit:h,children:[x.jsxs("div",{className:"mb-3 form-group",children:[x.jsx("label",{htmlFor:"email",className:"mb-2",children:"Enter your email:"}),x.jsx("input",{type:"text",className:"form-control mb-2",id:"email",name:"email",onChange:d,"aria-describedby":"staffhelp",autoComplete:"username"}),x.jsx("div",{id:"staffhelp",className:"form-text",children:"Example: example@domain.com"})]}),x.jsxs("div",{className:"mb-2 form-group",children:[x.jsx("label",{htmlFor:"staffpassword",className:"mb-2",children:"Enter your password:"}),x.jsx("input",{type:"password",className:"form-control",id:"staffpassword",name:"password",onChange:d,"aria-describedby":"staffhelp",autoComplete:"current-password"})]}),o&&x.jsx("div",{className:"error-text mb-3 text-decoration-underline text-danger",children:l.message}),x.jsx("div",{className:"form-group mt-3",children:x.jsx("button",{type:"submit",id:"login-btn",className:"btn text-center px-3",children:s?"Loading":"Login"})})]})]}),x.jsx("div",{className:"login-banner vh-100 col-9 col-sm-7 col-lg-9 p-0",children:x.jsx("img",{className:"w-100 h-100",src:TN,alt:""})})]})})},RN=()=>x.jsx(x.Fragment,{children:x.jsx(a1,{})}),LN="modulepreload",NN=function(a){return"/"+a},WS={},dv=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),h=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(t.map(d=>{if(d=NN(d),d in WS)return;WS[d]=!0;const f=d.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":LN,f||(v.as="script"),v.crossOrigin="",v.href=d,h&&v.setAttribute("nonce",h),document.head.appendChild(v),f)return new Promise((b,_)=>{v.addEventListener("load",b),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(l){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=l,window.dispatchEvent(h),!h.defaultPrevented)throw l}return s.then(l=>{for(const h of l||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};var pm={};pm.d=(a,e)=>{for(var t in e)pm.o(e,t)&&!pm.o(a,t)&&Object.defineProperty(a,t,{enumerable:!0,get:e[t]})};pm.o=(a,e)=>Object.prototype.hasOwnProperty.call(a,e);var ft=globalThis.pdfjsLib={};pm.d(ft,{AbortException:()=>zh,AnnotationEditorLayer:()=>tx,AnnotationEditorParamsType:()=>ut,AnnotationEditorType:()=>gt,AnnotationEditorUIManager:()=>Nh,AnnotationLayer:()=>RD,AnnotationMode:()=>Wl,ColorPicker:()=>u0,DOMSVGFactory:()=>Ix,DrawLayer:()=>sx,FeatureTest:()=>Yi,GlobalWorkerOptions:()=>Jo,ImageKind:()=>Av,InvalidPDFException:()=>w1,MissingPDFException:()=>$h,OPS:()=>js,OutputScale:()=>Xw,PDFDataRangeTransport:()=>gC,PDFDateString:()=>Tx,PDFWorker:()=>Hd,PasswordResponses:()=>FN,PermissionFlag:()=>IN,PixelsPerInch:()=>Rc,RenderingCancelledException:()=>Cx,TextLayer:()=>x_,UnexpectedResponseException:()=>j0,Util:()=>Ye,VerbosityLevel:()=>I0,XfaLayer:()=>vC,build:()=>uD,createValidAbsoluteUrl:()=>$N,fetchData:()=>$0,getDocument:()=>tD,getFilenameFromUrl:()=>KN,getPdfFilenameFromUrl:()=>QN,getXfaPageViewport:()=>YN,isDataScheme:()=>z0,isPdfFile:()=>kx,noContextMenu:()=>ws,normalizeUnicode:()=>VN,setLayerDimensions:()=>Lh,shadow:()=>Pt,version:()=>cD});const Hi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),b1=[1,0,0,1,0,0],qw=[.001,0,0,.001,0,0],MN=1e7,yw=1.35,zr={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Wl={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},DN="pdfjs_internal_editor_",gt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},ut={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},IN={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Li={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Av={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},qn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Vp={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},I0={ERRORS:0,WARNINGS:1,INFOS:5},js={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},FN={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let F0=I0.WARNINGS;function ON(a){Number.isInteger(a)&&(F0=a)}function jN(){return F0}function O0(a){F0>=I0.INFOS&&console.log(`Info: ${a}`)}function vt(a){F0>=I0.WARNINGS&&console.log(`Warning: ${a}`)}function an(a){throw new Error(a)}function Kn(a,e){a||an(e)}function HN(a){switch(a==null?void 0:a.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function $N(a,e=null,t=null){if(!a)return null;try{if(t&&typeof a=="string"){if(t.addDefaultProtocol&&a.startsWith("www.")){const s=a.match(/\./g);(s==null?void 0:s.length)>=2&&(a=`http://${a}`)}if(t.tryConvertEncoding)try{a=WN(a)}catch{}}const n=e?new URL(a,e):new URL(a);if(HN(n))return n}catch{}return null}function Pt(a,e,t,n=!1){return Object.defineProperty(a,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Fc=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class Ww extends Fc{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Vw extends Fc{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class w1 extends Fc{constructor(e){super(e,"InvalidPDFException")}}class $h extends Fc{constructor(e){super(e,"MissingPDFException")}}class j0 extends Fc{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class zN extends Fc{constructor(e){super(e,"FormatError")}}class zh extends Fc{constructor(e){super(e,"AbortException")}}function _1(a){(typeof a!="object"||(a==null?void 0:a.length)===void 0)&&an("Invalid argument for bytesToString");const e=a.length,t=8192;if(e<t)return String.fromCharCode.apply(null,a);const n=[];for(let s=0;s<e;s+=t){const o=Math.min(s+t,e),l=a.subarray(s,o);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function H0(a){typeof a!="string"&&an("Invalid argument for stringToBytes");const e=a.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=a.charCodeAt(n)&255;return t}function BN(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function Sx(a){const e=Object.create(null);for(const[t,n]of a)e[t]=n;return e}function UN(){const a=new Uint8Array(4);return a[0]=1,new Uint32Array(a.buffer,0,1)[0]===1}function qN(){try{return new Function(""),!0}catch{return!1}}class Yi{static get isLittleEndian(){return Pt(this,"isLittleEndian",UN())}static get isEvalSupported(){return Pt(this,"isEvalSupported",qN())}static get isOffscreenCanvasSupported(){return Pt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Pt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Pt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return Pt(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const vw=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));var tl,Cv,Gw;class Ye{static makeHexColor(e,t,n){return`#${vw[e]}${vw[t]}${vw[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const n=e[0]*t[0]+e[1]*t[2]+t[4],s=e[0]*t[1]+e[1]*t[3]+t[5];return[n,s]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2],s=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,o=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[s,o]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),s=this.applyTransform(e.slice(2,4),t),o=this.applyTransform([e[0],e[3]],t),l=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],s[0],o[0],l[0]),Math.min(n[1],s[1],o[1],l[1]),Math.max(n[0],s[0],o[0],l[0]),Math.max(n[1],s[1],o[1],l[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],s=e[0]*t[1]+e[1]*t[3],o=e[2]*t[0]+e[3]*t[2],l=e[2]*t[1]+e[3]*t[3],h=(n+l)/2,d=Math.sqrt((n+l)**2-4*(n*l-o*s))/2,f=h+d||1,g=h-d||1;return[Math.sqrt(f),Math.sqrt(g)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>s)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>l?null:[n,o,s,l]}static bezierBoundingBox(e,t,n,s,o,l,h,d,f){return f?(f[0]=Math.min(f[0],e,h),f[1]=Math.min(f[1],t,d),f[2]=Math.max(f[2],e,h),f[3]=Math.max(f[3],t,d)):f=[Math.min(e,h),Math.min(t,d),Math.max(e,h),Math.max(t,d)],k(this,tl,Gw).call(this,e,n,o,h,t,s,l,d,3*(-e+3*(n-o)+h),6*(e-2*n+o),3*(n-e),f),k(this,tl,Gw).call(this,e,n,o,h,t,s,l,d,3*(-t+3*(s-l)+d),6*(t-2*s+l),3*(s-t),f),f}}tl=new WeakSet,Cv=function(e,t,n,s,o,l,h,d,f,g){if(f<=0||f>=1)return;const v=1-f,b=f*f,_=b*f,S=v*(v*(v*e+3*f*t)+3*b*n)+_*s,C=v*(v*(v*o+3*f*l)+3*b*h)+_*d;g[0]=Math.min(g[0],S),g[1]=Math.min(g[1],C),g[2]=Math.max(g[2],S),g[3]=Math.max(g[3],C)},Gw=function(e,t,n,s,o,l,h,d,f,g,v,b){if(Math.abs(f)<1e-12){Math.abs(g)>=1e-12&&k(this,tl,Cv).call(this,e,t,n,s,o,l,h,d,-v/g,b);return}const _=g**2-4*v*f;if(_<0)return;const S=Math.sqrt(_),C=2*f;k(this,tl,Cv).call(this,e,t,n,s,o,l,h,d,(-g+S)/C,b),k(this,tl,Cv).call(this,e,t,n,s,o,l,h,d,(-g-S)/C,b)},R(Ye,tl);function WN(a){return decodeURIComponent(escape(a))}let bw=null,VS=null;function VN(a){return bw||(bw=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,VS=new Map([["ﬅ","ſt"]])),a.replaceAll(bw,(e,t,n)=>t?t.normalize("NFKC"):VS.get(n))}function GN(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const a=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(a);else for(let e=0;e<32;e++)a[e]=Math.floor(Math.random()*255);return _1(a)}const Ax="pdfjs_internal_id_",wo={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function XN(a){return Uint8Array.prototype.toBase64?a.toBase64():btoa(_1(a))}const Eo="http://www.w3.org/2000/svg",Eu=class Eu{};ct(Eu,"CSS",96),ct(Eu,"PDF",72),ct(Eu,"PDF_TO_CSS_UNITS",Eu.CSS/Eu.PDF);let Rc=Eu;async function $0(a,e="text"){if(Yp(a,document.baseURI)){const t=await fetch(a);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const s=new XMLHttpRequest;s.open("GET",a,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class Bg{constructor({viewBox:e,scale:t,rotation:n,offsetX:s=0,offsetY:o=0,dontFlip:l=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=s,this.offsetY=o;const h=(e[2]+e[0])/2,d=(e[3]+e[1])/2;let f,g,v,b;switch(n%=360,n<0&&(n+=360),n){case 180:f=-1,g=0,v=0,b=1;break;case 90:f=0,g=1,v=1,b=0;break;case 270:f=0,g=-1,v=-1,b=0;break;case 0:f=1,g=0,v=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(v=-v,b=-b);let _,S,C,N;f===0?(_=Math.abs(d-e[1])*t+s,S=Math.abs(h-e[0])*t+o,C=(e[3]-e[1])*t,N=(e[2]-e[0])*t):(_=Math.abs(h-e[0])*t+s,S=Math.abs(d-e[1])*t+o,C=(e[2]-e[0])*t,N=(e[3]-e[1])*t),this.transform=[f*t,g*t,v*t,b*t,_-f*t*h-v*t*d,S-g*t*h-b*t*d],this.width=C,this.height=N}get rawDims(){const{viewBox:e}=this;return Pt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:o=!1}={}){return new Bg({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:o})}convertToViewportPoint(e,t){return Ye.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Ye.applyTransform([e[0],e[1]],this.transform),n=Ye.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return Ye.applyInverseTransform([e,t],this.transform)}}class Cx extends Fc{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function z0(a){const e=a.length;let t=0;for(;t<e&&a[t].trim()==="";)t++;return a.substring(t,t+5).toLowerCase()==="data:"}function kx(a){return typeof a=="string"&&/\.pdf$/i.test(a)}function KN(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function QN(a,e="document.pdf"){if(typeof a!="string")return e;if(z0(a))return vt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=t.exec(a);let o=n.exec(s[1])||n.exec(s[2])||n.exec(s[3]);if(o&&(o=o[0],o.includes("%")))try{o=n.exec(decodeURIComponent(o))[0]}catch{}return o||e}class GS{constructor(){ct(this,"started",Object.create(null));ct(this,"times",[])}time(e){e in this.started&&vt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||vt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:s,end:o}of this.times)e.push(`${n.padEnd(t)} ${o-s}ms
`);return e.join("")}}function Yp(a,e){try{const{protocol:t}=e?new URL(a,e):new URL(a);return t==="http:"||t==="https:"}catch{return!1}}function ws(a){a.preventDefault()}function XS(a){console.log("Deprecated API usage: "+a)}var Sm;class Tx{static toDateObject(e){if(!e||typeof e!="string")return null;c(this,Sm)||A(this,Sm,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=c(this,Sm).exec(e);if(!t)return null;const n=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let h=parseInt(t[5],10);h=h>=0&&h<=59?h:0;let d=parseInt(t[6],10);d=d>=0&&d<=59?d:0;const f=t[7]||"Z";let g=parseInt(t[8],10);g=g>=0&&g<=23?g:0;let v=parseInt(t[9],10)||0;return v=v>=0&&v<=59?v:0,f==="-"?(l+=g,h+=v):f==="+"&&(l-=g,h-=v),new Date(Date.UTC(n,s,o,l,h,d))}}Sm=new WeakMap,R(Tx,Sm);function YN(a,{scale:e=1,rotation:t=0}){const{width:n,height:s}=a.attributes.style,o=[0,0,parseInt(n),parseInt(s)];return new Bg({viewBox:o,scale:e,rotation:t})}function Px(a){if(a.startsWith("#")){const e=parseInt(a.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(e=>parseInt(e)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(vt(`Not a valid color format: "${a}"`),[0,0,0])}function JN(a){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of a.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;a.set(t,Px(n))}e.remove()}function gn(a){const{a:e,b:t,c:n,d:s,e:o,f:l}=a.getTransform();return[e,t,n,s,o,l]}function _o(a){const{a:e,b:t,c:n,d:s,e:o,f:l}=a.getTransform().invertSelf();return[e,t,n,s,o,l]}function Lh(a,e,t=!1,n=!0){if(e instanceof Bg){const{pageWidth:s,pageHeight:o}=e.rawDims,{style:l}=a,h=Yi.isCSSRoundSupported,d=`var(--scale-factor) * ${s}px`,f=`var(--scale-factor) * ${o}px`,g=h?`round(down, ${d}, var(--scale-round-x, 1px))`:`calc(${d})`,v=h?`round(down, ${f}, var(--scale-round-y, 1px))`:`calc(${f})`;!t||e.rotation%180===0?(l.width=g,l.height=v):(l.width=v,l.height=g)}n&&a.setAttribute("data-main-rotation",e.rotation)}class Xw{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var tc,Mu,zs,Du,Am,Cm,d0,x1,Ji,E1,S1,kv,A1,Qw;const So=class So{constructor(e){R(this,Ji);R(this,tc,null);R(this,Mu,null);R(this,zs);R(this,Du,null);R(this,Am,null);A(this,zs,e),c(So,Cm)||A(So,Cm,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=A(this,tc,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=c(this,zs)._uiManager._signal;e.addEventListener("contextmenu",ws,{signal:t}),e.addEventListener("pointerdown",k(So,d0,x1),{signal:t});const n=A(this,Du,document.createElement("div"));n.className="buttons",e.append(n);const s=c(this,zs).toolbarPosition;if(s){const{style:o}=e,l=c(this,zs)._uiManager.direction==="ltr"?1-s[0]:s[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return k(this,Ji,A1).call(this),e}get div(){return c(this,tc)}hide(){var e;c(this,tc).classList.add("hidden"),(e=c(this,Mu))==null||e.hideDropdown()}show(){var e;c(this,tc).classList.remove("hidden"),(e=c(this,Am))==null||e.shown()}async addAltText(e){const t=await e.render();k(this,Ji,kv).call(this,t),c(this,Du).prepend(t,c(this,Ji,Qw)),A(this,Am,e)}addColorPicker(e){A(this,Mu,e);const t=e.renderButton();k(this,Ji,kv).call(this,t),c(this,Du).prepend(t,c(this,Ji,Qw))}remove(){var e;c(this,tc).remove(),(e=c(this,Mu))==null||e.destroy(),A(this,Mu,null)}};tc=new WeakMap,Mu=new WeakMap,zs=new WeakMap,Du=new WeakMap,Am=new WeakMap,Cm=new WeakMap,d0=new WeakSet,x1=function(e){e.stopPropagation()},Ji=new WeakSet,E1=function(e){c(this,zs)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},S1=function(e){c(this,zs)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},kv=function(e){const t=c(this,zs)._uiManager._signal;e.addEventListener("focusin",k(this,Ji,E1).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",k(this,Ji,S1).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",ws,{signal:t})},A1=function(){const{editorType:e,_uiManager:t}=c(this,zs),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",c(So,Cm)[e]),k(this,Ji,kv).call(this,n),n.addEventListener("click",s=>{t.delete()},{signal:t._signal}),c(this,Du).append(n)},Qw=function(){const e=document.createElement("div");return e.className="divider",e},R(So,d0),R(So,Cm,null);let Kw=So;var km,Iu,Fu,Nc,C1,k1,T1;class ZN{constructor(e){R(this,Nc);R(this,km,null);R(this,Iu,null);R(this,Fu);A(this,Fu,e)}show(e,t,n){const[s,o]=k(this,Nc,k1).call(this,t,n),{style:l}=c(this,Iu)||A(this,Iu,k(this,Nc,C1).call(this));e.append(c(this,Iu)),l.insetInlineEnd=`${100*s}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,Iu).remove()}}km=new WeakMap,Iu=new WeakMap,Fu=new WeakMap,Nc=new WeakSet,C1=function(){const e=A(this,Iu,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ws,{signal:c(this,Fu)._signal});const t=A(this,km,document.createElement("div"));return t.className="buttons",e.append(t),k(this,Nc,T1).call(this),e},k1=function(e,t){let n=0,s=0;for(const o of e){const l=o.y+o.height;if(l<n)continue;const h=o.x+(t?o.width:0);if(l>n){s=h,n=l;continue}t?h>s&&(s=h):h<s&&(s=h)}return[t?1-s:s,n]},T1=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=c(this,Fu)._signal;e.addEventListener("contextmenu",ws,{signal:n}),e.addEventListener("click",()=>{c(this,Fu).highlightSelection("floating_button")},{signal:n}),c(this,km).append(e)};function o0(a,e,t){for(const n of t)e.addEventListener(n,a[n].bind(a))}function eM(a){return Math.round(Math.min(255,Math.max(1,255*a))).toString(16).padStart(2,"0")}var f0;class tM{constructor(){R(this,f0,0)}get id(){return`${DN}${ri(this,f0)._++}`}}f0=new WeakMap;var tf,Tm,Di,nf,Tv;const jx=class jx{constructor(){R(this,nf);R(this,tf,GN());R(this,Tm,0);R(this,Di,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const o=s.decode().then(()=>(n.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Pt(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:t,name:n,size:s,type:o}=e;return k(this,nf,Tv).call(this,`${t}_${n}_${s}_${o}`,e)}async getFromUrl(e){return k(this,nf,Tv).call(this,e,e)}async getFromBlob(e,t){const n=await t;return k(this,nf,Tv).call(this,e,n)}async getFromId(e){c(this,Di)||A(this,Di,new Map);const t=c(this,Di).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){c(this,Di)||A(this,Di,new Map);let n=c(this,Di).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),n={bitmap:s.transferToImageBitmap(),id:`image_${c(this,tf)}_${ri(this,Tm)._++}`,refCounter:1,isSvg:!1},c(this,Di).set(e,n),c(this,Di).set(n.id,n),n}getSvgUrl(e){const t=c(this,Di).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var s;c(this,Di)||A(this,Di,new Map);const t=c(this,Di).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const o=new OffscreenCanvas(n.width,n.height);o.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=o.convertToBlob()}(s=n.close)==null||s.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${c(this,tf)}_`)}};tf=new WeakMap,Tm=new WeakMap,Di=new WeakMap,nf=new WeakSet,Tv=async function(e,t){c(this,Di)||A(this,Di,new Map);let n=c(this,Di).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${c(this,tf)}_${ri(this,Tm)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(n.url=t,s=await $0(t,"blob")):t instanceof File?s=n.file=t:t instanceof Blob&&(s=t),s.type==="image/svg+xml"){const o=jx._isSVGFittingCanvas,l=new FileReader,h=new Image,d=new Promise((f,g)=>{h.onload=()=>{n.bitmap=h,n.isSvg=!0,f()},l.onload=async()=>{const v=n.svgUrl=l.result;h.src=await o?`${v}#svgView(preserveAspectRatio(none))`:v},h.onerror=l.onerror=g});l.readAsDataURL(s),await d}else n.bitmap=await createImageBitmap(s);n.refCounter=1}catch(s){console.error(s),n=null}return c(this,Di).set(e,n),n&&c(this,Di).set(n.id,n),n};let Yw=jx;var ai,nc,Pm,oi;class nM{constructor(e=128){R(this,ai,[]);R(this,nc,!1);R(this,Pm);R(this,oi,-1);A(this,Pm,e)}add({cmd:e,undo:t,post:n,mustExec:s,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:h=!1}){if(s&&e(),c(this,nc))return;const d={cmd:e,undo:t,post:n,type:o};if(c(this,oi)===-1){c(this,ai).length>0&&(c(this,ai).length=0),A(this,oi,0),c(this,ai).push(d);return}if(l&&c(this,ai)[c(this,oi)].type===o){h&&(d.undo=c(this,ai)[c(this,oi)].undo),c(this,ai)[c(this,oi)]=d;return}const f=c(this,oi)+1;f===c(this,Pm)?c(this,ai).splice(0,1):(A(this,oi,f),f<c(this,ai).length&&c(this,ai).splice(f)),c(this,ai).push(d)}undo(){if(c(this,oi)===-1)return;A(this,nc,!0);const{undo:e,post:t}=c(this,ai)[c(this,oi)];e(),t==null||t(),A(this,nc,!1),A(this,oi,c(this,oi)-1)}redo(){if(c(this,oi)<c(this,ai).length-1){A(this,oi,c(this,oi)+1),A(this,nc,!0);const{cmd:e,post:t}=c(this,ai)[c(this,oi)];e(),t==null||t(),A(this,nc,!1)}}hasSomethingToUndo(){return c(this,oi)!==-1}hasSomethingToRedo(){return c(this,oi)<c(this,ai).length-1}destroy(){A(this,ai,null)}}ai=new WeakMap,nc=new WeakMap,Pm=new WeakMap,oi=new WeakMap;var p0,P1;class Ug{constructor(e){R(this,p0);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Yi.platform;for(const[n,s,o={}]of e)for(const l of n){const h=l.startsWith("mac+");t&&h?(this.callbacks.set(l.slice(4),{callback:s,options:o}),this.allKeys.add(l.split("+").at(-1))):!t&&!h&&(this.callbacks.set(l,{callback:s,options:o}),this.allKeys.add(l.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(k(this,p0,P1).call(this,t));if(!n)return;const{callback:s,options:{bubbles:o=!1,args:l=[],checker:h=null}}=n;h&&!h(e,t)||(s.bind(e,...l,t)(),o||(t.stopPropagation(),t.preventDefault()))}}p0=new WeakSet,P1=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const m0=class m0{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return JN(e),Pt(this,"_colors",e)}convert(e){const t=Px(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,s]of this._colors)if(s.every((o,l)=>o===t[l]))return m0._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Ye.makeHexColor(...t):e}};ct(m0,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Jw=m0;var rf,Mr,Wn,wi,sf,To,af,Bs,ic,of,Ou,Na,Us,ju,Rm,Lm,lf,Nm,Ma,rc,cf,sc,Da,g0,ac,Mm,oc,Hu,Dm,Im,li,Vt,Po,$u,Fm,Om,lc,Ia,Ro,jm,us,ke,Pv,Zw,R1,L1,Rv,N1,M1,D1,e_,I1,t_,n_,F1,Vi,zl,O1,j1,i_,H1,Jp,r_;const Fd=class Fd{constructor(e,t,n,s,o,l,h,d,f,g,v){R(this,ke);R(this,rf,new AbortController);R(this,Mr,null);R(this,Wn,new Map);R(this,wi,new Map);R(this,sf,null);R(this,To,null);R(this,af,null);R(this,Bs,new nM);R(this,ic,null);R(this,of,0);R(this,Ou,new Set);R(this,Na,null);R(this,Us,null);R(this,ju,new Set);R(this,Rm,!1);R(this,Lm,!1);R(this,lf,!1);R(this,Nm,null);R(this,Ma,null);R(this,rc,null);R(this,cf,null);R(this,sc,!1);R(this,Da,null);R(this,g0,new tM);R(this,ac,!1);R(this,Mm,!1);R(this,oc,null);R(this,Hu,null);R(this,Dm,null);R(this,Im,null);R(this,li,gt.NONE);R(this,Vt,new Set);R(this,Po,null);R(this,$u,null);R(this,Fm,null);R(this,Om,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});R(this,lc,[0,0]);R(this,Ia,null);R(this,Ro,null);R(this,jm,null);R(this,us,null);const b=this._signal=c(this,rf).signal;A(this,Ro,e),A(this,jm,t),A(this,sf,n),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:b}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),s._on("setpreference",this.onSetPreference.bind(this),{signal:b}),s._on("switchannotationeditorparams",_=>this.updateParams(_.type,_.value),{signal:b}),k(this,ke,N1).call(this),k(this,ke,F1).call(this),k(this,ke,e_).call(this),A(this,To,o.annotationStorage),A(this,Nm,o.filterFactory),A(this,$u,l),A(this,cf,h||null),A(this,Rm,d),A(this,Lm,f),A(this,lf,g),A(this,Im,v||null),this.viewParameters={realScale:Rc.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Fd.prototype,t=l=>c(l,Ro).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:h})=>{if(h instanceof HTMLInputElement){const{type:d}=h;return d!=="text"&&d!=="number"}return!0},s=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Pt(this,"_keyboardManager",new Ug([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:h})=>!(h instanceof HTMLButtonElement)&&c(l,Ro).contains(h)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:h})=>!(h instanceof HTMLButtonElement)&&c(l,Ro).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:t}]]))}destroy(){var e,t,n,s;(e=c(this,us))==null||e.resolve(),A(this,us,null),(t=c(this,rf))==null||t.abort(),A(this,rf,null),this._signal=null;for(const o of c(this,wi).values())o.destroy();c(this,wi).clear(),c(this,Wn).clear(),c(this,ju).clear(),A(this,Mr,null),c(this,Vt).clear(),c(this,Bs).destroy(),(n=c(this,sf))==null||n.destroy(),(s=c(this,Da))==null||s.hide(),A(this,Da,null),c(this,Ma)&&(clearTimeout(c(this,Ma)),A(this,Ma,null)),c(this,Ia)&&(clearTimeout(c(this,Ia)),A(this,Ia,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return c(this,Im)}get useNewAltTextFlow(){return c(this,Lm)}get useNewAltTextWhenAddingImage(){return c(this,lf)}get hcmFilter(){return Pt(this,"hcmFilter",c(this,$u)?c(this,Nm).addHCMFilter(c(this,$u).foreground,c(this,$u).background):"none")}get direction(){return Pt(this,"direction",getComputedStyle(c(this,Ro)).direction)}get highlightColors(){return Pt(this,"highlightColors",c(this,cf)?new Map(c(this,cf).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Pt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){A(this,Dm,e)}editAltText(e,t=!1){var n;(n=c(this,sf))==null||n.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":A(this,lf,t);break}}onPageChanging({pageNumber:e}){A(this,of,e-1)}focusMainContainer(){c(this,Ro).focus()}findParent(e,t){for(const n of c(this,wi).values()){const{x:s,y:o,width:l,height:h}=n.div.getBoundingClientRect();if(e>=s&&e<=s+l&&t>=o&&t<=o+h)return n}return null}disableUserSelect(e=!1){c(this,jm).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,ju).add(e)}removeShouldRescale(e){c(this,ju).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Rc.PDF_TO_CSS_UNITS;for(const t of c(this,ju))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:s,focusNode:o,focusOffset:l}=t,h=t.toString(),f=k(this,ke,Pv).call(this,t).closest(".textLayer"),g=this.getSelectionBoxes(f);if(!g)return;t.empty();const v=k(this,ke,Zw).call(this,f),b=c(this,li)===gt.NONE,_=()=>{v==null||v.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:g,anchorNode:n,anchorOffset:s,focusNode:o,focusOffset:l,text:h}),b&&this.showAllEditors("highlight",!0,!0)};if(b){this.switchToMode(gt.HIGHLIGHT,_);return}_()}addToAnnotationStorage(e){!e.isEmpty()&&c(this,To)&&!c(this,To).has(e.id)&&c(this,To).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,c(this,sc)&&(A(this,sc,!1),k(this,ke,Rv).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of c(this,Vt))if(t.div.contains(e)){A(this,Hu,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!c(this,Hu))return;const[e,t]=c(this,Hu);A(this,Hu,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){k(this,ke,e_).call(this),k(this,ke,t_).call(this)}removeEditListeners(){k(this,ke,I1).call(this),k(this,ke,n_).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of c(this,Us))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of c(this,Us))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=c(this,Mr))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of c(this,Vt)){const o=s.serialize(!0);o&&t.push(o)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const o of t.items)for(const l of c(this,Us))if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){vt(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const o=[];for(const d of n){const f=await s.deserialize(d);if(!f)return;o.push(f)}const l=()=>{for(const d of o)k(this,ke,i_).call(this,d);k(this,ke,r_).call(this,o)},h=()=>{for(const d of o)d.remove()};this.addCommands({cmd:l,undo:h,mustExec:!0})}catch(o){vt(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,li)!==gt.NONE&&!this.isEditorHandlingKeyboard&&Fd._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,sc)&&(A(this,sc,!1),k(this,ke,Rv).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(k(this,ke,M1).call(this),k(this,ke,t_).call(this),k(this,ke,Vi).call(this,{isEditing:c(this,li)!==gt.NONE,isEmpty:k(this,ke,Jp).call(this),hasSomethingToUndo:c(this,Bs).hasSomethingToUndo(),hasSomethingToRedo:c(this,Bs).hasSomethingToRedo(),hasSelectedEditor:!1})):(k(this,ke,D1).call(this),k(this,ke,n_).call(this),k(this,ke,Vi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,Us)){A(this,Us,e);for(const t of c(this,Us))k(this,ke,zl).call(this,t.defaultPropertiesToUpdate)}}getId(){return c(this,g0).id}get currentLayer(){return c(this,wi).get(c(this,of))}getLayer(e){return c(this,wi).get(e)}get currentPageIndex(){return c(this,of)}addLayer(e){c(this,wi).set(e.pageIndex,e),c(this,ac)?e.enable():e.disable()}removeLayer(e){c(this,wi).delete(e.pageIndex)}async updateMode(e,t=null,n=!1){if(c(this,li)!==e&&!(c(this,us)&&(await c(this,us).promise,!c(this,us)))){if(A(this,us,Promise.withResolvers()),A(this,li,e),e===gt.NONE){this.setEditingState(!1),k(this,ke,j1).call(this),c(this,us).resolve();return}this.setEditingState(!0),await k(this,ke,O1).call(this),this.unselectAll();for(const s of c(this,wi).values())s.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),c(this,us).resolve();return}for(const s of c(this,Wn).values())s.annotationElementId===t?(this.setSelected(s),s.enterInEditMode()):s.unselect();c(this,us).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==c(this,li)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(c(this,Us)){switch(e){case ut.CREATE:this.currentLayer.addNewEditor();return;case ut.HIGHLIGHT_DEFAULT_COLOR:(n=c(this,Dm))==null||n.updateColor(t);break;case ut.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,Fm)||A(this,Fm,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const s of c(this,Vt))s.updateParams(e,t);for(const s of c(this,Us))s.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var o;for(const l of c(this,Wn).values())l.editorType===e&&l.show(t);(((o=c(this,Fm))==null?void 0:o.get(ut.HIGHLIGHT_SHOW_ALL))??!0)!==t&&k(this,ke,zl).call(this,[[ut.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(c(this,Mm)!==e){A(this,Mm,e);for(const t of c(this,wi).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of c(this,Wn).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return c(this,Wn).get(e)}addEditor(e){c(this,Wn).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(c(this,Ma)&&clearTimeout(c(this,Ma)),A(this,Ma,setTimeout(()=>{this.focusMainContainer(),A(this,Ma,null)},0))),c(this,Wn).delete(e.id),this.unselect(e),(!e.annotationElementId||!c(this,Ou).has(e.annotationElementId))&&((t=c(this,To))==null||t.remove(e.id))}addDeletedAnnotationElement(e){c(this,Ou).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,Ou).has(e)}removeDeletedAnnotationElement(e){c(this,Ou).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,Mr)!==e&&(A(this,Mr,e),e&&k(this,ke,zl).call(this,e.propertiesToUpdate))}updateUI(e){c(this,ke,H1)===e&&k(this,ke,zl).call(this,e.propertiesToUpdate)}toggleSelected(e){if(c(this,Vt).has(e)){c(this,Vt).delete(e),e.unselect(),k(this,ke,Vi).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,Vt).add(e),e.select(),k(this,ke,zl).call(this,e.propertiesToUpdate),k(this,ke,Vi).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of c(this,Vt))t!==e&&t.unselect();c(this,Vt).clear(),c(this,Vt).add(e),e.select(),k(this,ke,zl).call(this,e.propertiesToUpdate),k(this,ke,Vi).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,Vt).has(e)}get firstSelectedEditor(){return c(this,Vt).values().next().value}unselect(e){e.unselect(),c(this,Vt).delete(e),k(this,ke,Vi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,Vt).size!==0}get isEnterHandled(){return c(this,Vt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){c(this,Bs).undo(),k(this,ke,Vi).call(this,{hasSomethingToUndo:c(this,Bs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:k(this,ke,Jp).call(this)})}redo(){c(this,Bs).redo(),k(this,ke,Vi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,Bs).hasSomethingToRedo(),isEmpty:k(this,ke,Jp).call(this)})}addCommands(e){c(this,Bs).add(e),k(this,ke,Vi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:k(this,ke,Jp).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...c(this,Vt)],t=()=>{for(const s of e)s.remove()},n=()=>{for(const s of e)k(this,ke,i_).call(this,s)};this.addCommands({cmd:t,undo:n,mustExec:!0})}commitOrRemove(){var e;(e=c(this,Mr))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,Mr)||this.hasSelection}selectAll(){for(const e of c(this,Vt))e.commit();k(this,ke,r_).call(this,c(this,Wn).values())}unselectAll(){if(!(c(this,Mr)&&(c(this,Mr).commitOrRemove(),c(this,li)!==gt.NONE))&&this.hasSelection){for(const e of c(this,Vt))e.unselect();c(this,Vt).clear(),k(this,ke,Vi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;c(this,lc)[0]+=e,c(this,lc)[1]+=t;const[s,o]=c(this,lc),l=[...c(this,Vt)],h=1e3;c(this,Ia)&&clearTimeout(c(this,Ia)),A(this,Ia,setTimeout(()=>{A(this,Ia,null),c(this,lc)[0]=c(this,lc)[1]=0,this.addCommands({cmd:()=>{for(const d of l)c(this,Wn).has(d.id)&&d.translateInPage(s,o)},undo:()=>{for(const d of l)c(this,Wn).has(d.id)&&d.translateInPage(-s,-o)},mustExec:!1})},h));for(const d of l)d.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),A(this,Na,new Map);for(const e of c(this,Vt))c(this,Na).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,Na))return!1;this.disableUserSelect(!1);const e=c(this,Na);A(this,Na,null);let t=!1;for(const[{x:s,y:o,pageIndex:l},h]of e)h.newX=s,h.newY=o,h.newPageIndex=l,t||(t=s!==h.savedX||o!==h.savedY||l!==h.savedPageIndex);if(!t)return!1;const n=(s,o,l,h)=>{if(c(this,Wn).has(s.id)){const d=c(this,wi).get(h);d?s._setParentAndPosition(d,o,l):(s.pageIndex=h,s.x=o,s.y=l)}};return this.addCommands({cmd:()=>{for(const[s,{newX:o,newY:l,newPageIndex:h}]of e)n(s,o,l,h)},undo:()=>{for(const[s,{savedX:o,savedY:l,savedPageIndex:h}]of e)n(s,o,l,h)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(c(this,Na))for(const n of c(this,Na).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,Vt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,Mr)===e}getActive(){return c(this,Mr)}getMode(){return c(this,li)}get imageManager(){return Pt(this,"imageManager",new Yw)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let f=0,g=t.rangeCount;f<g;f++)if(!e.contains(t.getRangeAt(f).commonAncestorContainer))return null;const{x:n,y:s,width:o,height:l}=e.getBoundingClientRect();let h;switch(e.getAttribute("data-main-rotation")){case"90":h=(f,g,v,b)=>({x:(g-s)/l,y:1-(f+v-n)/o,width:b/l,height:v/o});break;case"180":h=(f,g,v,b)=>({x:1-(f+v-n)/o,y:1-(g+b-s)/l,width:v/o,height:b/l});break;case"270":h=(f,g,v,b)=>({x:1-(g+b-s)/l,y:(f-n)/o,width:b/l,height:v/o});break;default:h=(f,g,v,b)=>({x:(f-n)/o,y:(g-s)/l,width:v/o,height:b/l});break}const d=[];for(let f=0,g=t.rangeCount;f<g;f++){const v=t.getRangeAt(f);if(!v.collapsed)for(const{x:b,y:_,width:S,height:C}of v.getClientRects())S===0||C===0||d.push(h(b,_,S,C))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:e,id:t}){(c(this,af)||A(this,af,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=c(this,af))==null||t.delete(e)}renderAnnotationElement(e){var s;const t=(s=c(this,af))==null?void 0:s.get(e.data.id);if(!t)return;const n=c(this,To).getRawValue(t);n&&(c(this,li)===gt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};rf=new WeakMap,Mr=new WeakMap,Wn=new WeakMap,wi=new WeakMap,sf=new WeakMap,To=new WeakMap,af=new WeakMap,Bs=new WeakMap,ic=new WeakMap,of=new WeakMap,Ou=new WeakMap,Na=new WeakMap,Us=new WeakMap,ju=new WeakMap,Rm=new WeakMap,Lm=new WeakMap,lf=new WeakMap,Nm=new WeakMap,Ma=new WeakMap,rc=new WeakMap,cf=new WeakMap,sc=new WeakMap,Da=new WeakMap,g0=new WeakMap,ac=new WeakMap,Mm=new WeakMap,oc=new WeakMap,Hu=new WeakMap,Dm=new WeakMap,Im=new WeakMap,li=new WeakMap,Vt=new WeakMap,Po=new WeakMap,$u=new WeakMap,Fm=new WeakMap,Om=new WeakMap,lc=new WeakMap,Ia=new WeakMap,Ro=new WeakMap,jm=new WeakMap,us=new WeakMap,ke=new WeakSet,Pv=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Zw=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of c(this,wi).values())if(n.hasTextLayer(e))return n;return null},R1=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=k(this,ke,Pv).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(n);s&&(c(this,Da)||A(this,Da,new ZN(this)),c(this,Da).show(n,s,this.direction==="ltr"))},L1=function(){var o,l,h;const e=document.getSelection();if(!e||e.isCollapsed){c(this,Po)&&((o=c(this,Da))==null||o.hide(),A(this,Po,null),k(this,ke,Vi).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===c(this,Po))return;const s=k(this,ke,Pv).call(this,e).closest(".textLayer");if(!s){c(this,Po)&&((l=c(this,Da))==null||l.hide(),A(this,Po,null),k(this,ke,Vi).call(this,{hasSelectedText:!1}));return}if((h=c(this,Da))==null||h.hide(),A(this,Po,t),k(this,ke,Vi).call(this,{hasSelectedText:!0}),!(c(this,li)!==gt.HIGHLIGHT&&c(this,li)!==gt.NONE)&&(c(this,li)===gt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),A(this,sc,this.isShiftKeyDown),!this.isShiftKeyDown)){const d=c(this,li)===gt.HIGHLIGHT?k(this,ke,Zw).call(this,s):null;d==null||d.toggleDrawing();const f=new AbortController,g=this.combinedSignal(f),v=b=>{b.type==="pointerup"&&b.button!==0||(f.abort(),d==null||d.toggleDrawing(!0),b.type==="pointerup"&&k(this,ke,Rv).call(this,"main_toolbar"))};window.addEventListener("pointerup",v,{signal:g}),window.addEventListener("blur",v,{signal:g})}},Rv=function(e=""){c(this,li)===gt.HIGHLIGHT?this.highlightSelection(e):c(this,Rm)&&k(this,ke,R1).call(this)},N1=function(){document.addEventListener("selectionchange",k(this,ke,L1).bind(this),{signal:this._signal})},M1=function(){if(c(this,rc))return;A(this,rc,new AbortController);const e=this.combinedSignal(c(this,rc));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},D1=function(){var e;(e=c(this,rc))==null||e.abort(),A(this,rc,null)},e_=function(){if(c(this,oc))return;A(this,oc,new AbortController);const e=this.combinedSignal(c(this,oc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},I1=function(){var e;(e=c(this,oc))==null||e.abort(),A(this,oc,null)},t_=function(){if(c(this,ic))return;A(this,ic,new AbortController);const e=this.combinedSignal(c(this,ic));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},n_=function(){var e;(e=c(this,ic))==null||e.abort(),A(this,ic,null)},F1=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Vi=function(e){Object.entries(e).some(([n,s])=>c(this,Om)[n]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,Om),e)}),c(this,li)===gt.HIGHLIGHT&&e.hasSelectedEditor===!1&&k(this,ke,zl).call(this,[[ut.HIGHLIGHT_FREE,!0]]))},zl=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},O1=async function(){if(!c(this,ac)){A(this,ac,!0);const e=[];for(const t of c(this,wi).values())e.push(t.enable());await Promise.all(e);for(const t of c(this,Wn).values())t.enable()}},j1=function(){if(this.unselectAll(),c(this,ac)){A(this,ac,!1);for(const e of c(this,wi).values())e.disable();for(const e of c(this,Wn).values())e.disable()}},i_=function(e){const t=c(this,wi).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},H1=function(){let e=null;for(e of c(this,Vt));return e},Jp=function(){if(c(this,Wn).size===0)return!0;if(c(this,Wn).size===1)for(const e of c(this,Wn).values())return e.isEmpty();return!1},r_=function(e){for(const t of c(this,Vt))t.unselect();c(this,Vt).clear();for(const t of e)t.isEmpty()||(c(this,Vt).add(t),t.select());k(this,ke,Vi).call(this,{hasSelectedEditor:this.hasSelection})},ct(Fd,"TRANSLATE_SMALL",1),ct(Fd,"TRANSLATE_BIG",10);let Nh=Fd;var ci,Fa,qs,uf,Oa,Dr,hf,ja,wr,Lo,zu,Ha,cc,na,Zp,Lv;const Gi=class Gi{constructor(e){R(this,na);R(this,ci,null);R(this,Fa,!1);R(this,qs,null);R(this,uf,null);R(this,Oa,null);R(this,Dr,null);R(this,hf,!1);R(this,ja,null);R(this,wr,null);R(this,Lo,null);R(this,zu,null);R(this,Ha,!1);A(this,wr,e),A(this,Ha,e._uiManager.useNewAltTextFlow),c(Gi,cc)||A(Gi,cc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Gi._l10n??(Gi._l10n=e)}async render(){const e=A(this,qs,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=A(this,uf,document.createElement("span"));e.append(t),c(this,Ha)?(e.classList.add("new"),e.setAttribute("data-l10n-id",c(Gi,cc).missing),t.setAttribute("data-l10n-id",c(Gi,cc)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=c(this,wr)._uiManager._signal;e.addEventListener("contextmenu",ws,{signal:n}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const s=o=>{o.preventDefault(),c(this,wr)._uiManager.editAltText(c(this,wr)),c(this,Ha)&&c(this,wr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:c(this,na,Zp)}})};return e.addEventListener("click",s,{capture:!0,signal:n}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(A(this,hf,!0),s(o))},{signal:n}),await k(this,na,Lv).call(this),e}finish(){c(this,qs)&&(c(this,qs).focus({focusVisible:c(this,hf)}),A(this,hf,!1))}isEmpty(){return c(this,Ha)?c(this,ci)===null:!c(this,ci)&&!c(this,Fa)}hasData(){return c(this,Ha)?c(this,ci)!==null||!!c(this,Lo):this.isEmpty()}get guessedText(){return c(this,Lo)}async setGuessedText(e){c(this,ci)===null&&(A(this,Lo,e),A(this,zu,await Gi._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),k(this,na,Lv).call(this))}toggleAltTextBadge(e=!1){var t;if(!c(this,Ha)||c(this,ci)){(t=c(this,ja))==null||t.remove(),A(this,ja,null);return}if(!c(this,ja)){const n=A(this,ja,document.createElement("div"));n.className="noAltTextBadge",c(this,wr).div.append(n)}c(this,ja).classList.toggle("hidden",!e)}serialize(e){let t=c(this,ci);return!e&&c(this,Lo)===t&&(t=c(this,zu)),{altText:t,decorative:c(this,Fa),guessedText:c(this,Lo),textWithDisclaimer:c(this,zu)}}get data(){return{altText:c(this,ci),decorative:c(this,Fa)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:s,cancel:o=!1}){n&&(A(this,Lo,n),A(this,zu,s)),!(c(this,ci)===e&&c(this,Fa)===t)&&(o||(A(this,ci,e),A(this,Fa,t)),k(this,na,Lv).call(this))}toggle(e=!1){c(this,qs)&&(!e&&c(this,Dr)&&(clearTimeout(c(this,Dr)),A(this,Dr,null)),c(this,qs).disabled=!e)}shown(){c(this,wr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:c(this,na,Zp)}})}destroy(){var e,t;(e=c(this,qs))==null||e.remove(),A(this,qs,null),A(this,uf,null),A(this,Oa,null),(t=c(this,ja))==null||t.remove(),A(this,ja,null)}};ci=new WeakMap,Fa=new WeakMap,qs=new WeakMap,uf=new WeakMap,Oa=new WeakMap,Dr=new WeakMap,hf=new WeakMap,ja=new WeakMap,wr=new WeakMap,Lo=new WeakMap,zu=new WeakMap,Ha=new WeakMap,cc=new WeakMap,na=new WeakSet,Zp=function(){return c(this,ci)&&"added"||c(this,ci)===null&&this.guessedText&&"review"||"missing"},Lv=async function(){var s,o,l;const e=c(this,qs);if(!e)return;if(c(this,Ha)){if(e.classList.toggle("done",!!c(this,ci)),e.setAttribute("data-l10n-id",c(Gi,cc)[c(this,na,Zp)]),(s=c(this,uf))==null||s.setAttribute("data-l10n-id",c(Gi,cc)[`${c(this,na,Zp)}-label`]),!c(this,ci)){(o=c(this,Oa))==null||o.remove();return}}else{if(!c(this,ci)&&!c(this,Fa)){e.classList.remove("done"),(l=c(this,Oa))==null||l.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=c(this,Oa);if(!t){A(this,Oa,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${c(this,wr).id}`;const h=100,d=c(this,wr)._uiManager._signal;d.addEventListener("abort",()=>{clearTimeout(c(this,Dr)),A(this,Dr,null)},{once:!0}),e.addEventListener("mouseenter",()=>{A(this,Dr,setTimeout(()=>{A(this,Dr,null),c(this,Oa).classList.add("show"),c(this,wr)._reportTelemetry({action:"alt_text_tooltip"})},h))},{signal:d}),e.addEventListener("mouseleave",()=>{var f;c(this,Dr)&&(clearTimeout(c(this,Dr)),A(this,Dr,null)),(f=c(this,Oa))==null||f.classList.remove("show")},{signal:d})}c(this,Fa)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=c(this,ci)),t.parentNode||e.append(t);const n=c(this,wr).getImageForAltText();n==null||n.setAttribute("aria-describedby",t.id)},R(Gi,cc,null),ct(Gi,"_l10n",null);let l0=Gi;var Bu,Ws,pn,df,Uu,_i,qu,uc,Hm,Wu,hc,$m,Vu,No,$a,ff,pf,hs,zm,y0,yt,s_,Bm,a_,o_,$1,z1,l_,c_,u_,B1,h_,U1,q1,W1,d_,em;const Bt=class Bt{constructor(e){R(this,yt);R(this,Bu,null);R(this,Ws,null);R(this,pn,null);R(this,df,!1);R(this,Uu,!1);R(this,_i,null);R(this,qu,null);R(this,uc,null);R(this,Hm,"");R(this,Wu,!1);R(this,hc,null);R(this,$m,!1);R(this,Vu,!1);R(this,No,!1);R(this,$a,null);R(this,ff,0);R(this,pf,0);R(this,hs,null);ct(this,"_editToolbar",null);ct(this,"_initialOptions",Object.create(null));ct(this,"_initialData",null);ct(this,"_isVisible",!0);ct(this,"_uiManager",null);ct(this,"_focusEventsAllowed",!0);R(this,zm,!1);R(this,y0,Bt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:s,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[o,l];const[h,d]=this.parentDimensions;this.x=e.x/h,this.y=e.y/d,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Bt.prototype._resizeWithKeyboard,t=Nh.TRANSLATE_SMALL,n=Nh.TRANSLATE_BIG;return Pt(this,"_resizerKeyboardManager",new Ug([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Bt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Pt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new iM({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Bt._l10n??(Bt._l10n=e),Bt._l10nResizer||(Bt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Bt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Bt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){an("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,zm)}set _isDraggable(e){var t;A(this,zm,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,y0)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):k(this,yt,em).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,Wu)?A(this,Wu,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,s){const[o,l]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(e+n)/o,this.y=(t+s)/l,this.fixAndSetPosition()}translate(e,t){k(this,yt,s_).call(this,this.parentDimensions,e,t)}translateInPage(e,t){c(this,hc)||A(this,hc,[this.x,this.y]),k(this,yt,s_).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){c(this,hc)||A(this,hc,[this.x,this.y]);const[n,s]=this.parentDimensions;if(this.x+=e/n,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:f,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,f,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:l}=this;const[h,d]=this.getBaseTranslation();o+=h,l+=d,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*l).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!c(this,hc)&&(c(this,hc)[0]!==this.x||c(this,hc)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Bt,s=n/e,o=n/t;switch(this.rotation){case 90:return[-s,o];case 180:return[s,o];case 270:return[s,-o];default:return[-s,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,n]=this.pageDimensions;let{x:s,y:o,width:l,height:h}=this;if(l*=t,h*=n,s*=t,o*=n,this._mustFixPosition)switch(e){case 0:s=Math.max(0,Math.min(t-l,s)),o=Math.max(0,Math.min(n-h,o));break;case 90:s=Math.max(0,Math.min(t-h,s)),o=Math.min(n,Math.max(l,o));break;case 180:s=Math.min(t,Math.max(l,s)),o=Math.min(n,Math.max(h,o));break;case 270:s=Math.min(t,Math.max(h,s)),o=Math.max(0,Math.min(n-l,o));break}this.x=s/=t,this.y=o/=n;const[d,f]=this.getBaseTranslation();s+=d,o+=f;const{style:g}=this.div;g.left=`${(100*s).toFixed(2)}%`,g.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return k(n=Bt,Bm,a_).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return k(n=Bt,Bm,a_).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,s]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,c(this,Uu)||(this.div.style.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,s=n.endsWith("%"),o=!c(this,Uu)&&t.endsWith("%");if(s&&o)return;const[l,h]=this.parentDimensions;s||(e.width=`${(100*parseFloat(n)/l).toFixed(2)}%`),!c(this,Uu)&&!o&&(e.height=`${(100*parseFloat(t)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=c(this,pn))==null||e.finish()}async addEditToolbar(){return this._editToolbar||c(this,Vu)?this._editToolbar:(this._editToolbar=new Kw(this),this.div.append(this._editToolbar.render()),c(this,pn)&&await this._editToolbar.addAltText(c(this,pn)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=c(this,pn))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){c(this,pn)||(l0.initialize(Bt._l10n),A(this,pn,new l0(this)),c(this,Bu)&&(c(this,pn).data=c(this,Bu),A(this,Bu,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=c(this,pn))==null?void 0:e.data}set altTextData(e){c(this,pn)&&(c(this,pn).data=e)}get guessedAltText(){var e;return(e=c(this,pn))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=c(this,pn))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=c(this,pn))==null?void 0:t.serialize(e)}hasAltText(){return!!c(this,pn)&&!c(this,pn).isEmpty()}hasAltTextData(){var e;return((e=c(this,pn))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=c(this,df)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),k(this,yt,h_).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[n,s]=this.getInitialTranslation();return this.translate(n,s),o0(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=Yi.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(A(this,Wu,!0),this._isDraggable){k(this,yt,B1).call(this,e);return}k(this,yt,u_).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){c(this,$a)&&clearTimeout(c(this,$a)),A(this,$a,setTimeout(()=>{var e;A(this,$a,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t,n=this.rotation){const s=this.parentScale,[o,l]=this.pageDimensions,[h,d]=this.pageTranslation,f=e/s,g=t/s,v=this.x*o,b=this.y*l,_=this.width*o,S=this.height*l;switch(n){case 0:return[v+f+h,l-b-g-S+d,v+f+_+h,l-b-g+d];case 90:return[v+g+h,l-b+f+d,v+g+S+h,l-b+f+_+d];case 180:return[v-f-_+h,l-b+g+d,v-f+h,l-b+g+S+d];case 270:return[v-g-S+h,l-b-f-_+d,v-g+h,l-b-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,s,o,l]=e,h=o-n,d=l-s;switch(this.rotation){case 0:return[n,t-l,h,d];case 90:return[n,t-s,d,h];case 180:return[o,t-s,h,d];case 270:return[o,t-l,d,h];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){A(this,Vu,!0)}disableEditMode(){A(this,Vu,!1)}isInEditMode(){return c(this,Vu)}shouldGetKeyboardEvents(){return c(this,No)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){k(this,yt,h_).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){an("An editor must be serializable")}static async deserialize(e,t,n){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});s.rotation=e.rotation,A(s,Bu,e.accessibilityData);const[o,l]=s.pageDimensions,[h,d,f,g]=s.getRectInCurrentCoords(e.rect,l);return s.x=h/o,s.y=d/l,s.width=f/o,s.height=g/l,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=c(this,uc))==null||e.abort(),A(this,uc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,$a)&&(clearTimeout(c(this,$a)),A(this,$a,null)),k(this,yt,em).call(this),this.removeEditToolbar(),c(this,hs)){for(const t of c(this,hs).values())clearTimeout(t);A(this,hs,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(k(this,yt,$1).call(this),c(this,_i).classList.remove("hidden"),o0(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),A(this,qu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=c(this,_i).children;if(!c(this,Ws)){A(this,Ws,Array.from(t));const l=k(this,yt,U1).bind(this),h=k(this,yt,q1).bind(this),d=this._uiManager._signal;for(const f of c(this,Ws)){const g=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:d}),f.addEventListener("blur",h,{signal:d}),f.addEventListener("focus",k(this,yt,W1).bind(this,g),{signal:d}),f.setAttribute("data-l10n-id",Bt._l10nResizer[g])}}const n=c(this,Ws)[0];let s=0;for(const l of t){if(l===n)break;s++}const o=(360-this.rotation+this.parentRotation)%360/90*(c(this,Ws).length/4);if(o!==s){if(o<s)for(let h=0;h<s-o;h++)c(this,_i).append(c(this,_i).firstChild);else if(o>s)for(let h=0;h<o-s;h++)c(this,_i).firstChild.before(c(this,_i).lastChild);let l=0;for(const h of t){const f=c(this,Ws)[l++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",Bt._l10nResizer[f])}}k(this,yt,d_).call(this,0),A(this,No,!0),c(this,_i).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){c(this,No)&&k(this,yt,c_).call(this,c(this,Hm),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){k(this,yt,em).call(this),this.div.focus()}select(){var e,t,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,o;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(t=this._editToolbar)==null||t.show(),(n=c(this,pn))==null||n.toggleAltTextBadge(!1)}unselect(){var e,t,n,s,o;(e=c(this,_i))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(o=c(this,pn))==null||o.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return c(this,$m)}set isEditing(e){A(this,$m,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){A(this,Uu,!0);const n=e/t,{style:s}=this.div;s.aspectRatio=n,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){c(this,hs)||A(this,hs,new Map);const{action:n}=e;let s=c(this,hs).get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),c(this,hs).delete(n),c(this,hs).size===0&&A(this,hs,null)},Bt._telemetryTimeout),c(this,hs).set(n,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),A(this,df,!1)}disable(){this.div&&(this.div.tabIndex=-1),A(this,df,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Bu=new WeakMap,Ws=new WeakMap,pn=new WeakMap,df=new WeakMap,Uu=new WeakMap,_i=new WeakMap,qu=new WeakMap,uc=new WeakMap,Hm=new WeakMap,Wu=new WeakMap,hc=new WeakMap,$m=new WeakMap,Vu=new WeakMap,No=new WeakMap,$a=new WeakMap,ff=new WeakMap,pf=new WeakMap,hs=new WeakMap,zm=new WeakMap,y0=new WeakMap,yt=new WeakSet,s_=function([e,t],n,s){[n,s]=this.screenToPageTranslation(n,s),this.x+=n/e,this.y+=s/t,this.fixAndSetPosition()},Bm=new WeakSet,a_=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},o_=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},$1=function(){if(c(this,_i))return;A(this,_i,document.createElement("div")),c(this,_i).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const s=document.createElement("div");c(this,_i).append(s),s.classList.add("resizer",n),s.setAttribute("data-resizer-name",n),s.addEventListener("pointerdown",k(this,yt,z1).bind(this,n),{signal:t}),s.addEventListener("contextmenu",ws,{signal:t}),s.tabIndex=-1}this.div.prepend(c(this,_i))},z1=function(e,t){var S;t.preventDefault();const{isMac:n}=Yi.platform;if(t.button!==0||t.ctrlKey&&n)return;(S=c(this,pn))==null||S.toggle(!1);const s=this._isDraggable;this._isDraggable=!1;const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",k(this,yt,c_).bind(this,e),{passive:!0,capture:!0,signal:l}),window.addEventListener("contextmenu",ws,{signal:l});const h=this.x,d=this.y,f=this.width,g=this.height,v=this.parent.div.style.cursor,b=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const _=()=>{var C;o.abort(),this.parent.togglePointerEvents(!0),(C=c(this,pn))==null||C.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=v,this.div.style.cursor=b,k(this,yt,l_).call(this,h,d,f,g)};window.addEventListener("pointerup",_,{signal:l}),window.addEventListener("blur",_,{signal:l})},l_=function(e,t,n,s){const o=this.x,l=this.y,h=this.width,d=this.height;o===e&&l===t&&h===n&&d===s||this.addCommands({cmd:()=>{this.width=h,this.height=d,this.x=o,this.y=l;const[f,g]=this.parentDimensions;this.setDims(f*h,g*d),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=s,this.x=e,this.y=t;const[f,g]=this.parentDimensions;this.setDims(f*n,g*s),this.fixAndSetPosition()},mustExec:!0})},c_=function(e,t){const[n,s]=this.parentDimensions,o=this.x,l=this.y,h=this.width,d=this.height,f=Bt.MIN_SIZE/n,g=Bt.MIN_SIZE/s,v=fe=>Math.round(fe*1e4)/1e4,b=k(this,yt,o_).call(this,this.rotation),_=(fe,ae)=>[b[0]*fe+b[2]*ae,b[1]*fe+b[3]*ae],S=k(this,yt,o_).call(this,360-this.rotation),C=(fe,ae)=>[S[0]*fe+S[2]*ae,S[1]*fe+S[3]*ae];let N,T,F=!1,j=!1;switch(e){case"topLeft":F=!0,N=(fe,ae)=>[0,0],T=(fe,ae)=>[fe,ae];break;case"topMiddle":N=(fe,ae)=>[fe/2,0],T=(fe,ae)=>[fe/2,ae];break;case"topRight":F=!0,N=(fe,ae)=>[fe,0],T=(fe,ae)=>[0,ae];break;case"middleRight":j=!0,N=(fe,ae)=>[fe,ae/2],T=(fe,ae)=>[0,ae/2];break;case"bottomRight":F=!0,N=(fe,ae)=>[fe,ae],T=(fe,ae)=>[0,0];break;case"bottomMiddle":N=(fe,ae)=>[fe/2,ae],T=(fe,ae)=>[fe/2,0];break;case"bottomLeft":F=!0,N=(fe,ae)=>[0,ae],T=(fe,ae)=>[fe,0];break;case"middleLeft":j=!0,N=(fe,ae)=>[0,ae/2],T=(fe,ae)=>[fe,ae/2];break}const O=N(h,d),D=T(h,d);let U=_(...D);const Q=v(o+U[0]),z=v(l+U[1]);let K=1,Y=1,[te,le]=this.screenToPageTranslation(t.movementX,t.movementY);if([te,le]=C(te/n,le/s),F){const fe=Math.hypot(h,d);K=Y=Math.max(Math.min(Math.hypot(D[0]-O[0]-te,D[1]-O[1]-le)/fe,1/h,1/d),f/h,g/d)}else j?K=Math.max(f,Math.min(1,Math.abs(D[0]-O[0]-te)))/h:Y=Math.max(g,Math.min(1,Math.abs(D[1]-O[1]-le)))/d;const we=v(h*K),Te=v(d*Y);U=_(...T(we,Te));const Ae=Q-U[0],$e=z-U[1];this.width=we,this.height=Te,this.x=Ae,this.y=$e,this.setDims(n*we,s*Te),this.fixAndSetPosition()},u_=function(e){const{isMac:t}=Yi.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},B1=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const n=new AbortController,s=this._uiManager.combinedSignal(n);if(t){this.div.classList.add("moving"),A(this,ff,e.clientX),A(this,pf,e.clientY);const l=h=>{const{clientX:d,clientY:f}=h,[g,v]=this.screenToPageTranslation(d-c(this,ff),f-c(this,pf));A(this,ff,d),A(this,pf,f),this._uiManager.dragSelectedEditors(g,v)};window.addEventListener("pointermove",l,{passive:!0,capture:!0,signal:s})}const o=()=>{n.abort(),t&&this.div.classList.remove("moving"),A(this,Wu,!1),this._uiManager.endDragSession()||k(this,yt,u_).call(this,e)};window.addEventListener("pointerup",o,{signal:s}),window.addEventListener("blur",o,{signal:s})},h_=function(){if(c(this,uc)||!this.div)return;A(this,uc,new AbortController);const e=this._uiManager.combinedSignal(c(this,uc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},U1=function(e){Bt._resizerKeyboardManager.exec(this,e)},q1=function(e){var t;c(this,No)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==c(this,_i)&&k(this,yt,em).call(this)},W1=function(e){A(this,Hm,c(this,No)?e:"")},d_=function(e){if(c(this,Ws))for(const t of c(this,Ws))t.tabIndex=e},em=function(){if(A(this,No,!1),k(this,yt,d_).call(this,-1),c(this,qu)){const{savedX:e,savedY:t,savedWidth:n,savedHeight:s}=c(this,qu);k(this,yt,l_).call(this,e,t,n,s),A(this,qu,null)}},R(Bt,Bm),ct(Bt,"_l10n",null),ct(Bt,"_l10nResizer",null),ct(Bt,"_borderLineWidth",-1),ct(Bt,"_colorManager",new Jw),ct(Bt,"_zIndex",1),ct(Bt,"_telemetryTimeout",1e3);let Xt=Bt;class iM extends Xt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const KS=3285377520,ls=4294901760,Ca=65535;class V1{constructor(e){this.h1=e?e&4294967295:KS,this.h2=e?e&4294967295:KS}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let C=0,N=e.length;C<N;C++){const T=e.charCodeAt(C);T<=255?t[n++]=T:(t[n++]=T>>>8,t[n++]=T&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,o=n-s*4,l=new Uint32Array(t.buffer,0,s);let h=0,d=0,f=this.h1,g=this.h2;const v=3432918353,b=461845907,_=v&Ca,S=b&Ca;for(let C=0;C<s;C++)C&1?(h=l[C],h=h*v&ls|h*_&Ca,h=h<<15|h>>>17,h=h*b&ls|h*S&Ca,f^=h,f=f<<13|f>>>19,f=f*5+3864292196):(d=l[C],d=d*v&ls|d*_&Ca,d=d<<15|d>>>17,d=d*b&ls|d*S&Ca,g^=d,g=g<<13|g>>>19,g=g*5+3864292196);switch(h=0,o){case 3:h^=t[s*4+2]<<16;case 2:h^=t[s*4+1]<<8;case 1:h^=t[s*4],h=h*v&ls|h*_&Ca,h=h<<15|h>>>17,h=h*b&ls|h*S&Ca,s&1?f^=h:g^=h}this.h1=f,this.h2=g}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&ls|e*36045&Ca,t=t*4283543511&ls|((t<<16|e>>>16)*2950163797&ls)>>>16,e^=t>>>1,e=e*444984403&ls|e*60499&Ca,t=t*3301882366&ls|((t<<16|e>>>16)*3120437893&ls)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const f_=Object.freeze({map:null,hash:"",transfer:void 0});var Gu,Xu,ui,v0,G1;class Rx{constructor(){R(this,v0);R(this,Gu,!1);R(this,Xu,null);R(this,ui,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=c(this,ui).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return c(this,ui).get(e)}remove(e){if(c(this,ui).delete(e),c(this,ui).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of c(this,ui).values())if(t instanceof Xt)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=c(this,ui).get(e);let s=!1;if(n!==void 0)for(const[o,l]of Object.entries(t))n[o]!==l&&(s=!0,n[o]=l);else s=!0,c(this,ui).set(e,t);s&&k(this,v0,G1).call(this),t instanceof Xt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return c(this,ui).has(e)}getAll(){return c(this,ui).size>0?Sx(c(this,ui)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return c(this,ui).size}resetModified(){c(this,Gu)&&(A(this,Gu,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new X1(this)}get serializable(){if(c(this,ui).size===0)return f_;const e=new Map,t=new V1,n=[],s=Object.create(null);let o=!1;for(const[l,h]of c(this,ui)){const d=h instanceof Xt?h.serialize(!1,s):h;d&&(e.set(l,d),t.update(`${l}:${JSON.stringify(d)}`),o||(o=!!d.bitmap))}if(o)for(const l of e.values())l.bitmap&&n.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:f_}get editorStats(){let e=null;const t=new Map;for(const n of c(this,ui).values()){if(!(n instanceof Xt))continue;const s=n.telemetryFinalData;if(!s)continue;const{type:o}=s;t.has(o)||t.set(o,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[h,d]of Object.entries(s)){if(h==="type")continue;let f=l.get(h);f||(f=new Map,l.set(h,f));const g=f.get(d)??0;f.set(d,g+1)}}for(const[n,s]of t)e[n]=s.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){A(this,Xu,null)}get modifiedIds(){if(c(this,Xu))return c(this,Xu);const e=[];for(const t of c(this,ui).values())!(t instanceof Xt)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return A(this,Xu,{ids:new Set(e),hash:e.join(",")})}}Gu=new WeakMap,Xu=new WeakMap,ui=new WeakMap,v0=new WeakSet,G1=function(){c(this,Gu)||(A(this,Gu,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Um;class X1 extends Rx{constructor(t){super();R(this,Um);const{map:n,hash:s,transfer:o}=t.serializable,l=structuredClone(n,o?{transfer:o}:null);A(this,Um,{map:l,hash:s,transfer:o})}get print(){an("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,Um)}get modifiedIds(){return Pt(this,"modifiedIds",{ids:new Set,hash:""})}}Um=new WeakMap;var mf;class rM{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){R(this,mf,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,mf).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||c(this,mf).has(e.loadedName))){if(Kn(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:s,style:o}=e,l=new FontFace(n,s,o);this.addNativeFontFace(l);try{await l.load(),c(this,mf).add(n),t==null||t(e)}catch{vt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}an("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw vt(`Failed to load font '${n.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Pt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Hi||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Pt(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Kn(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:t,callback:e};return n.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Pt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(O,D){return O.charCodeAt(D)<<24|O.charCodeAt(D+1)<<16|O.charCodeAt(D+2)<<8|O.charCodeAt(D+3)&255}function s(O,D,U,Q){const z=O.substring(0,D),K=O.substring(D+U);return z+Q+K}let o,l;const h=this._document.createElement("canvas");h.width=1,h.height=1;const d=h.getContext("2d");let f=0;function g(O,D){if(++f>30){vt("Load test font never loaded."),D();return}if(d.font="30px "+O,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){D();return}setTimeout(g.bind(null,O,D))}const v=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=s(b,976,v.length,v);const S=16,C=1482184792;let N=n(b,S);for(o=0,l=v.length-3;o<l;o+=4)N=N-C+n(v,o)|0;o<v.length&&(N=N-C+n(v+"XXX",o)|0),b=s(b,S,4,BN(N));const T=`url(data:font/opentype;base64,${btoa(b)});`,F=`@font-face {font-family:"${v}";src:${T}}`;this.insertRule(F);const j=this._document.createElement("div");j.style.visibility="hidden",j.style.width=j.style.height="10px",j.style.position="absolute",j.style.top=j.style.left="0px";for(const O of[e.loadedName,v]){const D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=O,j.append(D)}this._document.body.append(j),g(v,()=>{j.remove(),t.complete()})}}mf=new WeakMap;class sM{constructor(e,{disableFontFace:t=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=t===!0,this._inspectFont=n}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${XN(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(o){vt(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[t]=function(o,l){};const s=[];for(let o=0,l=n.length;o<l;)switch(n[o++]){case wo.BEZIER_CURVE_TO:{const[h,d,f,g,v,b]=n.slice(o,o+6);s.push(_=>_.bezierCurveTo(h,d,f,g,v,b)),o+=6}break;case wo.MOVE_TO:{const[h,d]=n.slice(o,o+2);s.push(f=>f.moveTo(h,d)),o+=2}break;case wo.LINE_TO:{const[h,d]=n.slice(o,o+2);s.push(f=>f.lineTo(h,d)),o+=2}break;case wo.QUADRATIC_CURVE_TO:{const[h,d,f,g]=n.slice(o,o+4);s.push(v=>v.quadraticCurveTo(h,d,f,g)),o+=4}break;case wo.RESTORE:s.push(h=>h.restore());break;case wo.SAVE:s.push(h=>h.save());break;case wo.SCALE:Kn(s.length===2,"Scale command is only valid at the third position.");break;case wo.TRANSFORM:{const[h,d,f,g,v,b]=n.slice(o,o+6);s.push(_=>_.transform(h,d,f,g,v,b)),o+=6}break;case wo.TRANSLATE:{const[h,d]=n.slice(o,o+2);s.push(f=>f.translate(h,d)),o+=2}break}return this.compiledGlyphs[t]=function(l,h){s[0](l),s[1](l),l.scale(h,-h);for(let d=2,f=s.length;d<f;d++)s[d](l)}}}var qm;class K1{constructor({enableHWA:e=!1}){R(this,qm,!1);A(this,qm,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!c(this,qm)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){an("Abstract method `_createCanvas` called.")}}qm=new WeakMap;class aM extends K1{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class Q1{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){an("Abstract method `_fetch` called.")}}class Y1 extends Q1{async _fetch(e){const t=await $0(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):H0(t)}}class J1{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,s,o){return"none"}destroy(e=!1){}}var Ku,Qu,za,Mo,Ii,b0,Yu,je,Ni,Td,Pd,Nv,Rd,Z1,p_,Ld,tm,nm,m_,im;class oM extends J1{constructor({docId:t,ownerDocument:n=globalThis.document}){super();R(this,je);R(this,Ku);R(this,Qu);R(this,za);R(this,Mo);R(this,Ii);R(this,b0);R(this,Yu,0);A(this,Mo,t),A(this,Ii,n)}addFilter(t){if(!t)return"none";let n=c(this,je,Ni).get(t);if(n)return n;const[s,o,l]=k(this,je,Nv).call(this,t),h=t.length===1?s:`${s}${o}${l}`;if(n=c(this,je,Ni).get(h),n)return c(this,je,Ni).set(t,n),n;const d=`g_${c(this,Mo)}_transfer_map_${ri(this,Yu)._++}`,f=k(this,je,Rd).call(this,d);c(this,je,Ni).set(t,f),c(this,je,Ni).set(h,f);const g=k(this,je,Ld).call(this,d);return k(this,je,nm).call(this,s,o,l,g),f}addHCMFilter(t,n){var S;const s=`${t}-${n}`,o="base";let l=c(this,je,Td).get(o);if((l==null?void 0:l.key)===s||(l?((S=l.filter)==null||S.remove(),l.key=s,l.url="none",l.filter=null):(l={key:s,url:"none",filter:null},c(this,je,Td).set(o,l)),!t||!n))return l.url;const h=k(this,je,im).call(this,t);t=Ye.makeHexColor(...h);const d=k(this,je,im).call(this,n);if(n=Ye.makeHexColor(...d),c(this,je,Pd).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return l.url;const f=new Array(256);for(let C=0;C<=255;C++){const N=C/255;f[C]=N<=.03928?N/12.92:((N+.055)/1.055)**2.4}const g=f.join(","),v=`g_${c(this,Mo)}_hcm_filter`,b=l.filter=k(this,je,Ld).call(this,v);k(this,je,nm).call(this,g,g,g,b),k(this,je,p_).call(this,b);const _=(C,N)=>{const T=h[C]/255,F=d[C]/255,j=new Array(N+1);for(let O=0;O<=N;O++)j[O]=T+O/N*(F-T);return j.join(",")};return k(this,je,nm).call(this,_(0,5),_(1,5),_(2,5),b),l.url=k(this,je,Rd).call(this,v),l.url}addAlphaFilter(t){let n=c(this,je,Ni).get(t);if(n)return n;const[s]=k(this,je,Nv).call(this,[t]),o=`alpha_${s}`;if(n=c(this,je,Ni).get(o),n)return c(this,je,Ni).set(t,n),n;const l=`g_${c(this,Mo)}_alpha_map_${ri(this,Yu)._++}`,h=k(this,je,Rd).call(this,l);c(this,je,Ni).set(t,h),c(this,je,Ni).set(o,h);const d=k(this,je,Ld).call(this,l);return k(this,je,m_).call(this,s,d),h}addLuminosityFilter(t){let n=c(this,je,Ni).get(t||"luminosity");if(n)return n;let s,o;if(t?([s]=k(this,je,Nv).call(this,[t]),o=`luminosity_${s}`):o="luminosity",n=c(this,je,Ni).get(o),n)return c(this,je,Ni).set(t,n),n;const l=`g_${c(this,Mo)}_luminosity_map_${ri(this,Yu)._++}`,h=k(this,je,Rd).call(this,l);c(this,je,Ni).set(t,h),c(this,je,Ni).set(o,h);const d=k(this,je,Ld).call(this,l);return k(this,je,Z1).call(this,d),t&&k(this,je,m_).call(this,s,d),h}addHighlightHCMFilter(t,n,s,o,l){var F;const h=`${n}-${s}-${o}-${l}`;let d=c(this,je,Td).get(t);if((d==null?void 0:d.key)===h||(d?((F=d.filter)==null||F.remove(),d.key=h,d.url="none",d.filter=null):(d={key:h,url:"none",filter:null},c(this,je,Td).set(t,d)),!n||!s))return d.url;const[f,g]=[n,s].map(k(this,je,im).bind(this));let v=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),b=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),[_,S]=[o,l].map(k(this,je,im).bind(this));b<v&&([v,b,_,S]=[b,v,S,_]),c(this,je,Pd).style.color="";const C=(j,O,D)=>{const U=new Array(256),Q=(b-v)/D,z=j/255,K=(O-j)/(255*D);let Y=0;for(let te=0;te<=D;te++){const le=Math.round(v+te*Q),we=z+te*K;for(let Te=Y;Te<=le;Te++)U[Te]=we;Y=le+1}for(let te=Y;te<256;te++)U[te]=U[Y-1];return U.join(",")},N=`g_${c(this,Mo)}_hcm_${t}_filter`,T=d.filter=k(this,je,Ld).call(this,N);return k(this,je,p_).call(this,T),k(this,je,nm).call(this,C(_[0],S[0],5),C(_[1],S[1],5),C(_[2],S[2],5),T),d.url=k(this,je,Rd).call(this,N),d.url}destroy(t=!1){t&&c(this,je,Td).size!==0||(c(this,za)&&(c(this,za).parentNode.parentNode.remove(),A(this,za,null)),c(this,Qu)&&(c(this,Qu).clear(),A(this,Qu,null)),A(this,Yu,0))}}Ku=new WeakMap,Qu=new WeakMap,za=new WeakMap,Mo=new WeakMap,Ii=new WeakMap,b0=new WeakMap,Yu=new WeakMap,je=new WeakSet,Ni=function(){return c(this,Qu)||A(this,Qu,new Map)},Td=function(){return c(this,b0)||A(this,b0,new Map)},Pd=function(){if(!c(this,za)){const t=c(this,Ii).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const s=c(this,Ii).createElementNS(Eo,"svg");s.setAttribute("width",0),s.setAttribute("height",0),A(this,za,c(this,Ii).createElementNS(Eo,"defs")),t.append(s),s.append(c(this,za)),c(this,Ii).body.append(t)}return c(this,za)},Nv=function(t){if(t.length===1){const f=t[0],g=new Array(256);for(let b=0;b<256;b++)g[b]=f[b]/255;const v=g.join(",");return[v,v,v]}const[n,s,o]=t,l=new Array(256),h=new Array(256),d=new Array(256);for(let f=0;f<256;f++)l[f]=n[f]/255,h[f]=s[f]/255,d[f]=o[f]/255;return[l.join(","),h.join(","),d.join(",")]},Rd=function(t){if(c(this,Ku)===void 0){A(this,Ku,"");const n=c(this,Ii).URL;n!==c(this,Ii).baseURI&&(z0(n)?vt('#createUrl: ignore "data:"-URL for performance reasons.'):A(this,Ku,n.split("#",1)[0]))}return`url(${c(this,Ku)}#${t})`},Z1=function(t){const n=c(this,Ii).createElementNS(Eo,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},p_=function(t){const n=c(this,Ii).createElementNS(Eo,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},Ld=function(t){const n=c(this,Ii).createElementNS(Eo,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),c(this,je,Pd).append(n),n},tm=function(t,n,s){const o=c(this,Ii).createElementNS(Eo,n);o.setAttribute("type","discrete"),o.setAttribute("tableValues",s),t.append(o)},nm=function(t,n,s,o){const l=c(this,Ii).createElementNS(Eo,"feComponentTransfer");o.append(l),k(this,je,tm).call(this,l,"feFuncR",t),k(this,je,tm).call(this,l,"feFuncG",n),k(this,je,tm).call(this,l,"feFuncB",s)},m_=function(t,n){const s=c(this,Ii).createElementNS(Eo,"feComponentTransfer");n.append(s),k(this,je,tm).call(this,s,"feFuncA",t)},im=function(t){return c(this,je,Pd).style.color=t,Px(getComputedStyle(c(this,je,Pd)).getPropertyValue("color"))};class eC{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){an("Abstract method `_fetch` called.")}}class tC extends eC{async _fetch(e){const t=await $0(e,"arraybuffer");return new Uint8Array(t)}}if(Hi){var g_=Promise.withResolvers(),mm=null;(async()=>{const e=await dv(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await dv(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await dv(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await dv(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,l;return new Map(Object.entries({fs:e,http:t,https:n,url:s,canvas:o,path2d:l}))})().then(e=>{mm=e,g_.resolve()},e=>{vt(`loadPackages: ${e}`),mm=new Map,g_.resolve()})}class Lc{static get promise(){return g_.promise}static get(e){return mm==null?void 0:mm.get(e)}}async function nC(a){const t=await Lc.get("fs").promises.readFile(a);return new Uint8Array(t)}class lM extends J1{}class cM extends K1{_createCanvas(e,t){return Lc.get("canvas").createCanvas(e,t)}}class uM extends Q1{async _fetch(e){return nC(e)}}class hM extends eC{async _fetch(e){return nC(e)}}const Qi={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function y_(a,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,n),a.clip(s)}class Lx{getPattern(){an("Abstract method `getPattern` called.")}}class dM extends Lx{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,s){let o;if(s===Qi.STROKE||s===Qi.FILL){const l=t.current.getClippedPathBoundingBox(s,gn(e))||[0,0,0,0],h=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,f=t.cachedCanvases.getCanvas("pattern",h,d),g=f.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-l[0],-l[1]),n=Ye.transform(n,[1,0,0,1,l[0],l[1]]),g.transform(...t.baseTransform),this.matrix&&g.transform(...this.matrix),y_(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),o=e.createPattern(f.canvas,"no-repeat");const v=new DOMMatrix(n);o.setTransform(v)}else y_(e,this._bbox),o=this._createGradient(e);return o}}function ww(a,e,t,n,s,o,l,h){const d=e.coords,f=e.colors,g=a.data,v=a.width*4;let b;d[t+1]>d[n+1]&&(b=t,t=n,n=b,b=o,o=l,l=b),d[n+1]>d[s+1]&&(b=n,n=s,s=b,b=l,l=h,h=b),d[t+1]>d[n+1]&&(b=t,t=n,n=b,b=o,o=l,l=b);const _=(d[t]+e.offsetX)*e.scaleX,S=(d[t+1]+e.offsetY)*e.scaleY,C=(d[n]+e.offsetX)*e.scaleX,N=(d[n+1]+e.offsetY)*e.scaleY,T=(d[s]+e.offsetX)*e.scaleX,F=(d[s+1]+e.offsetY)*e.scaleY;if(S>=F)return;const j=f[o],O=f[o+1],D=f[o+2],U=f[l],Q=f[l+1],z=f[l+2],K=f[h],Y=f[h+1],te=f[h+2],le=Math.round(S),we=Math.round(F);let Te,Ae,$e,fe,ae,_e,G,q;for(let re=le;re<=we;re++){if(re<N){const He=re<S?0:(S-re)/(S-N);Te=_-(_-C)*He,Ae=j-(j-U)*He,$e=O-(O-Q)*He,fe=D-(D-z)*He}else{let He;re>F?He=1:N===F?He=0:He=(N-re)/(N-F),Te=C-(C-T)*He,Ae=U-(U-K)*He,$e=Q-(Q-Y)*He,fe=z-(z-te)*He}let Ee;re<S?Ee=0:re>F?Ee=1:Ee=(S-re)/(S-F),ae=_-(_-T)*Ee,_e=j-(j-K)*Ee,G=O-(O-Y)*Ee,q=D-(D-te)*Ee;const Me=Math.round(Math.min(Te,ae)),qe=Math.round(Math.max(Te,ae));let Pe=v*re+Me*4;for(let He=Me;He<=qe;He++)Ee=(Te-He)/(Te-ae),Ee<0?Ee=0:Ee>1&&(Ee=1),g[Pe++]=Ae-(Ae-_e)*Ee|0,g[Pe++]=$e-($e-G)*Ee|0,g[Pe++]=fe-(fe-q)*Ee|0,g[Pe++]=255}}function fM(a,e,t){const n=e.coords,s=e.colors;let o,l;switch(e.type){case"lattice":const h=e.verticesPerRow,d=Math.floor(n.length/h)-1,f=h-1;for(o=0;o<d;o++){let g=o*h;for(let v=0;v<f;v++,g++)ww(a,t,n[g],n[g+1],n[g+h],s[g],s[g+1],s[g+h]),ww(a,t,n[g+h+1],n[g+1],n[g+h],s[g+h+1],s[g+1],s[g+h])}break;case"triangles":for(o=0,l=n.length;o<l;o+=3)ww(a,t,n[o],n[o+1],n[o+2],s[o],s[o+1],s[o+2]);break;default:throw new Error("illegal figure")}}class pM extends Lx{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const h=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-h,g=Math.ceil(this._bounds[3])-d,v=Math.min(Math.ceil(Math.abs(f*e[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(g*e[1]*1.1)),3e3),_=f/v,S=g/b,C={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-d,scaleX:1/_,scaleY:1/S},N=v+2*2,T=b+2*2,F=n.getCanvas("mesh",N,T),j=F.context,O=j.createImageData(v,b);if(t){const U=O.data;for(let Q=0,z=U.length;Q<z;Q+=4)U[Q]=t[0],U[Q+1]=t[1],U[Q+2]=t[2],U[Q+3]=255}for(const U of this._figures)fM(O,U,C);return j.putImageData(O,2,2),{canvas:F.canvas,offsetX:h-2*_,offsetY:d-2*S,scaleX:_,scaleY:S}}getPattern(e,t,n,s){y_(e,this._bbox);let o;if(s===Qi.SHADING)o=Ye.singularValueDecompose2dScale(gn(e));else if(o=Ye.singularValueDecompose2dScale(t.baseTransform),this.matrix){const h=Ye.singularValueDecompose2dScale(this.matrix);o=[o[0]*h[0],o[1]*h[1]]}const l=this._createMeshCanvas(o,s===Qi.SHADING?null:this._background,t.cachedCanvases);return s!==Qi.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class mM extends Lx{getPattern(){return"hotpink"}}function gM(a){switch(a[0]){case"RadialAxial":return new dM(a);case"Mesh":return new pM(a);case"Dummy":return new mM}throw new Error(`Unknown IR type: ${a[0]}`)}const QS={COLORED:1,UNCOLORED:2},w0=class w0{constructor(e,t,n,s,o){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=s,this.baseTransform=o}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:s,tilingType:o,color:l,canvasGraphicsFactory:h}=this;let{xstep:d,ystep:f}=this;d=Math.abs(d),f=Math.abs(f),O0("TilingType: "+o);const g=t[0],v=t[1],b=t[2],_=t[3],S=b-g,C=_-v,N=Ye.singularValueDecompose2dScale(this.matrix),T=Ye.singularValueDecompose2dScale(this.baseTransform),F=N[0]*T[0],j=N[1]*T[1];let O=S,D=C,U=!1,Q=!1;const z=Math.ceil(d*F),K=Math.ceil(f*j),Y=Math.ceil(S*F),te=Math.ceil(C*j);z>=Y?O=d:U=!0,K>=te?D=f:Q=!0;const le=this.getSizeAndScale(O,this.ctx.canvas.width,F),we=this.getSizeAndScale(D,this.ctx.canvas.height,j),Te=e.cachedCanvases.getCanvas("pattern",le.size,we.size),Ae=Te.context,$e=h.createCanvasGraphics(Ae);if($e.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext($e,s,l),Ae.translate(-le.scale*g,-we.scale*v),$e.transform(le.scale,0,0,we.scale,0,0),Ae.save(),this.clipBbox($e,g,v,b,_),$e.baseTransform=gn($e.ctx),$e.executeOperatorList(n),$e.endDrawing(),Ae.restore(),U||Q){const fe=Te.canvas;U&&(O=d),Q&&(D=f);const ae=this.getSizeAndScale(O,this.ctx.canvas.width,F),_e=this.getSizeAndScale(D,this.ctx.canvas.height,j),G=ae.size,q=_e.size,re=e.cachedCanvases.getCanvas("pattern-workaround",G,q),Ee=re.context,Me=U?Math.floor(S/d):0,qe=Q?Math.floor(C/f):0;for(let Pe=0;Pe<=Me;Pe++)for(let He=0;He<=qe;He++)Ee.drawImage(fe,G*Pe,q*He,G,q,0,0,G,q);return{canvas:re.canvas,scaleX:ae.scale,scaleY:_e.scale,offsetX:g,offsetY:v}}return{canvas:Te.canvas,scaleX:le.scale,scaleY:we.scale,offsetX:g,offsetY:v}}getSizeAndScale(e,t,n){const s=Math.max(w0.MAX_PATTERN_SIZE,t);let o=Math.ceil(e*n);return o>=s?o=s:n=o/e,{scale:n,size:o}}clipBbox(e,t,n,s,o){const l=s-t,h=o-n;e.ctx.rect(t,n,l,h),e.current.updateRectMinMax(gn(e.ctx),[t,n,s,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const s=e.ctx,o=e.current;switch(t){case QS.COLORED:const l=this.ctx;s.fillStyle=l.fillStyle,s.strokeStyle=l.strokeStyle,o.fillColor=l.fillStyle,o.strokeColor=l.strokeStyle;break;case QS.UNCOLORED:const h=Ye.makeHexColor(n[0],n[1],n[2]);s.fillStyle=h,s.strokeStyle=h,o.fillColor=h,o.strokeColor=h;break;default:throw new zN(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,s){let o=n;s!==Qi.SHADING&&(o=Ye.transform(o,t.baseTransform),this.matrix&&(o=Ye.transform(o,this.matrix)));const l=this.createPatternCanvas(t);let h=new DOMMatrix(o);h=h.translate(l.offsetX,l.offsetY),h=h.scale(1/l.scaleX,1/l.scaleY);const d=e.createPattern(l.canvas,"repeat");return d.setTransform(h),d}};ct(w0,"MAX_PATTERN_SIZE",3e3);let v_=w0;function yM({src:a,srcPos:e=0,dest:t,width:n,height:s,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const h=Yi.isLittleEndian?4278190080:255,[d,f]=l?[o,h]:[h,o],g=n>>3,v=n&7,b=a.length;t=new Uint32Array(t.buffer);let _=0;for(let S=0;S<s;S++){for(const N=e+g;e<N;e++){const T=e<b?a[e]:255;t[_++]=T&128?f:d,t[_++]=T&64?f:d,t[_++]=T&32?f:d,t[_++]=T&16?f:d,t[_++]=T&8?f:d,t[_++]=T&4?f:d,t[_++]=T&2?f:d,t[_++]=T&1?f:d}if(v===0)continue;const C=e<b?a[e++]:255;for(let N=0;N<v;N++)t[_++]=C&1<<7-N?f:d}return{srcPos:e,destPos:_}}const YS=16,JS=100,vM=15,ZS=10,eA=1e3,Er=16;function bM(a,e){if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){e.save(),this.__originalSave()},a.restore=function(){e.restore(),this.__originalRestore()},a.translate=function(n,s){e.translate(n,s),this.__originalTranslate(n,s)},a.scale=function(n,s){e.scale(n,s),this.__originalScale(n,s)},a.transform=function(n,s,o,l,h,d){e.transform(n,s,o,l,h,d),this.__originalTransform(n,s,o,l,h,d)},a.setTransform=function(n,s,o,l,h,d){e.setTransform(n,s,o,l,h,d),this.__originalSetTransform(n,s,o,l,h,d)},a.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},a.rotate=function(n){e.rotate(n),this.__originalRotate(n)},a.clip=function(n){e.clip(n),this.__originalClip(n)},a.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},a.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},a.bezierCurveTo=function(t,n,s,o,l,h){e.bezierCurveTo(t,n,s,o,l,h),this.__originalBezierCurveTo(t,n,s,o,l,h)},a.rect=function(t,n,s,o){e.rect(t,n,s,o),this.__originalRect(t,n,s,o)},a.closePath=function(){e.closePath(),this.__originalClosePath()},a.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class wM{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,n)):(s=this.canvasFactory.create(t,n),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function fv(a,e,t,n,s,o,l,h,d,f){const[g,v,b,_,S,C]=gn(a);if(v===0&&b===0){const F=l*g+S,j=Math.round(F),O=h*_+C,D=Math.round(O),U=(l+d)*g+S,Q=Math.abs(Math.round(U)-j)||1,z=(h+f)*_+C,K=Math.abs(Math.round(z)-D)||1;return a.setTransform(Math.sign(g),0,0,Math.sign(_),j,D),a.drawImage(e,t,n,s,o,0,0,Q,K),a.setTransform(g,v,b,_,S,C),[Q,K]}if(g===0&&_===0){const F=h*b+S,j=Math.round(F),O=l*v+C,D=Math.round(O),U=(h+f)*b+S,Q=Math.abs(Math.round(U)-j)||1,z=(l+d)*v+C,K=Math.abs(Math.round(z)-D)||1;return a.setTransform(0,Math.sign(v),Math.sign(b),0,j,D),a.drawImage(e,t,n,s,o,0,0,K,Q),a.setTransform(g,v,b,_,S,C),[K,Q]}a.drawImage(e,t,n,s,o,l,h,d,f);const N=Math.hypot(g,v),T=Math.hypot(b,_);return[N*d,T*f]}function _M(a){const{width:e,height:t}=a;if(e>eA||t>eA)return null;const n=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1;let l=new Uint8Array(o*(t+1)),h,d,f;const g=e+7&-8;let v=new Uint8Array(g*t),b=0;for(const T of a.data){let F=128;for(;F>0;)v[b++]=T&F?0:255,F>>=1}let _=0;for(b=0,v[b]!==0&&(l[0]=1,++_),d=1;d<e;d++)v[b]!==v[b+1]&&(l[d]=v[b]?2:1,++_),b++;for(v[b]!==0&&(l[d]=2,++_),h=1;h<t;h++){b=h*g,f=h*o,v[b-g]!==v[b]&&(l[f]=v[b]?1:8,++_);let T=(v[b]?4:0)+(v[b-g]?8:0);for(d=1;d<e;d++)T=(T>>2)+(v[b+1]?4:0)+(v[b-g+1]?8:0),s[T]&&(l[f+d]=s[T],++_),b++;if(v[b-g]!==v[b]&&(l[f+d]=v[b]?2:4,++_),_>n)return null}for(b=g*(t-1),f=h*o,v[b]!==0&&(l[f]=8,++_),d=1;d<e;d++)v[b]!==v[b+1]&&(l[f+d]=v[b]?4:8,++_),b++;if(v[b]!==0&&(l[f+d]=4,++_),_>n)return null;const S=new Int32Array([0,o,-1,0,-o,0,0,0,1]),C=new Path2D;for(h=0;_&&h<=t;h++){let T=h*o;const F=T+e;for(;T<F&&!l[T];)T++;if(T===F)continue;C.moveTo(T%o,h);const j=T;let O=l[T];do{const D=S[O];do T+=D;while(!l[T]);const U=l[T];U!==5&&U!==10?(O=U,l[T]=0):(O=U&51*O>>4,l[T]&=O>>2|O<<2),C.lineTo(T%o,T/o|0),l[T]||--_}while(j!==T);--h}return v=null,l=null,function(T){T.save(),T.scale(1/e,-1/t),T.translate(0,-t),T.fill(C),T.beginPath(),T.restore()}}class tA{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=b1,this.textMatrixScale=1,this.fontMatrix=qw,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Li.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=Ye.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=Ye.applyTransform(t,e),s=Ye.applyTransform(t.slice(2),e),o=Ye.applyTransform([t[0],t[3]],e),l=Ye.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],s[0],o[0],l[0]),this.minY=Math.min(this.minY,n[1],s[1],o[1],l[1]),this.maxX=Math.max(this.maxX,n[0],s[0],o[0],l[0]),this.maxY=Math.max(this.maxY,n[1],s[1],o[1],l[1])}updateScalingPathMinMax(e,t){Ye.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,s,o,l,h,d,f,g){const v=Ye.bezierBoundingBox(t,n,s,o,l,h,d,f,g);g||this.updateRectMinMax(e,v)}getPathBoundingBox(e=Qi.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===Qi.STROKE){t||an("Stroke bounding box must include transform.");const s=Ye.singularValueDecompose2dScale(t),o=s[0]*this.lineWidth/2,l=s[1]*this.lineWidth/2;n[0]-=o,n[1]-=l,n[2]+=o,n[3]+=l}return n}updateClipFromPath(){const e=Ye.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Qi.FILL,t=null){return Ye.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function nA(a,e){if(typeof ImageData<"u"&&e instanceof ImageData){a.putImageData(e,0,0);return}const t=e.height,n=e.width,s=t%Er,o=(t-s)/Er,l=s===0?o:o+1,h=a.createImageData(n,Er);let d=0,f;const g=e.data,v=h.data;let b,_,S,C;if(e.kind===Av.GRAYSCALE_1BPP){const N=g.byteLength,T=new Uint32Array(v.buffer,0,v.byteLength>>2),F=T.length,j=n+7>>3,O=4294967295,D=Yi.isLittleEndian?4278190080:255;for(b=0;b<l;b++){for(S=b<o?Er:s,f=0,_=0;_<S;_++){const U=N-d;let Q=0;const z=U>j?n:U*8-7,K=z&-8;let Y=0,te=0;for(;Q<K;Q+=8)te=g[d++],T[f++]=te&128?O:D,T[f++]=te&64?O:D,T[f++]=te&32?O:D,T[f++]=te&16?O:D,T[f++]=te&8?O:D,T[f++]=te&4?O:D,T[f++]=te&2?O:D,T[f++]=te&1?O:D;for(;Q<z;Q++)Y===0&&(te=g[d++],Y=128),T[f++]=te&Y?O:D,Y>>=1}for(;f<F;)T[f++]=0;a.putImageData(h,0,b*Er)}}else if(e.kind===Av.RGBA_32BPP){for(_=0,C=n*Er*4,b=0;b<o;b++)v.set(g.subarray(d,d+C)),d+=C,a.putImageData(h,0,_),_+=Er;b<l&&(C=n*s*4,v.set(g.subarray(d,d+C)),a.putImageData(h,0,_))}else if(e.kind===Av.RGB_24BPP)for(S=Er,C=n*S,b=0;b<l;b++){for(b>=o&&(S=s,C=n*S),f=0,_=C;_--;)v[f++]=g[d++],v[f++]=g[d++],v[f++]=g[d++],v[f++]=255;a.putImageData(h,0,b*Er)}else throw new Error(`bad image kind: ${e.kind}`)}function iA(a,e){if(e.bitmap){a.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,s=t%Er,o=(t-s)/Er,l=s===0?o:o+1,h=a.createImageData(n,Er);let d=0;const f=e.data,g=h.data;for(let v=0;v<l;v++){const b=v<o?Er:s;({srcPos:d}=yM({src:f,srcPos:d,dest:g,width:n,height:b,nonBlackColor:0})),a.putImageData(h,0,v*Er)}}function Gp(a,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)a[n]!==void 0&&(e[n]=a[n]);a.setLineDash!==void 0&&(e.setLineDash(a.getLineDash()),e.lineDashOffset=a.lineDashOffset)}function pv(a){if(a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",a.setLineDash!==void 0&&(a.setLineDash([]),a.lineDashOffset=0),!Hi){const{filter:e}=a;e!=="none"&&e!==""&&(a.filter="none")}}function rA(a,e){if(e)return!0;const t=Ye.singularValueDecompose2dScale(a);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Rc.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}const xM=["butt","round","square"],EM=["miter","round","bevel"],SM={},sA={};var Mc,b_,w_;const Hx=class Hx{constructor(e,t,n,s,o,{optionalContentConfig:l,markedContentStack:h=null},d,f){R(this,Mc);this.ctx=e,this.current=new tA(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=s,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=l,this.cachedCanvases=new wM(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:s=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=h,n){const d=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...gn(this.compositeCtx))}this.ctx.save(),pv(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=gn(this.ctx)}executeOperatorList(e,t,n,s){const o=e.argsArray,l=e.fnArray;let h=t||0;const d=o.length;if(d===h)return h;const f=d-h>ZS&&typeof n=="function",g=f?Date.now()+vM:0;let v=0;const b=this.commonObjs,_=this.objs;let S;for(;;){if(s!==void 0&&h===s.nextBreakPoint)return s.breakIt(h,n),h;if(S=l[h],S!==js.dependency)this[S].apply(this,o[h]);else for(const C of o[h]){const N=C.startsWith("g_")?b:_;if(!N.has(C))return N.get(C,n),h}if(h++,h===d)return h;if(f&&++v>ZS){if(Date.now()>g)return n(),h;v=0}}}endDrawing(){k(this,Mc,b_).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),k(this,Mc,w_).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,s=e.height??e.displayHeight;let o=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),h=n,d=s,f="prescale1",g,v;for(;o>2&&h>1||l>2&&d>1;){let b=h,_=d;o>2&&h>1&&(b=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),o/=h/b),l>2&&d>1&&(_=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/_),g=this.cachedCanvases.getCanvas(f,b,_),v=g.context,v.clearRect(0,0,b,_),v.drawImage(e,0,0,h,d,0,0,b,_),e=g.canvas,h=b,d=_,f=f==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:h,paintHeight:d}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:s}=e,o=this.current.fillColor,l=this.current.patternFill,h=gn(t);let d,f,g,v;if((e.bitmap||e.data)&&e.count>1){const z=e.bitmap||e.data.buffer;f=JSON.stringify(l?h:[h.slice(0,4),o]),d=this._cachedBitmapsMap.get(z),d||(d=new Map,this._cachedBitmapsMap.set(z,d));const K=d.get(f);if(K&&!l){const Y=Math.round(Math.min(h[0],h[2])+h[4]),te=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:K,offsetX:Y,offsetY:te}}g=K}g||(v=this.cachedCanvases.getCanvas("maskCanvas",n,s),iA(v.context,e));let b=Ye.transform(h,[1/n,0,0,-1/s,0,0]);b=Ye.transform(b,[1,0,0,1,0,-s]);const[_,S,C,N]=Ye.getAxialAlignedBoundingBox([0,0,n,s],b),T=Math.round(C-_)||1,F=Math.round(N-S)||1,j=this.cachedCanvases.getCanvas("fillCanvas",T,F),O=j.context,D=_,U=S;O.translate(-D,-U),O.transform(...b),g||(g=this._scaleImage(v.canvas,_o(O)),g=g.img,d&&l&&d.set(f,g)),O.imageSmoothingEnabled=rA(gn(O),e.interpolate),fv(O,g,0,0,g.width,g.height,0,0,n,s),O.globalCompositeOperation="source-in";const Q=Ye.transform(_o(O),[1,0,0,1,-D,-U]);return O.fillStyle=l?o.getPattern(t,this,Q,Qi.FILL):o,O.fillRect(0,0,n,s),d&&!l&&(this.cachedCanvases.delete("fillCanvas"),d.set(f,j.canvas)),{canvas:j.canvas,offsetX:Math.round(D),offsetY:Math.round(U)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=xM[e]}setLineJoin(e){this.ctx.lineJoin=EM[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=s.context;const o=this.ctx;o.setTransform(...gn(this.suspendedCtx)),Gp(this.suspendedCtx,o),bM(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Gp(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,s){const o=s[0],l=s[1],h=s[2]-o,d=s[3]-l;h===0||d===0||(this.genericComposeSMask(t.context,n,h,d,t.subtype,t.backdrop,t.transferMap,o,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,s,o,l,h,d,f,g,v){let b=e.canvas,_=d-g,S=f-v;if(l){const N=Ye.makeHexColor(...l);if(_<0||S<0||_+n>b.width||S+s>b.height){const T=this.cachedCanvases.getCanvas("maskExtension",n,s),F=T.context;F.drawImage(b,-_,-S),F.globalCompositeOperation="destination-atop",F.fillStyle=N,F.fillRect(0,0,n,s),F.globalCompositeOperation="source-over",b=T.canvas,_=S=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(_,S,n,s),e.clip(T),e.globalCompositeOperation="destination-atop",e.fillStyle=N,e.fillRect(_,S,n,s),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&h?t.filter=this.filterFactory.addAlphaFilter(h):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(h));const C=new Path2D;C.rect(d,f,n,s),t.clip(C),t.globalCompositeOperation="destination-in",t.drawImage(b,_,S,n,s,d,f,n,s),t.restore()}save(){this.inSMaskMode?(Gp(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Gp(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,s,o,l){this.ctx.transform(e,t,n,s,o,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const s=this.ctx,o=this.current;let l=o.x,h=o.y,d,f;const g=gn(s),v=g[0]===0&&g[3]===0||g[1]===0&&g[2]===0,b=v?n.slice(0):null;for(let _=0,S=0,C=e.length;_<C;_++)switch(e[_]|0){case js.rectangle:l=t[S++],h=t[S++];const N=t[S++],T=t[S++],F=l+N,j=h+T;s.moveTo(l,h),N===0||T===0?s.lineTo(F,j):(s.lineTo(F,h),s.lineTo(F,j),s.lineTo(l,j)),v||o.updateRectMinMax(g,[l,h,F,j]),s.closePath();break;case js.moveTo:l=t[S++],h=t[S++],s.moveTo(l,h),v||o.updatePathMinMax(g,l,h);break;case js.lineTo:l=t[S++],h=t[S++],s.lineTo(l,h),v||o.updatePathMinMax(g,l,h);break;case js.curveTo:d=l,f=h,l=t[S+4],h=t[S+5],s.bezierCurveTo(t[S],t[S+1],t[S+2],t[S+3],l,h),o.updateCurvePathMinMax(g,d,f,t[S],t[S+1],t[S+2],t[S+3],l,h,b),S+=6;break;case js.curveTo2:d=l,f=h,s.bezierCurveTo(l,h,t[S],t[S+1],t[S+2],t[S+3]),o.updateCurvePathMinMax(g,d,f,l,h,t[S],t[S+1],t[S+2],t[S+3],b),l=t[S+2],h=t[S+3],S+=4;break;case js.curveTo3:d=l,f=h,l=t[S+2],h=t[S+3],s.bezierCurveTo(t[S],t[S+1],l,h,l,h),o.updateCurvePathMinMax(g,d,f,t[S],t[S+1],l,h,l,h,b),S+=4;break;case js.closePath:s.closePath();break}v&&o.updateScalingPathMinMax(g,b),o.setCurrentPoint(l,h)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(t.save(),t.strokeStyle=n.getPattern(t,this,_o(t),Qi.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor,s=this.current.patternFill;let o=!1;s&&(t.save(),t.fillStyle=n.getPattern(t,this,_o(t),Qi.FILL),o=!0);const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),o&&t.restore(),e&&this.consumePath(l)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=SM}eoClip(){this.pendingClip=sA}beginText(){this.current.textMatrix=b1,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var g;const n=this.commonObjs.get(e),s=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=n.fontMatrix||qw,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&vt("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const o=n.loadedName||"sans-serif",l=((g=n.systemFontInfo)==null?void 0:g.css)||`"${o}", ${n.fallbackName}`;let h="normal";n.black?h="900":n.bold&&(h="bold");const d=n.italic?"italic":"normal";let f=t;t<YS?f=YS:t>JS&&(f=JS),this.current.fontSizeScale=t/f,this.ctx.font=`${d} ${h} ${f}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,s,o,l){this.current.textMatrix=[e,t,n,s,o,l],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,s){const o=this.ctx,l=this.current,h=l.font,d=l.textRenderingMode,f=l.fontSize/l.fontSizeScale,g=d&Li.FILL_STROKE_MASK,v=!!(d&Li.ADD_TO_PATH_FLAG),b=l.patternFill&&!h.missingFile;let _;(h.disableFontFace||v||b)&&(_=h.getPathGenerator(this.commonObjs,e)),h.disableFontFace||b?(o.save(),o.translate(t,n),o.beginPath(),_(o,f),s&&o.setTransform(...s),(g===Li.FILL||g===Li.FILL_STROKE)&&o.fill(),(g===Li.STROKE||g===Li.FILL_STROKE)&&o.stroke(),o.restore()):((g===Li.FILL||g===Li.FILL_STROKE)&&o.fillText(e,t,n),(g===Li.STROKE||g===Li.FILL_STROKE)&&o.strokeText(e,t,n)),v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:gn(o),x:t,y:n,fontSize:f,addToPath:_})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){n=!0;break}return Pt(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(s===0)return;const o=this.ctx,l=t.fontSizeScale,h=t.charSpacing,d=t.wordSpacing,f=t.fontDirection,g=t.textHScale*f,v=e.length,b=n.vertical,_=b?1:-1,S=n.defaultVMetrics,C=s*t.fontMatrix[0],N=t.textRenderingMode===Li.FILL&&!n.disableFontFace&&!t.patternFill;o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),f>0?o.scale(g,-1):o.scale(g,1);let T;if(t.patternFill){o.save();const U=t.fillColor.getPattern(o,this,_o(o),Qi.FILL);T=gn(o),o.restore(),o.fillStyle=U}let F=t.lineWidth;const j=t.textMatrixScale;if(j===0||F===0){const U=t.textRenderingMode&Li.FILL_STROKE_MASK;(U===Li.STROKE||U===Li.FILL_STROKE)&&(F=this.getSinglePixelWidth())}else F/=j;if(l!==1&&(o.scale(l,l),F/=l),o.lineWidth=F,n.isInvalidPDFjsFont){const U=[];let Q=0;for(const z of e)U.push(z.unicode),Q+=z.width;o.fillText(U.join(""),0,0),t.x+=Q*C*g,o.restore(),this.compose();return}let O=0,D;for(D=0;D<v;++D){const U=e[D];if(typeof U=="number"){O+=_*U*s/1e3;continue}let Q=!1;const z=(U.isSpace?d:0)+h,K=U.fontChar,Y=U.accent;let te,le,we=U.width;if(b){const Ae=U.vmetric||S,$e=-(U.vmetric?Ae[1]:we*.5)*C,fe=Ae[2]*C;we=Ae?-Ae[0]:we,te=$e/l,le=(O+fe)/l}else te=O/l,le=0;if(n.remeasure&&we>0){const Ae=o.measureText(K).width*1e3/s*l;if(we<Ae&&this.isFontSubpixelAAEnabled){const $e=we/Ae;Q=!0,o.save(),o.scale($e,1),te/=$e}else we!==Ae&&(te+=(we-Ae)/2e3*s/l)}if(this.contentVisible&&(U.isInFont||n.missingFile)){if(N&&!Y)o.fillText(K,te,le);else if(this.paintChar(K,te,le,T),Y){const Ae=te+s*Y.offset.x/l,$e=le-s*Y.offset.y/l;this.paintChar(Y.fontChar,Ae,$e,T)}}const Te=b?we*C-z*f:we*C+z*f;O+=Te,Q&&o.restore()}b?t.y-=O:t.x+=O*g,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,s=n.font,o=n.fontSize,l=n.fontDirection,h=s.vertical?1:-1,d=n.charSpacing,f=n.wordSpacing,g=n.textHScale*l,v=n.fontMatrix||qw,b=e.length,_=n.textRenderingMode===Li.INVISIBLE;let S,C,N,T;if(!(_||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(g,l),S=0;S<b;++S){if(C=e[S],typeof C=="number"){T=h*C*o/1e3,this.ctx.translate(T,0),n.x+=T*g;continue}const F=(C.isSpace?f:0)+d,j=s.charProcOperatorList[C.operatorListId];if(!j){vt(`Type3 character "${C.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=C,this.save(),t.scale(o,o),t.transform(...v),this.executeOperatorList(j),this.restore()),N=Ye.applyTransform([C.width,0],v)[0]*o+F,t.translate(N,0),n.x+=N*g}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,s,o,l){this.ctx.rect(n,s,o-n,l-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=e[1],s=this.baseTransform||gn(this.ctx),o={createCanvasGraphics:l=>new Hx(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new v_(e,n,this.ctx,o,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=Ye.makeHexColor(e,t,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=Ye.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=gM(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,_o(t),Qi.SHADING);const s=_o(t);{const{width:o,height:l}=t.canvas,[h,d,f,g]=Ye.getAxialAlignedBoundingBox([0,0,o,l],s);this.ctx.fillRect(h,d,f-h,g-d)}this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){an("Should not call beginInlineImage")}beginImageData(){an("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=gn(this.ctx),t)){const n=t[2]-t[0],s=t[3]-t[1];this.ctx.rect(t[0],t[1],n,s),this.current.updateRectMinMax(gn(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||O0("TODO: Support non-isolated groups."),e.knockout&&vt("Knockout groups not supported.");const n=gn(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=Ye.getAxialAlignedBoundingBox(e.bbox,gn(t));const o=[0,0,t.canvas.width,t.canvas.height];s=Ye.intersect(s,o)||[0,0,0,0];const l=Math.floor(s[0]),h=Math.floor(s[1]),d=Math.max(Math.ceil(s[2])-l,1),f=Math.max(Math.ceil(s[3])-h,1);this.current.startNewPathAndClipBox([0,0,d,f]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(g,d,f),b=v.context;b.translate(-l,-h),b.transform(...n),e.smask?this.smaskStack.push({canvas:v.canvas,context:b,offsetX:l,offsetY:h,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,h),t.save()),Gp(t,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=gn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const o=Ye.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,n,s,o){if(k(this,Mc,b_).call(this),pv(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const l=t[2]-t[0],h=t[3]-t[1];if(o&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=l,t[3]=h;const[d,f]=Ye.singularValueDecompose2dScale(gn(this.ctx)),{viewportScale:g}=this,v=Math.ceil(l*this.outputScaleX*g),b=Math.ceil(h*this.outputScaleY*g);this.annotationCanvas=this.canvasFactory.create(v,b);const{canvas:_,context:S}=this.annotationCanvas;this.annotationCanvasMap.set(e,_),this.annotationCanvas.savedCtx=this.ctx,this.ctx=S,this.ctx.save(),this.ctx.setTransform(d,0,0,-f,0,h*f),pv(this.ctx)}else pv(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],l,h),this.ctx.clip(),this.ctx.beginPath()}this.current=new tA(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),k(this,Mc,w_).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=_M(e)),s.compiled)){s.compiled(n);return}const o=this._createMaskCanvas(e),l=o.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(l,o.offsetX,o.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,s=0,o,l){if(!this.contentVisible)return;e=this.getObject(e.data,e);const h=this.ctx;h.save();const d=gn(h);h.transform(t,n,s,o,0,0);const f=this._createMaskCanvas(e);h.setTransform(1,0,0,1,f.offsetX-d[4],f.offsetY-d[5]);for(let g=0,v=l.length;g<v;g+=2){const b=Ye.transform(d,[t,n,s,o,l[g],l[g+1]]),[_,S]=Ye.applyTransform([0,0],b);h.drawImage(f.canvas,_,S)}h.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,s=this.current.patternFill;for(const o of e){const{data:l,width:h,height:d,transform:f}=o,g=this.cachedCanvases.getCanvas("maskCanvas",h,d),v=g.context;v.save();const b=this.getObject(l,o);iA(v,b),v.globalCompositeOperation="source-in",v.fillStyle=s?n.getPattern(v,this,_o(t),Qi.FILL):n,v.fillRect(0,0,h,d),v.restore(),t.save(),t.transform(...f),t.scale(1,-1),fv(t,g.canvas,0,0,h,d,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){vt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,s){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){vt("Dependent image isn't ready yet");return}const l=o.width,h=o.height,d=[];for(let f=0,g=s.length;f<g;f+=2)d.push({transform:[t,0,0,n,s[f],s[f+1]],x:0,y:0,w:l,h});this.paintInlineImageXObjectGroup(o,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:s}=e,o=this.cachedCanvases.getCanvas("inlineImage",n,s),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,s=this.ctx;if(this.save(),!Hi){const{filter:h}=s;h!=="none"&&h!==""&&(s.filter="none")}s.scale(1/t,-1/n);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const d=this.cachedCanvases.getCanvas("inlineImage",t,n).context;nA(d,e),o=this.applyTransferMapsToCanvas(d)}const l=this._scaleImage(o,_o(s));s.imageSmoothingEnabled=rA(gn(s),e.interpolate),fv(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const o=e.width,l=e.height,d=this.cachedCanvases.getCanvas("inlineImage",o,l).context;nA(d,e),s=this.applyTransferMapsToCanvas(d)}for(const o of t)n.save(),n.transform(...o.transform),n.scale(1,-1),fv(n,s,o.x,o.y,o.w,o.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===sA?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=gn(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:s,d:o}=this.ctx.getTransform();let l,h;if(n===0&&s===0){const d=Math.abs(t),f=Math.abs(o);if(d===f)if(e===0)l=h=1/d;else{const g=d*e;l=h=g<1?1/g:1}else if(e===0)l=1/d,h=1/f;else{const g=d*e,v=f*e;l=g<1?1/g:1,h=v<1?1/v:1}}else{const d=Math.abs(t*o-n*s),f=Math.hypot(t,n),g=Math.hypot(s,o);if(e===0)l=g/d,h=f/d;else{const v=e*d;l=g>v?g/v:1,h=f>v?f/v:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[s,o]=this.getScaleForStroking();if(t.lineWidth=n||1,s===1&&o===1){t.stroke();return}const l=t.getLineDash();if(e&&t.save(),t.scale(s,o),l.length>0){const h=Math.max(s,o);t.setLineDash(l.map(d=>d/h)),t.lineDashOffset/=h}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Mc=new WeakSet,b_=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},w_=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let jd=Hx;for(const a in js)jd.prototype[a]!==void 0&&(jd.prototype[js[a]]=jd.prototype[a]);var Wm,Vm;class Jo{static get workerPort(){return c(this,Wm)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");A(this,Wm,e)}static get workerSrc(){return c(this,Vm)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");A(this,Vm,e)}}Wm=new WeakMap,Vm=new WeakMap,R(Jo,Wm,null),R(Jo,Vm,"");const mv={UNKNOWN:0,DATA:1,ERROR:2},Dn={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Nr(a){switch(a instanceof Error||typeof a=="object"&&a!==null||an('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new zh(a.message);case"MissingPDFException":return new $h(a.message);case"PasswordException":return new Ww(a.message,a.code);case"UnexpectedResponseException":return new j0(a.message,a.status);case"UnknownErrorException":return new Vw(a.message,a.details);default:return new Vw(a.message,a.toString())}}var gf,bs,iC,rC,sC,Mv;class rm{constructor(e,t,n){R(this,bs);R(this,gf,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",k(this,bs,iC).bind(this),{signal:c(this,gf).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const s=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[s]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},n)}catch(l){o.reject(l)}return o.promise}sendWithStream(e,t,n,s){const o=this.streamId++,l=this.sourceName,h=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const g=Promise.withResolvers();return this.streamControllers[o]={controller:f,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:h,action:e,streamId:o,data:t,desiredSize:f.desiredSize},s),g.promise},pull:f=>{const g=Promise.withResolvers();return this.streamControllers[o].pullCall=g,d.postMessage({sourceName:l,targetName:h,stream:Dn.PULL,streamId:o,desiredSize:f.desiredSize}),g.promise},cancel:f=>{Kn(f instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[o].cancelCall=g,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:l,targetName:h,stream:Dn.CANCEL,streamId:o,reason:Nr(f)}),g.promise}},n)}destroy(){var e;(e=c(this,gf))==null||e.abort(),A(this,gf,null)}}gf=new WeakMap,bs=new WeakSet,iC=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){k(this,bs,sC).call(this,e);return}if(e.callback){const n=e.callbackId,s=this.callbackCapabilities[n];if(!s)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===mv.DATA)s.resolve(e.data);else if(e.callback===mv.ERROR)s.reject(Nr(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,s=e.sourceName,o=this.comObj;new Promise(function(l){l(t(e.data))}).then(function(l){o.postMessage({sourceName:n,targetName:s,callback:mv.DATA,callbackId:e.callbackId,data:l})},function(l){o.postMessage({sourceName:n,targetName:s,callback:mv.ERROR,callbackId:e.callbackId,reason:Nr(l)})});return}if(e.streamId){k(this,bs,rC).call(this,e);return}t(e.data)},rC=function(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,o=this.comObj,l=this,h=this.actionHandler[e.action],d={enqueue(f,g=1,v){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=g,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:s,stream:Dn.ENQUEUE,streamId:t,chunk:f},v)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:s,stream:Dn.CLOSE,streamId:t}),delete l.streamSinks[t])},error(f){Kn(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:s,stream:Dn.ERROR,streamId:t,reason:Nr(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[t]=d,new Promise(function(f){f(h(e.data,d))}).then(function(){o.postMessage({sourceName:n,targetName:s,stream:Dn.START_COMPLETE,streamId:t,success:!0})},function(f){o.postMessage({sourceName:n,targetName:s,stream:Dn.START_COMPLETE,streamId:t,reason:Nr(f)})})},sC=function(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,o=this.comObj,l=this.streamControllers[t],h=this.streamSinks[t];switch(e.stream){case Dn.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(Nr(e.reason));break;case Dn.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(Nr(e.reason));break;case Dn.PULL:if(!h){o.postMessage({sourceName:n,targetName:s,stream:Dn.PULL_COMPLETE,streamId:t,success:!0});break}h.desiredSize<=0&&e.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=e.desiredSize,new Promise(function(d){var f;d((f=h.onPull)==null?void 0:f.call(h))}).then(function(){o.postMessage({sourceName:n,targetName:s,stream:Dn.PULL_COMPLETE,streamId:t,success:!0})},function(d){o.postMessage({sourceName:n,targetName:s,stream:Dn.PULL_COMPLETE,streamId:t,reason:Nr(d)})});break;case Dn.ENQUEUE:if(Kn(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case Dn.CLOSE:if(Kn(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),k(this,bs,Mv).call(this,l,t);break;case Dn.ERROR:Kn(l,"error should have stream controller"),l.controller.error(Nr(e.reason)),k(this,bs,Mv).call(this,l,t);break;case Dn.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(Nr(e.reason)),k(this,bs,Mv).call(this,l,t);break;case Dn.CANCEL:if(!h)break;new Promise(function(d){var f;d((f=h.onCancel)==null?void 0:f.call(h,Nr(e.reason)))}).then(function(){o.postMessage({sourceName:n,targetName:s,stream:Dn.CANCEL_COMPLETE,streamId:t,success:!0})},function(d){o.postMessage({sourceName:n,targetName:s,stream:Dn.CANCEL_COMPLETE,streamId:t,reason:Nr(d)})}),h.sinkCapability.reject(Nr(e.reason)),h.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Mv=async function(e,t){var n,s,o;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(s=e.pullCall)==null?void 0:s.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[t]};var Ju,Gm;class AM{constructor({parsedData:e,rawData:t}){R(this,Ju);R(this,Gm);A(this,Ju,e),A(this,Gm,t)}getRaw(){return c(this,Gm)}get(e){return c(this,Ju).get(e)??null}getAll(){return Sx(c(this,Ju))}has(e){return c(this,Ju).has(e)}}Ju=new WeakMap,Gm=new WeakMap;const Nd=Symbol("INTERNAL");var Xm,Km,Qm,yf;class CM{constructor(e,{name:t,intent:n,usage:s,rbGroups:o}){R(this,Xm,!1);R(this,Km,!1);R(this,Qm,!1);R(this,yf,!0);A(this,Xm,!!(e&zr.DISPLAY)),A(this,Km,!!(e&zr.PRINT)),this.name=t,this.intent=n,this.usage=s,this.rbGroups=o}get visible(){if(c(this,Qm))return c(this,yf);if(!c(this,yf))return!1;const{print:e,view:t}=this.usage;return c(this,Xm)?(t==null?void 0:t.viewState)!=="OFF":c(this,Km)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==Nd&&an("Internal method `_setVisible` called."),A(this,Qm,n),A(this,yf,t)}}Xm=new WeakMap,Km=new WeakMap,Qm=new WeakMap,yf=new WeakMap;var dc,Gt,vf,bf,Ym,__;class kM{constructor(e,t=zr.DISPLAY){R(this,Ym);R(this,dc,null);R(this,Gt,new Map);R(this,vf,null);R(this,bf,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,A(this,bf,e.order);for(const n of e.groups)c(this,Gt).set(n.id,new CM(t,n));if(e.baseState==="OFF")for(const n of c(this,Gt).values())n._setVisible(Nd,!1);for(const n of e.on)c(this,Gt).get(n)._setVisible(Nd,!0);for(const n of e.off)c(this,Gt).get(n)._setVisible(Nd,!1);A(this,vf,this.getHash())}}isVisible(e){if(c(this,Gt).size===0)return!0;if(!e)return O0("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,Gt).has(e.id)?c(this,Gt).get(e.id).visible:(vt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return k(this,Ym,__).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!c(this,Gt).has(t))return vt(`Optional content group not found: ${t}`),!0;if(c(this,Gt).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!c(this,Gt).has(t))return vt(`Optional content group not found: ${t}`),!0;if(!c(this,Gt).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!c(this,Gt).has(t))return vt(`Optional content group not found: ${t}`),!0;if(!c(this,Gt).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!c(this,Gt).has(t))return vt(`Optional content group not found: ${t}`),!0;if(c(this,Gt).get(t).visible)return!1}return!0}return vt(`Unknown optional content policy ${e.policy}.`),!0}return vt(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var o;const s=c(this,Gt).get(e);if(!s){vt(`Optional content group not found: ${e}`);return}if(n&&t&&s.rbGroups.length)for(const l of s.rbGroups)for(const h of l)h!==e&&((o=c(this,Gt).get(h))==null||o._setVisible(Nd,!1,!0));s._setVisible(Nd,!!t,!0),A(this,dc,null)}setOCGState({state:e,preserveRB:t}){let n;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const o=c(this,Gt).get(s);if(o)switch(n){case"ON":this.setVisibility(s,!0,t);break;case"OFF":this.setVisibility(s,!1,t);break;case"Toggle":this.setVisibility(s,!o.visible,t);break}}A(this,dc,null)}get hasInitialVisibility(){return c(this,vf)===null||this.getHash()===c(this,vf)}getOrder(){return c(this,Gt).size?c(this,bf)?c(this,bf).slice():[...c(this,Gt).keys()]:null}getGroups(){return c(this,Gt).size>0?Sx(c(this,Gt)):null}getGroup(e){return c(this,Gt).get(e)||null}getHash(){if(c(this,dc)!==null)return c(this,dc);const e=new V1;for(const[t,n]of c(this,Gt))e.update(`${t}:${n.visible}`);return A(this,dc,e.hexdigest())}}dc=new WeakMap,Gt=new WeakMap,vf=new WeakMap,bf=new WeakMap,Ym=new WeakSet,__=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let s=1;s<t;s++){const o=e[s];let l;if(Array.isArray(o))l=k(this,Ym,__).call(this,o);else if(c(this,Gt).has(o))l=c(this,Gt).get(o).visible;else return vt(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"};class TM{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Kn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:o,progressiveDone:l,contentDispositionFilename:h}=e;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=h,(o==null?void 0:o.length)>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),e.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),e.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(n),!0)});Kn(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,s,o;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(o=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||o.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Kn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new PM(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new RM(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class PM{constructor(e,t,n=!1,s=null){this._stream=e,this._done=n||!1,this._filename=kx(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class RM{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function LM(a){let e=!0,t=n("filename\\*","i").exec(a);if(t){t=t[1];let g=h(t);return g=unescape(g),g=d(g),g=f(g),o(g)}if(t=l(a),t){const g=f(t);return o(g)}if(t=n("filename","i").exec(a),t){t=t[1];let g=h(t);return g=f(g),o(g)}function n(g,v){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function s(g,v){if(g){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const b=new TextDecoder(g,{fatal:!0}),_=H0(v);v=b.decode(_),e=!1}catch{}}return v}function o(g){return e&&/[\x80-\xff]/.test(g)&&(g=s("utf-8",g),e&&(g=s("iso-8859-1",g))),g}function l(g){const v=[];let b;const _=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=_.exec(g))!==null;){let[,C,N,T]=b;if(C=parseInt(C,10),C in v){if(C===0)break;continue}v[C]=[N,T]}const S=[];for(let C=0;C<v.length&&C in v;++C){let[N,T]=v[C];T=h(T),N&&(T=unescape(T),C===0&&(T=d(T))),S.push(T)}return S.join("")}function h(g){if(g.startsWith('"')){const v=g.slice(1).split('\\"');for(let b=0;b<v.length;++b){const _=v[b].indexOf('"');_!==-1&&(v[b]=v[b].slice(0,_),v.length=b+1),v[b]=v[b].replaceAll(/\\(.)/g,"$1")}g=v.join('"')}return g}function d(g){const v=g.indexOf("'");if(v===-1)return g;const b=g.slice(0,v),S=g.slice(v+1).replace(/^[^']*'/,"");return s(b,S)}function f(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,b,_,S){if(_==="q"||_==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(C,N){return String.fromCharCode(parseInt(N,16))}),s(b,S);try{S=atob(S)}catch{}return s(b,S)})}return""}function Nx(a,e){const t=new Headers;if(!a||!e||typeof e!="object")return t;for(const n in e){const s=e[n];s!==void 0&&t.append(n,s)}return t}function Mx({responseHeaders:a,isHttp:e,rangeChunkSize:t,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(a.get("Content-Length"),10);return!Number.isInteger(o)||(s.suggestedLength=o,o<=2*t)||n||!e||a.get("Accept-Ranges")!=="bytes"||(a.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function Dx(a){const e=a.get("Content-Disposition");if(e){let t=LM(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(kx(t))return t}return null}function B0(a,e){return a===404||a===0&&e.startsWith("file:")?new $h('Missing PDF "'+e+'".'):new j0(`Unexpected server response (${a}) while retrieving PDF "${e}".`,a)}function aC(a){return a===200||a===206}function oC(a,e,t){return{method:"GET",headers:a,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function lC(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(vt(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class aA{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Nx(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Kn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new NM(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new MM(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class NM{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),s=t.url;fetch(s,oC(n,this._withCredentials,this._abortController)).then(o=>{if(!aC(o.status))throw B0(o.status,s);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:h,suggestedLength:d}=Mx({responseHeaders:l,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=d||this._contentLength,this._filename=Dx(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new zh("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:lC(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class MM{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const o=new Headers(e.headers);o.append("Range",`bytes=${t}-${n-1}`);const l=s.url;fetch(l,oC(o,this._withCredentials,this._abortController)).then(h=>{if(!aC(h.status))throw B0(h.status,l);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:lC(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const _w=200,xw=206;function DM(a){const e=a.response;return typeof e!="string"?e:H0(e).buffer}class IM{constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Nx(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const s={begin:e,end:t};for(const o in n)s[o]=n[o];return this.request(s)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[o,l]of this.headers)t.setRequestHeader(o,l);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=xw):s.expectedStatus=_w,t.responseType="arraybuffer",e.onError&&(t.onerror=function(o){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var s;const n=this.pendingRequests[e];n&&((s=n.onProgress)==null||s.call(n,t))}onStateChange(e,t){var d,f,g;const n=this.pendingRequests[e];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){(d=n.onError)==null||d.call(n,s.status);return}const o=s.status||_w;if(!(o===_w&&n.expectedStatus===xw)&&o!==n.expectedStatus){(f=n.onError)==null||f.call(n,s.status);return}const h=DM(s);if(o===xw){const v=s.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(v);n.onDone({begin:parseInt(b[1],10),chunk:h})}else h?n.onDone({begin:0,chunk:h}):(g=n.onError)==null||g.call(n,s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class FM{constructor(e){this._source=e,this._manager=new IM(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Kn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new OM(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new jM(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class OM{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(l=>{const[h,...d]=l.split(": ");return[h,d.join(": ")]})),{allowRangeRequests:s,suggestedLength:o}=Mx({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=Dx(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=B0(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class jM{constructor(e,t,n){this._manager=e;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=B0(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const HM=/^[a-z][a-z0-9\-+.]+:/i;function $M(a){if(HM.test(a))return new URL(a);const e=Lc.get("url");return new URL(e.pathToFileURL(a))}function cC(a,e,t){return a.protocol==="http:"?Lc.get("http").request(a,{headers:e},t):Lc.get("https").request(a,{headers:e},t)}class zM{constructor(e){this.source=e,this.url=$M(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=Nx(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Kn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new qM(this):new BM(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new WM(this,e,t):new UM(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class uC{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new zh("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class hC{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class BM extends uC{constructor(e){super(e);const t=Object.fromEntries(e.headers),n=s=>{if(s.statusCode===404){const d=new $h(`Missing PDF "${this._url}".`);this._storedError=d,this._headersCapability.reject(d);return}this._headersCapability.resolve(),this._setReadableStream(s);const o=new Headers(this._readableStream.headers),{allowRangeRequests:l,suggestedLength:h}=Mx({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=h||this._contentLength,this._filename=Dx(o)};this._request=cC(this._url,t,n),this._request.on("error",s=>{this._storedError=s,this._headersCapability.reject(s)}),this._request.end()}}class UM extends hC{constructor(e,t,n){super(e);const s=Object.fromEntries(e.headers);s.Range=`bytes=${t}-${n-1}`;const o=l=>{if(l.statusCode===404){const h=new $h(`Missing PDF "${this._url}".`);this._storedError=h;return}this._setReadableStream(l)};this._request=cC(this._url,s,o),this._request.on("error",l=>{this._storedError=l}),this._request.end()}}class qM extends uC{constructor(e){super(e);const t=Lc.get("fs");t.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new $h(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class WM extends hC{constructor(e,t,n){super(e);const s=Lc.get("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:n-1}))}}const VM=1e5,gr=30,GM=.8;var LA,fc,_r,Jm,Zm,Zu,Do,eg,tg,eh,wf,_f,pc,xf,ng,Ef,th,ig,rg,Sn,nh,ih,sg,mc,Sf,rl,dC,fC,E_,qr,Dv,S_,pC,mC;let x_=(Sn=class{constructor({textContentSource:e,container:t,viewport:n}){R(this,rl);R(this,fc,Promise.withResolvers());R(this,_r,null);R(this,Jm,!1);R(this,Zm,!!((LA=globalThis.FontInspector)!=null&&LA.enabled));R(this,Zu,null);R(this,Do,null);R(this,eg,0);R(this,tg,0);R(this,eh,null);R(this,wf,null);R(this,_f,0);R(this,pc,0);R(this,xf,Object.create(null));R(this,ng,[]);R(this,Ef,null);R(this,th,[]);R(this,ig,new WeakMap);R(this,rg,null);var d;if(e instanceof ReadableStream)A(this,Ef,e);else if(typeof e=="object")A(this,Ef,new ReadableStream({start(f){f.enqueue(e),f.close()}}));else throw new Error('No "textContentSource" parameter specified.');A(this,_r,A(this,wf,t)),A(this,pc,n.scale*(globalThis.devicePixelRatio||1)),A(this,_f,n.rotation),A(this,Do,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:o,pageX:l,pageY:h}=n.rawDims;A(this,rg,[1,0,0,-1,-l,h+o]),A(this,tg,s),A(this,eg,o),k(d=Sn,qr,pC).call(d),Lh(t,n),c(this,fc).promise.finally(()=>{c(Sn,Sf).delete(this),A(this,Do,null),A(this,xf,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Yi.platform;return Pt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{c(this,eh).read().then(({value:t,done:n})=>{if(n){c(this,fc).resolve();return}c(this,Zu)??A(this,Zu,t.lang),Object.assign(c(this,xf),t.styles),k(this,rl,dC).call(this,t.items),e()},c(this,fc).reject)};return A(this,eh,c(this,Ef).getReader()),c(Sn,Sf).add(this),e(),c(this,fc).promise}update({viewport:e,onBefore:t=null}){var o;const n=e.scale*(globalThis.devicePixelRatio||1),s=e.rotation;if(s!==c(this,_f)&&(t==null||t(),A(this,_f,s),Lh(c(this,wf),{rotation:s})),n!==c(this,pc)){t==null||t(),A(this,pc,n);const l={div:null,properties:null,ctx:k(o=Sn,qr,Dv).call(o,c(this,Zu))};for(const h of c(this,th))l.properties=c(this,ig).get(h),l.div=h,k(this,rl,E_).call(this,l)}}cancel(){var t;const e=new zh("TextLayer task cancelled.");(t=c(this,eh))==null||t.cancel(e).catch(()=>{}),A(this,eh,null),c(this,fc).reject(e)}get textDivs(){return c(this,th)}get textContentItemsStr(){return c(this,ng)}static cleanup(){if(!(c(this,Sf).size>0)){c(this,nh).clear();for(const{canvas:e}of c(this,ih).values())e.remove();c(this,ih).clear()}}},fc=new WeakMap,_r=new WeakMap,Jm=new WeakMap,Zm=new WeakMap,Zu=new WeakMap,Do=new WeakMap,eg=new WeakMap,tg=new WeakMap,eh=new WeakMap,wf=new WeakMap,_f=new WeakMap,pc=new WeakMap,xf=new WeakMap,ng=new WeakMap,Ef=new WeakMap,th=new WeakMap,ig=new WeakMap,rg=new WeakMap,nh=new WeakMap,ih=new WeakMap,sg=new WeakMap,mc=new WeakMap,Sf=new WeakMap,rl=new WeakSet,dC=function(e){var s,o;if(c(this,Jm))return;(o=c(this,Do)).ctx??(o.ctx=k(s=Sn,qr,Dv).call(s,c(this,Zu)));const t=c(this,th),n=c(this,ng);for(const l of e){if(t.length>VM){vt("Ignoring additional textDivs for performance reasons."),A(this,Jm,!0);return}if(l.str===void 0){if(l.type==="beginMarkedContentProps"||l.type==="beginMarkedContent"){const h=c(this,_r);A(this,_r,document.createElement("span")),c(this,_r).classList.add("markedContent"),l.id!==null&&c(this,_r).setAttribute("id",`${l.id}`),h.append(c(this,_r))}else l.type==="endMarkedContent"&&A(this,_r,c(this,_r).parentNode);continue}n.push(l.str),k(this,rl,fC).call(this,l)}},fC=function(e){var C;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};c(this,th).push(t);const s=Ye.transform(c(this,rg),e.transform);let o=Math.atan2(s[1],s[0]);const l=c(this,xf)[e.fontName];l.vertical&&(o+=Math.PI/2);let h=c(this,Zm)&&l.fontSubstitution||l.fontFamily;h=Sn.fontFamilyMap.get(h)||h;const d=Math.hypot(s[2],s[3]),f=d*k(C=Sn,qr,mC).call(C,h,c(this,Zu));let g,v;o===0?(g=s[4],v=s[5]-f):(g=s[4]+f*Math.sin(o),v=s[5]-f*Math.cos(o));const b="calc(var(--scale-factor)*",_=t.style;c(this,_r)===c(this,wf)?(_.left=`${(100*g/c(this,tg)).toFixed(2)}%`,_.top=`${(100*v/c(this,eg)).toFixed(2)}%`):(_.left=`${b}${g.toFixed(2)}px)`,_.top=`${b}${v.toFixed(2)}px)`),_.fontSize=`${b}${(c(Sn,mc)*d).toFixed(2)}px)`,_.fontFamily=h,n.fontSize=d,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,c(this,Zm)&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),o!==0&&(n.angle=o*(180/Math.PI));let S=!1;if(e.str.length>1)S=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const N=Math.abs(e.transform[0]),T=Math.abs(e.transform[3]);N!==T&&Math.max(N,T)/Math.min(N,T)>1.5&&(S=!0)}if(S&&(n.canvasWidth=l.vertical?e.height:e.width),c(this,ig).set(t,n),c(this,Do).div=t,c(this,Do).properties=n,k(this,rl,E_).call(this,c(this,Do)),n.hasText&&c(this,_r).append(t),n.hasEOL){const N=document.createElement("br");N.setAttribute("role","presentation"),c(this,_r).append(N)}},E_=function(e){var h;const{div:t,properties:n,ctx:s}=e,{style:o}=t;let l="";if(c(Sn,mc)>1&&(l=`scale(${1/c(Sn,mc)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:d}=o,{canvasWidth:f,fontSize:g}=n;k(h=Sn,qr,S_).call(h,s,g*c(this,pc),d);const{width:v}=s.measureText(t.textContent);v>0&&(l=`scaleX(${f*c(this,pc)/v}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)},qr=new WeakSet,Dv=function(e=null){let t=c(this,ih).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),c(this,ih).set(e,t),c(this,sg).set(t,{size:0,family:""})}return t},S_=function(e,t,n){const s=c(this,sg).get(e);t===s.size&&n===s.family||(e.font=`${t}px ${n}`,s.size=t,s.family=n)},pC=function(){if(c(this,mc)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),A(this,mc,e.getBoundingClientRect().height),e.remove()},mC=function(e,t){const n=c(this,nh).get(e);if(n)return n;const s=k(this,qr,Dv).call(this,t);s.canvas.width=s.canvas.height=gr,k(this,qr,S_).call(this,s,gr,e);const o=s.measureText("");let l=o.fontBoundingBoxAscent,h=Math.abs(o.fontBoundingBoxDescent);if(l){const g=l/(l+h);return c(this,nh).set(e,g),s.canvas.width=s.canvas.height=0,g}s.strokeStyle="red",s.clearRect(0,0,gr,gr),s.strokeText("g",0,0);let d=s.getImageData(0,0,gr,gr).data;h=0;for(let g=d.length-1-3;g>=0;g-=4)if(d[g]>0){h=Math.ceil(g/4/gr);break}s.clearRect(0,0,gr,gr),s.strokeText("A",0,gr),d=s.getImageData(0,0,gr,gr).data,l=0;for(let g=0,v=d.length;g<v;g+=4)if(d[g]>0){l=gr-Math.floor(g/4/gr);break}s.canvas.width=s.canvas.height=0;const f=l?l/(l+h):GM;return c(this,nh).set(e,f),f},R(Sn,qr),R(Sn,nh,new Map),R(Sn,ih,new Map),R(Sn,sg,new WeakMap),R(Sn,mc,null),R(Sn,Sf,new Set),Sn);class bm{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function s(o){var d;if(!o)return;let l=null;const h=o.name;if(h==="#text")l=o.value;else if(bm.shouldBuildText(h))(d=o==null?void 0:o.attributes)!=null&&d.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&t.push({str:l}),!!o.children)for(const f of o.children)s(f)}return s(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const XM=65536,KM=100,QM=5e3,YM=Hi?cM:aM,JM=Hi?uM:Y1,ZM=Hi?lM:oM,eD=Hi?hM:tC;function tD(a={}){typeof a=="string"||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});const e=new A_,{docId:t}=e,n=a.url?nD(a.url):null,s=a.data?iD(a.data):null,o=a.httpHeaders||null,l=a.withCredentials===!0,h=a.password??null,d=a.range instanceof gC?a.range:null,f=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:XM;let g=a.worker instanceof Hd?a.worker:null;const v=a.verbosity,b=typeof a.docBaseUrl=="string"&&!z0(a.docBaseUrl)?a.docBaseUrl:null,_=typeof a.cMapUrl=="string"?a.cMapUrl:null,S=a.cMapPacked!==!1,C=a.CMapReaderFactory||JM,N=typeof a.standardFontDataUrl=="string"?a.standardFontDataUrl:null,T=a.StandardFontDataFactory||eD,F=a.stopAtErrors!==!0,j=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,O=a.isEvalSupported!==!1,D=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!Hi,U=typeof a.isChrome=="boolean"?a.isChrome:!Yi.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),Q=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,z=typeof a.disableFontFace=="boolean"?a.disableFontFace:Hi,K=a.fontExtraProperties===!0,Y=a.enableXfa===!0,te=a.ownerDocument||globalThis.document,le=a.disableRange===!0,we=a.disableStream===!0,Te=a.disableAutoFetch===!0,Ae=a.pdfBug===!0,$e=a.CanvasFactory||YM,fe=a.FilterFactory||ZM,ae=a.enableHWA===!0,_e=d?d.length:a.length??NaN,G=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!Hi&&!z,q=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:C===Y1&&T===tC&&_&&N&&Yp(_,document.baseURI)&&Yp(N,document.baseURI);a.canvasFactory&&XS("`canvasFactory`-instance option, please use `CanvasFactory` instead."),a.filterFactory&&XS("`filterFactory`-instance option, please use `FilterFactory` instead.");const re=null;ON(v);const Ee={canvasFactory:new $e({ownerDocument:te,enableHWA:ae}),filterFactory:new fe({docId:t,ownerDocument:te}),cMapReaderFactory:q?null:new C({baseUrl:_,isCompressed:S}),standardFontDataFactory:q?null:new T({baseUrl:N})};if(!g){const Pe={verbosity:v,port:Jo.workerPort};g=Pe.port?Hd.fromPort(Pe):new Hd(Pe),e._worker=g}const Me={docId:t,apiVersion:"4.8.69",data:s,password:h,disableAutoFetch:Te,rangeChunkSize:f,length:_e,docBaseUrl:b,enableXfa:Y,evaluatorOptions:{maxImageSize:j,disableFontFace:z,ignoreErrors:F,isEvalSupported:O,isOffscreenCanvasSupported:D,isChrome:U,canvasMaxAreaInBytes:Q,fontExtraProperties:K,useSystemFonts:G,cMapUrl:q?_:null,standardFontDataUrl:q?N:null}},qe={disableFontFace:z,fontExtraProperties:K,ownerDocument:te,pdfBug:Ae,styleElement:re,loadingParams:{disableAutoFetch:Te,enableXfa:Y}};return g.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Pe=g.messageHandler.sendWithPromise("GetDocRequest",Me,s?[s.buffer]:null);let He;if(d)He=new TM(d,{disableRange:le,disableStream:we});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");let de;Hi?de=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Yp(n)?aA:zM:de=Yp(n)?aA:FM,He=new de({url:n,length:_e,httpHeaders:o,withCredentials:l,rangeChunkSize:f,disableRange:le,disableStream:we})}return Pe.then(de=>{if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Ge=new rm(t,de,g.port),it=new oD(Ge,e,He,qe,Ee);e._transport=it,Ge.send("Ready",null)})}).catch(e._capability.reject),e}function nD(a){if(a instanceof URL)return a.href;try{return new URL(a,window.location).href}catch{if(Hi&&typeof a=="string")return a}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function iD(a){if(Hi&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return H0(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="object"&&!isNaN(a==null?void 0:a.length))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function oA(a){return typeof a=="object"&&Number.isInteger(a==null?void 0:a.num)&&a.num>=0&&Number.isInteger(a==null?void 0:a.gen)&&a.gen>=0}var _0;const x0=class x0{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${ri(x0,_0)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,n;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};_0=new WeakMap,R(x0,_0,0);let A_=x0,gC=class{constructor(e,t,n=!1,s=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){an("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class rD{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Pt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var gc,Io,ys,Md,Iv;class sD{constructor(e,t,n,s=!1){R(this,ys);R(this,gc,null);R(this,Io,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=s?new GS:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new yC,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:o=!1}={}){return new Bg({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Pt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:s=Wl.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:h=null,annotationCanvasMap:d=null,pageColors:f=null,printAnnotationStorage:g=null,isEditing:v=!1}){var O,D;(O=this._stats)==null||O.time("Overall");const b=this._transport.getRenderingIntent(n,s,g,v),{renderingIntent:_,cacheKey:S}=b;A(this,Io,!1),k(this,ys,Iv).call(this),h||(h=this._transport.getOptionalContentConfig(_));let C=this._intentStates.get(S);C||(C=Object.create(null),this._intentStates.set(S,C)),C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null);const N=!!(_&zr.PRINT);C.displayReadyCapability||(C.displayReadyCapability=Promise.withResolvers(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(D=this._stats)==null||D.time("Page Request"),this._pumpOperatorList(b));const T=U=>{var Q;C.renderTasks.delete(F),(this._maybeCleanupAfterRender||N)&&A(this,Io,!0),k(this,ys,Md).call(this,!N),U?(F.capability.reject(U),this._abortOperatorList({intentState:C,reason:U instanceof Error?U:new Error(U)})):F.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Q=globalThis.Stats)!=null&&Q.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},F=new k_({callback:T,params:{canvasContext:e,viewport:t,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:C.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!N,pdfBug:this._pdfBug,pageColors:f});(C.renderTasks||(C.renderTasks=new Set)).add(F);const j=F.task;return Promise.all([C.displayReadyCapability.promise,h]).then(([U,Q])=>{var z;if(this.destroyed){T();return}if((z=this._stats)==null||z.time("Rendering"),!(Q.renderingIntent&_))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");F.initializeGraphics({transparency:U,optionalContentConfig:Q}),F.operatorListChanged()}).catch(T),j}getOperatorList({intent:e="display",annotationMode:t=Wl.ENABLE,printAnnotationStorage:n=null,isEditing:s=!1}={}){var f;function o(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(e,t,n,s,!0);let h=this._intentStates.get(l.cacheKey);h||(h=Object.create(null),this._intentStates.set(l.cacheKey,h));let d;return h.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||(h.renderTasks=new Set)).add(d),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(f=this._stats)==null||f.time("Page Request"),this._pumpOperatorList(l)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>bm.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,s){function o(){l.read().then(function({value:d,done:f}){if(f){n(h);return}h.lang??(h.lang=d.lang),Object.assign(h.styles,d.styles),h.items.push(...d.items),o()},s)}const l=t.getReader(),h={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),A(this,Io,!1),k(this,ys,Iv).call(this),Promise.all(e)}cleanup(e=!1){A(this,Io,!0);const t=k(this,ys,Md).call(this,!1);return e&&t&&this._stats&&(this._stats=new GS),t}_startRenderPage(e,t){var s,o;const n=this._intentStates.get(t);n&&((s=this._stats)==null||s.timeEnd("Page Request"),(o=n.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,t){for(let n=0,s=e.length;n<s;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&k(this,ys,Md).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:s}){const{map:o,transfer:l}=n,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:o,modifiedIds:s},l).getReader(),f=this._intentStates.get(t);f.streamReader=d;const g=()=>{d.read().then(({value:v,done:b})=>{if(b){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(v,f),g())},v=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const b of f.renderTasks)b.operatorListChanged();k(this,ys,Md).call(this,!0)}if(f.displayReadyCapability)f.displayReadyCapability.reject(v);else if(f.opListReadCapability)f.opListReadCapability.reject(v);else throw v}})};g()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof Cx){let s=KM;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new zh(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,o]of this._intentStates)if(o===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}gc=new WeakMap,Io=new WeakMap,ys=new WeakSet,Md=function(e=!1){if(k(this,ys,Iv).call(this),!c(this,Io)||this.destroyed)return!1;if(e)return A(this,gc,setTimeout(()=>{A(this,gc,null),k(this,ys,Md).call(this,!1)},QM)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),A(this,Io,!1),!0},Iv=function(){c(this,gc)&&(clearTimeout(c(this,gc)),A(this,gc,null))};var Fo,E0;class aD{constructor(){R(this,Fo,new Map);R(this,E0,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};c(this,E0).then(()=>{for(const[s]of c(this,Fo))s.call(this,n)})}addEventListener(e,t,n=null){let s=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:o}=n;if(o.aborted){vt("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(e,t);s=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}c(this,Fo).set(t,s)}removeEventListener(e,t){const n=c(this,Fo).get(t);n==null||n(),c(this,Fo).delete(t)}terminate(){for(const[,e]of c(this,Fo))e==null||e();c(this,Fo).clear()}}Fo=new WeakMap,E0=new WeakMap;var S0,rh,sh,Af,Fv,Cf,Ov;const ln=class ln{constructor({name:e=null,port:t=null,verbosity:n=jN()}={}){R(this,Af);var s;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((s=c(ln,sh))!=null&&s.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(c(ln,sh)||A(ln,sh,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Hi?Promise.all([Lc.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new rm("main","worker",e),this._messageHandler.on("ready",function(){}),k(this,Af,Fv).call(this)}_initialize(){if(c(ln,rh)||c(ln,Cf,Ov)){this._setupFakeWorker();return}let{workerSrc:e}=ln;try{ln._isSameOrigin(window.location.href,e)||(e=ln._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new rm("main","worker",t),s=()=>{o.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;t.addEventListener("error",()=>{this._webWorker||s()},{signal:o.signal}),n.on("test",h=>{if(o.abort(),this.destroyed||!h){s();return}this._messageHandler=n,this._port=t,this._webWorker=t,k(this,Af,Fv).call(this)}),n.on("ready",h=>{if(o.abort(),this.destroyed){s();return}try{l()}catch{this._setupFakeWorker()}});const l=()=>{const h=new Uint8Array;n.send("test",h,[h.buffer])};l();return}catch{O0("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){c(ln,rh)||(vt("Setting up fake worker."),A(ln,rh,!0)),ln._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new aD;this._port=t;const n=`fake${ri(ln,S0)._++}`,s=new rm(n+"_worker",n,t);e.setup(s,t),this._messageHandler=new rm(n,n+"_worker",t),k(this,Af,Fv).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=c(ln,sh))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(n=c(this,sh))==null?void 0:n.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new ln(e)}static get workerSrc(){if(Jo.workerSrc)return Jo.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Pt(this,"_setupFakeWorkerGlobal",(async()=>c(this,Cf,Ov)?c(this,Cf,Ov):(await import(this.workerSrc)).WorkerMessageHandler)())}};S0=new WeakMap,rh=new WeakMap,sh=new WeakMap,Af=new WeakSet,Fv=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Cf=new WeakSet,Ov=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},R(ln,Cf),R(ln,S0,0),R(ln,rh,!1),R(ln,sh),Hi&&(A(ln,rh,!0),Jo.workerSrc||(Jo.workerSrc="./pdf.worker.mjs")),ln._isSameOrigin=(e,t)=>{let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const s=new URL(t,n);return n.origin===s.origin},ln._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let Hd=ln;var Oo,Ba,kf,Tf,Ua,ah,sm;class oD{constructor(e,t,n,s,o){R(this,ah);R(this,Oo,new Map);R(this,Ba,new Map);R(this,kf,new Map);R(this,Tf,new Map);R(this,Ua,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new yC,this.fontLoader=new rM({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Pt(this,"annotationStorage",new Rx)}getRenderingIntent(e,t=Wl.ENABLE,n=null,s=!1,o=!1){let l=zr.DISPLAY,h=f_;switch(e){case"any":l=zr.ANY;break;case"display":break;case"print":l=zr.PRINT;break;default:vt(`getRenderingIntent - invalid intent: ${e}`)}const d=l&zr.PRINT&&n instanceof X1?n:this.annotationStorage;switch(t){case Wl.DISABLE:l+=zr.ANNOTATIONS_DISABLE;break;case Wl.ENABLE:break;case Wl.ENABLE_FORMS:l+=zr.ANNOTATIONS_FORMS;break;case Wl.ENABLE_STORAGE:l+=zr.ANNOTATIONS_STORAGE,h=d.serializable;break;default:vt(`getRenderingIntent - invalid annotationMode: ${t}`)}s&&(l+=zr.IS_EDITING),o&&(l+=zr.OPLIST);const{ids:f,hash:g}=d.modifiedIds,v=[l,h.hash,g];return{renderingIntent:l,cacheKey:v.join("_"),annotationStorageSerializable:h,modifiedIds:f}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=c(this,Ua))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of c(this,Ba).values())e.push(s._destroy());c(this,Ba).clear(),c(this,kf).clear(),c(this,Tf).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var s;this.commonObjs.clear(),this.fontLoader.clear(),c(this,Oo).clear(),this.filterFactory.destroy(),x_.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new zh("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,s)=>{Kn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},s.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){s.close();return}Kn(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{this._fullReader.cancel(o),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",async n=>{var h;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:o,contentLength:l}=this._fullReader;return(!s||!o)&&(this._lastProgress&&((h=t.onProgress)==null||h.call(t,this._lastProgress)),this._fullReader.onProgress=d=>{var f;(f=t.onProgress)==null||f.call(t,{loaded:d.loaded,total:d.total})}),{isStreamingSupported:s,isRangeSupported:o,contentLength:l}}),e.on("GetRangeReader",(n,s)=>{Kn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){s.close();return}s.onPull=()=>{o.read().then(function({value:l,done:h}){if(h){s.close();return}Kn(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{s.error(l)})},s.onCancel=l=>{o.cancel(l),s.ready.catch(h=>{if(!this.destroyed)throw h})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new rD(n,this))}),e.on("DocException",function(n){let s;switch(n.name){case"PasswordException":s=new Ww(n.message,n.code);break;case"InvalidPDFException":s=new w1(n.message);break;case"MissingPDFException":s=new $h(n.message);break;case"UnexpectedResponseException":s=new j0(n.message,n.status);break;case"UnknownErrorException":s=new Vw(n.message,n.details);break;default:an("DocException - expected a valid Error.")}t._capability.reject(s)}),e.on("PasswordRequest",n=>{if(A(this,Ua,Promise.withResolvers()),t.onPassword){const s=o=>{o instanceof Error?c(this,Ua).reject(o):c(this,Ua).resolve({password:o})};try{t.onPassword(s,n.code)}catch(o){c(this,Ua).reject(o)}}else c(this,Ua).reject(new Ww(n.message,n.code));return c(this,Ua).promise}),e.on("DataLoaded",n=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;c(this,Ba).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,s,o])=>{var l;if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":const{disableFontFace:h,fontExtraProperties:d,pdfBug:f}=this._params;if("error"in o){const _=o.error;vt(`Error during font loading: ${_}`),this.commonObjs.resolve(n,_);break}const g=f&&((l=globalThis.FontInspector)!=null&&l.enabled)?(_,S)=>globalThis.FontInspector.fontAdded(_,S):null,v=new sM(o,{disableFontFace:h,inspectFont:g});this.fontLoader.bind(v).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!d&&v.data&&(v.data=null),this.commonObjs.resolve(n,v)});break;case"CopyLocalImage":const{imageRef:b}=o;Kn(b,"The imageRef must be defined.");for(const _ of c(this,Ba).values())for(const[,S]of _.objs)if((S==null?void 0:S.ref)===b)return S.dataLen?(this.commonObjs.resolve(n,structuredClone(S)),S.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([n,s,o,l])=>{var d;if(this.destroyed)return;const h=c(this,Ba).get(s);if(!h.objs.has(n)){if(h._intentStates.size===0){(d=l==null?void 0:l.bitmap)==null||d.close();return}switch(o){case"Image":h.objs.resolve(n,l),(l==null?void 0:l.dataLen)>MN&&(h._maybeCleanupAfterRender=!0);break;case"Pattern":h.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",n=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),e.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&vt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=c(this,kf).get(t);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&c(this,Tf).set(o.refStr,e);const l=new sD(t,o,this,this._params.pdfBug);return c(this,Ba).set(t,l),l});return c(this,kf).set(t,s),s}getPageIndex(e){return oA(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return k(this,ah,sm).call(this,"GetFieldObjects")}hasJSActions(){return k(this,ah,sm).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return k(this,ah,sm).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return k(this,ah,sm).call(this,"GetOptionalContentConfig").then(t=>new kM(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=c(this,Oo).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(s=>{var o,l;return{info:s[0],metadata:s[1]?new AM(s[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((l=this._fullReader)==null?void 0:l.contentLength)??null}});return c(this,Oo).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of c(this,Ba).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,Oo).clear(),this.filterFactory.destroy(!0),x_.cleanup()}}cachedPageNumber(e){if(!oA(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,Tf).get(t)??null}}Oo=new WeakMap,Ba=new WeakMap,kf=new WeakMap,Tf=new WeakMap,Ua=new WeakMap,ah=new WeakSet,sm=function(e,t=null){const n=c(this,Oo).get(e);if(n)return n;const s=this.messageHandler.sendWithPromise(e,t);return c(this,Oo).set(e,s),s};const gv=Symbol("INITIAL_DATA");var Vs,ag,C_;class yC{constructor(){R(this,ag);R(this,Vs,Object.create(null))}get(e,t=null){if(t){const s=k(this,ag,C_).call(this,e);return s.promise.then(()=>t(s.data)),null}const n=c(this,Vs)[e];if(!n||n.data===gv)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=c(this,Vs)[e];return!!t&&t.data!==gv}resolve(e,t=null){const n=k(this,ag,C_).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in c(this,Vs)){const{data:n}=c(this,Vs)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}A(this,Vs,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,Vs)){const{data:t}=c(this,Vs)[e];t!==gv&&(yield[e,t])}}}Vs=new WeakMap,ag=new WeakSet,C_=function(e){var t;return(t=c(this,Vs))[e]||(t[e]={...Promise.withResolvers(),data:gv})};var yc;class lD{constructor(e){R(this,yc,null);A(this,yc,e),this.onContinue=null}get promise(){return c(this,yc).capability.promise}cancel(e=0){c(this,yc).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,yc).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=c(this,yc);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}yc=new WeakMap;var vc,oh;const Su=class Su{constructor({callback:e,params:t,objs:n,commonObjs:s,annotationCanvasMap:o,operatorList:l,pageIndex:h,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:g=!1,pdfBug:v=!1,pageColors:b=null}){R(this,vc,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=h,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=v,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new lD(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var h,d;if(this.cancelled)return;if(this._canvas){if(c(Su,oh).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(Su,oh).add(this._canvas)}this._pdfBug&&((h=globalThis.StepperManager)!=null&&h.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:s,transform:o,background:l}=this.params;this.gfx=new jd(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:s,transparency:e,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(e=null,t=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),c(this,vc)&&(window.cancelAnimationFrame(c(this,vc)),A(this,vc,null)),c(Su,oh).delete(this._canvas),this.callback(e||new Cx(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?A(this,vc,window.requestAnimationFrame(()=>{A(this,vc,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(Su,oh).delete(this._canvas),this.callback())))}};vc=new WeakMap,oh=new WeakMap,R(Su,oh,new WeakSet);let k_=Su;const cD="4.8.69",uD="3634dab10";function lA(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function Xp(a){return Math.max(0,Math.min(255,255*a))}class cA{static CMYK_G([e,t,n,s]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Xp(e),[e,e,e]}static G_HTML([e]){const t=lA(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Xp)}static RGB_HTML(e){return`#${e.map(lA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,n+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,n,s]){return[Xp(1-Math.min(1,e+s)),Xp(1-Math.min(1,n+s)),Xp(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const s=1-e,o=1-t,l=1-n,h=Math.min(s,o,l);return["CMYK",s,o,l,h]}}class hD{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){an("Abstract method `_createSVG` called.")}}class Ix extends hD{_createSVG(e){return document.createElementNS(Eo,e)}}class vC{static setupStorage(e,t,n,s,o){const l=s.getValue(t,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),o==="print")break;e.addEventListener("input",h=>{s.setValue(t,{value:h.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?e.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",h=>{s.setValue(t,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),o==="print")break;e.addEventListener("input",h=>{s.setValue(t,{value:h.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const h of n.children)h.attributes.value===l.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}e.addEventListener("input",h=>{const d=h.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;s.setValue(t,{value:f})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:s,linkService:o}){const{attributes:l}=t,h=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${s}`);for(const[d,f]of Object.entries(l))if(f!=null)switch(d){case"class":f.length&&e.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",f);break;case"style":Object.assign(e.style,f);break;case"textContent":e.textContent=f;break;default:(!h||d!=="href"&&d!=="newWindow")&&e.setAttribute(d,f)}h&&o.addLinkAttributes(e,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(e,l.dataId,t,n)}static render(e){var v,b;const t=e.annotationStorage,n=e.linkService,s=e.xfaHtml,o=e.intent||"display",l=document.createElement(s.name);s.attributes&&this.setAttributes({html:l,element:s,intent:o,linkService:n});const h=o!=="richText",d=e.div;if(d.append(l),e.viewport){const _=`matrix(${e.viewport.transform.join(",")})`;d.style.transform=_}h&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(s.children.length===0){if(s.value){const _=document.createTextNode(s.value);l.append(_),h&&bm.shouldBuildText(s.name)&&f.push(_)}return{textDivs:f}}const g=[[s,-1,l]];for(;g.length>0;){const[_,S,C]=g.at(-1);if(S+1===_.children.length){g.pop();continue}const N=_.children[++g.at(-1)[1]];if(N===null)continue;const{name:T}=N;if(T==="#text"){const j=document.createTextNode(N.value);f.push(j),C.append(j);continue}const F=(v=N==null?void 0:N.attributes)!=null&&v.xmlns?document.createElementNS(N.attributes.xmlns,T):document.createElement(T);if(C.append(F),N.attributes&&this.setAttributes({html:F,element:N,storage:t,intent:o,linkService:n}),((b=N.children)==null?void 0:b.length)>0)g.push([N,-1,F]);else if(N.value){const j=document.createTextNode(N.value);h&&bm.shouldBuildText(T)&&f.push(j),F.append(j)}}for(const _ of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))_.setAttribute("readOnly",!0);return{textDivs:f}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const qg=1e3,dD=9,Mh=new WeakSet;function Zo(a){return{width:a[2]-a[0],height:a[3]-a[1]}}class fD{static create(e){switch(e.data.annotationType){case qn.LINK:return new bC(e);case qn.TEXT:return new pD(e);case qn.WIDGET:switch(e.data.fieldType){case"Tx":return new mD(e);case"Btn":return e.data.radioButton?new xC(e):e.data.checkBox?new yD(e):new vD(e);case"Ch":return new bD(e);case"Sig":return new gD(e)}return new Bh(e);case qn.POPUP:return new P_(e);case qn.FREETEXT:return new kC(e);case qn.LINE:return new _D(e);case qn.SQUARE:return new xD(e);case qn.CIRCLE:return new ED(e);case qn.POLYLINE:return new TC(e);case qn.CARET:return new AD(e);case qn.INK:return new Fx(e);case qn.POLYGON:return new SD(e);case qn.HIGHLIGHT:return new PC(e);case qn.UNDERLINE:return new CD(e);case qn.SQUIGGLY:return new kD(e);case qn.STRIKEOUT:return new TD(e);case qn.STAMP:return new RC(e);case qn.FILEATTACHMENT:return new PD(e);default:return new Rn(e)}}}var lh,Pf,Rf,og,T_;const $x=class $x{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){R(this,og);R(this,lh,null);R(this,Pf,!1);R(this,Rf,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return $x._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;c(this,lh)||A(this,lh,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&k(this,og,T_).call(this,t),(n=c(this,Rf))==null||n.popup.updateEdited(e)}resetEdited(){var e;c(this,lh)&&(k(this,og,T_).call(this,c(this,lh).rect),(e=c(this,Rf))==null||e.popup.resetEdited(),A(this,lh,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:s}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof Bh||(o.tabIndex=qg);const{style:l}=o;if(l.zIndex=this.parent.zIndex++,t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof P_){const{rotation:C}=t;return!t.hasOwnCanvas&&C!==0&&this.setRotation(C,o),o}const{width:h,height:d}=Zo(t.rect);if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const C=t.borderStyle.horizontalCornerRadius,N=t.borderStyle.verticalCornerRadius;if(C>0||N>0){const F=`calc(${C}px * var(--scale-factor)) / calc(${N}px * var(--scale-factor))`;l.borderRadius=F}else if(this instanceof xC){const F=`calc(${h}px * var(--scale-factor)) / calc(${d}px * var(--scale-factor))`;l.borderRadius=F}switch(t.borderStyle.style){case Vp.SOLID:l.borderStyle="solid";break;case Vp.DASHED:l.borderStyle="dashed";break;case Vp.BEVELED:vt("Unimplemented border style: beveled");break;case Vp.INSET:vt("Unimplemented border style: inset");break;case Vp.UNDERLINE:l.borderBottomStyle="solid";break}const T=t.borderColor||null;T?(A(this,Pf,!0),l.borderColor=Ye.makeHexColor(T[0]|0,T[1]|0,T[2]|0)):l.borderWidth=0}const f=Ye.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:g,pageHeight:v,pageX:b,pageY:_}=s.rawDims;l.left=`${100*(f[0]-b)/g}%`,l.top=`${100*(f[1]-_)/v}%`;const{rotation:S}=t;return t.hasOwnCanvas||S===0?(l.width=`${100*h/g}%`,l.height=`${100*d/v}%`):this.setRotation(S,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims,{width:o,height:l}=Zo(this.data.rect);let h,d;e%180===0?(h=100*o/n,d=100*l/s):(h=100*l/n,d=100*o/s),t.style.width=`${h}%`,t.style.height=`${d}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,s)=>{const o=s.detail[t],l=o[0],h=o.slice(1);s.target.style[n]=cA[`${l}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[n]:cA[`${l}_rgb`](h)})};return Pt(this,"_commonActions",{display:t=>{const{display:n}=t.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const s of Object.keys(t.detail)){const o=e[s]||n[s];o==null||o(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[s,o]of Object.entries(t)){const l=n[s];if(l){const h={detail:{[s]:o},target:e};l(h),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,s,o]=this.data.rect.map(C=>Math.fround(C));if(e.length===8){const[C,N,T,F]=e.subarray(2,6);if(s===C&&o===N&&t===T&&n===F)return}const{style:l}=this.container;let h;if(c(this,Pf)){const{borderColor:C,borderWidth:N}=l;l.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${C}" stroke-width="${N}">`],this.container.classList.add("hasBorder")}const d=s-t,f=o-n,{svgFactory:g}=this,v=g.createElement("svg");v.classList.add("quadrilateralsContainer"),v.setAttribute("width",0),v.setAttribute("height",0);const b=g.createElement("defs");v.append(b);const _=g.createElement("clipPath"),S=`clippath_${this.data.id}`;_.setAttribute("id",S),_.setAttribute("clipPathUnits","objectBoundingBox"),b.append(_);for(let C=2,N=e.length;C<N;C+=8){const T=e[C],F=e[C+1],j=e[C+2],O=e[C+3],D=g.createElement("rect"),U=(j-t)/d,Q=(o-F)/f,z=(T-j)/d,K=(F-O)/f;D.setAttribute("x",U),D.setAttribute("y",Q),D.setAttribute("width",z),D.setAttribute("height",K),_.append(D),h==null||h.push(`<rect vector-effect="non-scaling-stroke" x="${U}" y="${Q}" width="${z}" height="${K}"/>`)}c(this,Pf)&&(h.push("</g></svg>')"),l.backgroundImage=h.join("")),this.container.append(v),this.container.style.clipPath=`url(#${S})`}_createPopup(){const{data:e}=this,t=A(this,Rf,new P_({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){an("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:o,id:l,exportValues:h}of s){if(o===-1||l===t)continue;const d=typeof h=="string"?h:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!Mh.has(f)){vt(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:d,domElement:f})}return n}for(const s of document.getElementsByName(e)){const{exportValue:o}=s,l=s.getAttribute("data-element-id");l!==t&&Mh.has(s)&&n.push({id:l,exportValue:o,domElement:s})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};lh=new WeakMap,Pf=new WeakMap,Rf=new WeakMap,og=new WeakSet,T_=function(e){const{container:{style:t},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:h,pageY:d}}}}=this;n==null||n.splice(0,4,...e);const{width:f,height:g}=Zo(e);t.left=`${100*(e[0]-h)/o}%`,t.top=`${100*(l-e[3]+d)/l}%`,s===0?(t.width=`${100*f/o}%`,t.height=`${100*g/l}%`):this.setRotation(s)};let Rn=$x;var Ur,vu,wC,_C;class bC extends Rn{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});R(this,Ur);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let o=!1;return t.url?(n.addLinkAttributes(s,t.url,t.newWindow),o=!0):t.action?(this._bindNamedAction(s,t.action),o=!0):t.attachment?(k(this,Ur,wC).call(this,s,t.attachment,t.attachmentDest),o=!0):t.setOCGState?(k(this,Ur,_C).call(this,s,t.setOCGState),o=!0):t.dest?(this._bindLink(s,t.dest),o=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),o=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(s,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(s),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&k(this,Ur,vu).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),k(this,Ur,vu).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(n.actions)){const l=s.get(o);l&&(t[l]=()=>{var h;return(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:o}}),!1})}t.onclick||(t.onclick=()=>!1),k(this,Ur,vu).call(this)}_bindResetFormAction(t,n){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),k(this,Ur,vu).call(this),!this._fieldObjects){vt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var v;s==null||s();const{fields:o,refs:l,include:h}=n,d=[];if(o.length!==0||l.length!==0){const b=new Set(l);for(const _ of o){const S=this._fieldObjects[_]||[];for(const{id:C}of S)b.add(C)}for(const _ of Object.values(this._fieldObjects))for(const S of _)b.has(S.id)===h&&d.push(S)}else for(const b of Object.values(this._fieldObjects))d.push(...b);const f=this.annotationStorage,g=[];for(const b of d){const{id:_}=b;switch(g.push(_),b.type){case"text":{const C=b.defaultValue||"";f.setValue(_,{value:C});break}case"checkbox":case"radiobutton":{const C=b.defaultValue===b.exportValues;f.setValue(_,{value:C});break}case"combobox":case"listbox":{const C=b.defaultValue||"";f.setValue(_,{value:C});break}default:continue}const S=document.querySelector(`[data-element-id="${_}"]`);if(S){if(!Mh.has(S)){vt(`_bindResetFormAction - element not allowed: ${_}`);continue}}else continue;S.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:g,name:"ResetForm"}})),!1}}}Ur=new WeakSet,vu=function(){this.container.setAttribute("data-internal-link","")},wC=function(t,n,s=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(n.content,n.filename,s),!1},k(this,Ur,vu).call(this)},_C=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),k(this,Ur,vu).call(this)};class pD extends Rn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Bh extends Rn{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Yi.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,s,o){n.includes("mouse")?e.addEventListener(n,l=>{var h;(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(n,l=>{var h;if(n==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}o&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(l)}}))})}_setEventListeners(e,t,n,s){var o,l,h;for(const[d,f]of n)(f==="Action"||(o=this.data.actions)!=null&&o[f])&&((f==="Focus"||f==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,d,f,s),f==="Focus"&&!((l=this.data.actions)!=null&&l.Blur)?this._setEventListener(e,t,"blur","Blur",null):f==="Blur"&&!((h=this.data.actions)!=null&&h.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ye.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||dD,o=e.style;let l;const h=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-h),g=Math.round(f/(yw*s))||1,v=f/g;l=Math.min(s,d(v/yw))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-h);l=Math.min(s,d(f/yw))}o.fontSize=`calc(${l}px * var(--scale-factor))`,o.color=Ye.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class mD extends Bh{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,s){const o=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=n),o.setValue(l.id,{[s]:n})}render(){var s,o;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const l=e.getValue(t,{value:this.data.fieldValue});let h=l.value||"";const d=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;d&&h.length>d&&(h=h.slice(0,d));let f=l.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;f&&this.data.comb&&(f=f.replaceAll(/\s+/g,""));const g={userValue:h,formattedValue:f,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=f??h,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",f??h),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Mh.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=qg,this._setRequired(n,this.data.required),d&&(n.maxLength=d),n.addEventListener("input",b=>{e.setValue(t,{value:b.target.value}),this.setPropertyOnSiblings(n,"value",b.target.value,"value"),g.formattedValue=null}),n.addEventListener("resetform",b=>{const _=this.data.defaultFieldValue??"";n.value=g.userValue=_,g.formattedValue=null});let v=b=>{const{formattedValue:_}=g;_!=null&&(b.target.value=_),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",_=>{var C;if(g.focused)return;const{target:S}=_;g.userValue&&(S.value=g.userValue),g.lastCommittedValue=S.value,g.commitKey=1,(C=this.data.actions)!=null&&C.Focus||(g.focused=!0)}),n.addEventListener("updatefromsandbox",_=>{this.showElementAndHideCanvas(_.target);const S={value(C){g.userValue=C.detail.value??"",e.setValue(t,{value:g.userValue.toString()}),C.target.value=g.userValue},formattedValue(C){const{formattedValue:N}=C.detail;g.formattedValue=N,N!=null&&C.target!==document.activeElement&&(C.target.value=N),e.setValue(t,{formattedValue:N})},selRange(C){C.target.setSelectionRange(...C.detail.selRange)},charLimit:C=>{var j;const{charLimit:N}=C.detail,{target:T}=C;if(N===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",N);let F=g.userValue;!F||F.length<=N||(F=F.slice(0,N),T.value=g.userValue=F,e.setValue(t,{value:F}),(j=this.linkService.eventBus)==null||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:F,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(S,_)}),n.addEventListener("keydown",_=>{var N;g.commitKey=1;let S=-1;if(_.key==="Escape"?S=0:_.key==="Enter"&&!this.data.multiLine?S=2:_.key==="Tab"&&(g.commitKey=3),S===-1)return;const{value:C}=_.target;g.lastCommittedValue!==C&&(g.lastCommittedValue=C,g.userValue=C,(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,willCommit:!0,commitKey:S,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}}))});const b=v;v=null,n.addEventListener("blur",_=>{var C,N;if(!g.focused||!_.relatedTarget)return;(C=this.data.actions)!=null&&C.Blur||(g.focused=!1);const{value:S}=_.target;g.userValue=S,g.lastCommittedValue!==S&&((N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,willCommit:!0,commitKey:g.commitKey,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}})),b(_)}),(o=this.data.actions)!=null&&o.Keystroke&&n.addEventListener("beforeinput",_=>{var D;g.lastCommittedValue=null;const{data:S,target:C}=_,{value:N,selectionStart:T,selectionEnd:F}=C;let j=T,O=F;switch(_.inputType){case"deleteWordBackward":{const U=N.substring(0,T).match(/\w*[^\w]*$/);U&&(j-=U[0].length);break}case"deleteWordForward":{const U=N.substring(T).match(/^[^\w]*\w*/);U&&(O+=U[0].length);break}case"deleteContentBackward":T===F&&(j-=1);break;case"deleteContentForward":T===F&&(O+=1);break}_.preventDefault(),(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:N,change:S||"",willCommit:!1,selStart:j,selEnd:O}})}),this._setEventListeners(n,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_=>_.target.value)}if(v&&n.addEventListener("blur",v),this.data.comb){const _=(this.data.rect[2]-this.data.rect[0])/d;n.classList.add("comb"),n.style.letterSpacing=`calc(${_}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class gD extends Bh{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class yD extends Bh{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return Mh.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,s&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=qg,o.addEventListener("change",l=>{const{name:h,checked:d}=l.target;for(const f of this._getElementsByName(h,n)){const g=d&&f.exportValue===t.exportValue;f.domElement&&(f.domElement.checked=g),e.setValue(f.id,{value:g})}e.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const h=t.defaultFieldValue||"Off";l.target.checked=h===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const h={value(d){d.target.checked=d.detail.value!=="Off",e.setValue(n,{value:d.target.checked})}};this._dispatchEventFromSandbox(h,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class xC extends Bh{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(n,{value:s})),s)for(const l of this._getElementsByName(t.fieldName,n))e.setValue(l.id,{value:!1});const o=document.createElement("input");if(Mh.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,s&&o.setAttribute("checked",!0),o.tabIndex=qg,o.addEventListener("change",l=>{const{name:h,checked:d}=l.target;for(const f of this._getElementsByName(h,n))e.setValue(f.id,{value:!1});e.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const h=t.defaultFieldValue;l.target.checked=h!=null&&h===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;o.addEventListener("updatefromsandbox",h=>{const d={value:f=>{const g=l===f.detail.value;for(const v of this._getElementsByName(f.target.name)){const b=g&&v.id===n;v.domElement&&(v.domElement.checked=b),e.setValue(v.id,{value:b})}}};this._dispatchEventFromSandbox(d,h)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class vD extends bC{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class bD extends Bh{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");Mh.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=qg;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",g=>{const v=this.data.defaultFieldValue;for(const b of s.options)b.selected=b.value===v});for(const g of this.data.options){const v=document.createElement("option");v.textContent=g.displayValue,v.value=g.exportValue,n.value.includes(g.exportValue)&&(v.setAttribute("selected",!0),o=!1),s.append(v)}let l=null;if(o){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),s.prepend(g),l=()=>{g.remove(),s.removeEventListener("input",l),l=null},s.addEventListener("input",l)}const h=g=>{const v=g?"value":"textContent",{options:b,multiple:_}=s;return _?Array.prototype.filter.call(b,S=>S.selected).map(S=>S[v]):b.selectedIndex===-1?null:b[b.selectedIndex][v]};let d=h(!1);const f=g=>{const v=g.target.options;return Array.prototype.map.call(v,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",g=>{const v={value(b){l==null||l();const _=b.detail.value,S=new Set(Array.isArray(_)?_:[_]);for(const C of s.options)C.selected=S.has(C.value);e.setValue(t,{value:h(!0)}),d=h(!1)},multipleSelection(b){s.multiple=!0},remove(b){const _=s.options,S=b.detail.remove;_[S].selected=!1,s.remove(S),_.length>0&&Array.prototype.findIndex.call(_,N=>N.selected)===-1&&(_[0].selected=!0),e.setValue(t,{value:h(!0),items:f(b)}),d=h(!1)},clear(b){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),d=h(!1)},insert(b){const{index:_,displayValue:S,exportValue:C}=b.detail.insert,N=s.children[_],T=document.createElement("option");T.textContent=S,T.value=C,N?N.before(T):s.append(T),e.setValue(t,{value:h(!0),items:f(b)}),d=h(!1)},items(b){const{items:_}=b.detail;for(;s.length!==0;)s.remove(0);for(const S of _){const{displayValue:C,exportValue:N}=S,T=document.createElement("option");T.textContent=C,T.value=N,s.append(T)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:h(!0),items:f(b)}),d=h(!1)},indices(b){const _=new Set(b.detail.indices);for(const S of b.target.options)S.selected=_.has(S.index);e.setValue(t,{value:h(!0)}),d=h(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(v,g)}),s.addEventListener("input",g=>{var _;const v=h(!0),b=h(!1);e.setValue(t,{value:v}),g.preventDefault(),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:d,change:b,changeEx:v,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):s.addEventListener("input",function(g){e.setValue(t,{value:h(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class P_ extends Rn{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:Rn._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new wD({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${Ax}${n}`).join(",")),this.container}}var Lf,A0,C0,Nf,ch,En,jo,Mf,lg,cg,Df,Ho,Gs,$o,ug,zo,hg,uh,hh,Jt,jv,R_,EC,SC,AC,CC,Hv,$v,L_;class wD{constructor({container:e,color:t,elements:n,titleObj:s,modificationDate:o,contentsObj:l,richText:h,parent:d,rect:f,parentRect:g,open:v}){R(this,Jt);R(this,Lf,k(this,Jt,AC).bind(this));R(this,A0,k(this,Jt,L_).bind(this));R(this,C0,k(this,Jt,$v).bind(this));R(this,Nf,k(this,Jt,Hv).bind(this));R(this,ch,null);R(this,En,null);R(this,jo,null);R(this,Mf,null);R(this,lg,null);R(this,cg,null);R(this,Df,null);R(this,Ho,!1);R(this,Gs,null);R(this,$o,null);R(this,ug,null);R(this,zo,null);R(this,hg,null);R(this,uh,null);R(this,hh,!1);var b;A(this,En,e),A(this,hg,s),A(this,jo,l),A(this,zo,h),A(this,cg,d),A(this,ch,t),A(this,ug,f),A(this,Df,g),A(this,lg,n),A(this,Mf,Tx.toDateObject(o)),this.trigger=n.flatMap(_=>_.getElementsToTriggerPopup());for(const _ of this.trigger)_.addEventListener("click",c(this,Nf)),_.addEventListener("mouseenter",c(this,C0)),_.addEventListener("mouseleave",c(this,A0)),_.classList.add("popupTriggerArea");for(const _ of n)(b=_.container)==null||b.addEventListener("keydown",c(this,Lf));c(this,En).hidden=!0,v&&k(this,Jt,Hv).call(this)}render(){if(c(this,Gs))return;const e=A(this,Gs,document.createElement("div"));if(e.className="popup",c(this,ch)){const o=e.style.outlineColor=Ye.makeHexColor(...c(this,ch));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=Ye.makeHexColor(...c(this,ch).map(h=>Math.floor(.7*(255-h)+h)))}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=c(this,hg),e.append(t),c(this,Mf)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:c(this,Mf).valueOf()})),t.append(o)}const s=c(this,Jt,jv);if(s)vC.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(c(this,jo));e.append(o)}c(this,En).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const s=e.split(/(?:\r\n?|\n)/);for(let o=0,l=s.length;o<l;++o){const h=s[o];n.append(document.createTextNode(h)),o<l-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;c(this,uh)||A(this,uh,{contentsObj:c(this,jo),richText:c(this,zo)}),e&&A(this,$o,null),t&&(A(this,zo,k(this,Jt,SC).call(this,t)),A(this,jo,null)),(n=c(this,Gs))==null||n.remove(),A(this,Gs,null)}resetEdited(){var e;c(this,uh)&&({contentsObj:ri(this,jo)._,richText:ri(this,zo)._}=c(this,uh),A(this,uh,null),(e=c(this,Gs))==null||e.remove(),A(this,Gs,null),A(this,$o,null))}forceHide(){A(this,hh,this.isVisible),c(this,hh)&&(c(this,En).hidden=!0)}maybeShow(){c(this,hh)&&(c(this,Gs)||k(this,Jt,$v).call(this),A(this,hh,!1),c(this,En).hidden=!1)}get isVisible(){return c(this,En).hidden===!1}}Lf=new WeakMap,A0=new WeakMap,C0=new WeakMap,Nf=new WeakMap,ch=new WeakMap,En=new WeakMap,jo=new WeakMap,Mf=new WeakMap,lg=new WeakMap,cg=new WeakMap,Df=new WeakMap,Ho=new WeakMap,Gs=new WeakMap,$o=new WeakMap,ug=new WeakMap,zo=new WeakMap,hg=new WeakMap,uh=new WeakMap,hh=new WeakMap,Jt=new WeakSet,jv=function(){const e=c(this,zo),t=c(this,jo);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&c(this,zo).html||null},R_=function(){var e,t,n;return((n=(t=(e=c(this,Jt,jv))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},EC=function(){var e,t,n;return((n=(t=(e=c(this,Jt,jv))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},SC=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:c(this,Jt,EC),fontSize:c(this,Jt,R_)?`calc(${c(this,Jt,R_)}px * var(--scale-factor))`:""}};for(const o of e.split(`
`))t.push({name:"span",value:o,attributes:s});return n},AC=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&c(this,Ho))&&k(this,Jt,Hv).call(this)},CC=function(){if(c(this,$o)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:s,pageY:o}}}=c(this,cg);let l=!!c(this,Df),h=l?c(this,Df):c(this,ug);for(const S of c(this,lg))if(!h||Ye.intersect(S.data.rect,h)!==null){h=S.data.rect,l=!0;break}const d=Ye.normalizeRect([h[0],e[3]-h[1]+e[1],h[2],e[3]-h[3]+e[1]]),g=l?h[2]-h[0]+5:0,v=d[0]+g,b=d[1];A(this,$o,[100*(v-s)/t,100*(b-o)/n]);const{style:_}=c(this,En);_.left=`${c(this,$o)[0]}%`,_.top=`${c(this,$o)[1]}%`},Hv=function(){A(this,Ho,!c(this,Ho)),c(this,Ho)?(k(this,Jt,$v).call(this),c(this,En).addEventListener("click",c(this,Nf)),c(this,En).addEventListener("keydown",c(this,Lf))):(k(this,Jt,L_).call(this),c(this,En).removeEventListener("click",c(this,Nf)),c(this,En).removeEventListener("keydown",c(this,Lf)))},$v=function(){c(this,Gs)||this.render(),this.isVisible?c(this,Ho)&&c(this,En).classList.add("focused"):(k(this,Jt,CC).call(this),c(this,En).hidden=!1,c(this,En).style.zIndex=parseInt(c(this,En).style.zIndex)+1e3)},L_=function(){c(this,En).classList.remove("focused"),!(c(this,Ho)||!this.isVisible)&&(c(this,En).hidden=!0,c(this,En).style.zIndex=parseInt(c(this,En).style.zIndex)-1e3)};class kC extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=gt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var dg;class _D extends Rn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});R(this,dg,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:s}=Zo(t.rect),o=this.svgFactory.create(n,s,!0),l=A(this,dg,this.svgFactory.createElement("svg:line"));return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),o.append(l),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,dg)}addHighlightArea(){this.container.classList.add("highlightArea")}}dg=new WeakMap;var fg;class xD extends Rn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});R(this,fg,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:s}=Zo(t.rect),o=this.svgFactory.create(n,s,!0),l=t.borderStyle.width,h=A(this,fg,this.svgFactory.createElement("svg:rect"));return h.setAttribute("x",l/2),h.setAttribute("y",l/2),h.setAttribute("width",n-l),h.setAttribute("height",s-l),h.setAttribute("stroke-width",l||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),o.append(h),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,fg)}addHighlightArea(){this.container.classList.add("highlightArea")}}fg=new WeakMap;var pg;class ED extends Rn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});R(this,pg,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:s}=Zo(t.rect),o=this.svgFactory.create(n,s,!0),l=t.borderStyle.width,h=A(this,pg,this.svgFactory.createElement("svg:ellipse"));return h.setAttribute("cx",n/2),h.setAttribute("cy",s/2),h.setAttribute("rx",n/2-l/2),h.setAttribute("ry",s/2-l/2),h.setAttribute("stroke-width",l||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),o.append(h),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,pg)}addHighlightArea(){this.container.classList.add("highlightArea")}}pg=new WeakMap;var mg;class TC extends Rn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});R(this,mg,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:s,popupRef:o}}=this;if(!n)return this.container;const{width:l,height:h}=Zo(t),d=this.svgFactory.create(l,h,!0);let f=[];for(let v=0,b=n.length;v<b;v+=2){const _=n[v]-t[0],S=t[3]-n[v+1];f.push(`${_},${S}`)}f=f.join(" ");const g=A(this,mg,this.svgFactory.createElement(this.svgElementName));return g.setAttribute("points",f),g.setAttribute("stroke-width",s.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),d.append(g),this.container.append(d),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,mg)}addHighlightArea(){this.container.classList.add("highlightArea")}}mg=new WeakMap;class SD extends TC{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class AD extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var gg;class Fx extends Rn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});R(this,gg,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?gt.HIGHLIGHT:gt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:n,borderStyle:s,popupRef:o}}=this,{width:l,height:h}=Zo(t),d=this.svgFactory.create(l,h,!0);for(const f of n){let g=[];for(let b=0,_=f.length;b<_;b+=2){const S=f[b]-t[0],C=t[3]-f[b+1];g.push(`${S},${C}`)}g=g.join(" ");const v=this.svgFactory.createElement(this.svgElementName);c(this,gg).push(v),v.setAttribute("points",g),v.setAttribute("stroke-width",s.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),d.append(v)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return c(this,gg)}addHighlightArea(){this.container.classList.add("highlightArea")}}gg=new WeakMap;class PC extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=gt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class CD extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class kD extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class TD extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class RC extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=gt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var yg,vg,N_;class PD extends Rn{constructor(t){var s;super(t,{isRenderable:!0});R(this,vg);R(this,yg,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let s;n.hasAppearance||n.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),s.addEventListener("dblclick",k(this,vg,N_).bind(this)),A(this,yg,s);const{isMac:o}=Yi.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(o?l.metaKey:l.ctrlKey)&&k(this,vg,N_).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return c(this,yg)}addHighlightArea(){this.container.classList.add("highlightArea")}}yg=new WeakMap,vg=new WeakSet,N_=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var bg,dh,fh,wg,Ih,LC,M_,NA;let RD=(NA=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:s,page:o,viewport:l,structTreeLayer:h}){R(this,Ih);R(this,bg,null);R(this,dh,null);R(this,fh,new Map);R(this,wg,null);this.div=e,A(this,bg,t),A(this,dh,n),A(this,wg,h||null),this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return c(this,fh).size>0}async render(e){var l;const{annotations:t}=e,n=this.div;Lh(n,this.viewport);const s=new Map,o={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Ix,annotationStorage:e.annotationStorage||new Rx,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const h of t){if(h.noHTML)continue;const d=h.annotationType===qn.POPUP;if(d){const v=s.get(h.id);if(!v)continue;o.elements=v}else{const{width:v,height:b}=Zo(h.rect);if(v<=0||b<=0)continue}o.data=h;const f=fD.create(o);if(!f.isRenderable)continue;if(!d&&h.popupRef){const v=s.get(h.popupRef);v?v.push(f):s.set(h.popupRef,[f])}const g=f.render();h.hidden&&(g.style.visibility="hidden"),await k(this,Ih,LC).call(this,g,h.id),f._isEditable&&(c(this,fh).set(f.data.id,f),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(f))}k(this,Ih,M_).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Lh(t,{rotation:e.rotation}),k(this,Ih,M_).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(c(this,fh).values())}getEditableAnnotation(e){return c(this,fh).get(e)}},bg=new WeakMap,dh=new WeakMap,fh=new WeakMap,wg=new WeakMap,Ih=new WeakSet,LC=async function(e,t){var l,h;const n=e.firstChild||e,s=n.id=`${Ax}${t}`,o=await((l=c(this,wg))==null?void 0:l.getAriaAttributes(s));if(o)for(const[d,f]of o)n.setAttribute(d,f);this.div.append(e),(h=c(this,bg))==null||h.moveElementInDOM(this.div,e,n,!1)},M_=function(){if(!c(this,dh))return;const e=this.div;for(const[t,n]of c(this,dh)){const s=e.querySelector(`[data-annotation-id="${t}"]`);if(!s)continue;n.className="annotationContent";const{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(n):o.classList.contains("annotationContent")?o.after(n):o.before(n):s.append(n)}c(this,dh).clear()},NA);const yv=/\r\n?|\n/g;var Xs,Ir,_g,ph,Fr,Fn,NC,MC,DC,zv,nl,Bv,Uv,IC,I_,FC;const sn=class sn extends Xt{constructor(t){super({...t,name:"freeTextEditor"});R(this,Fn);R(this,Xs);R(this,Ir,"");R(this,_g,`${this.id}-editor`);R(this,ph,null);R(this,Fr);A(this,Xs,t.color||sn._defaultColor||Xt._defaultLineColor),A(this,Fr,t.fontSize||sn._defaultFontSize)}static get _keyboardManager(){const t=sn.prototype,n=l=>l.isEmpty(),s=Nh.TRANSLATE_SMALL,o=Nh.TRANSLATE_BIG;return Pt(this,"_keyboardManager",new Ug([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,o],checker:n}]]))}static initialize(t,n){Xt.initialize(t,n);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case ut.FREETEXT_SIZE:sn._defaultFontSize=n;break;case ut.FREETEXT_COLOR:sn._defaultColor=n;break}}updateParams(t,n){switch(t){case ut.FREETEXT_SIZE:k(this,Fn,NC).call(this,n);break;case ut.FREETEXT_COLOR:k(this,Fn,MC).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ut.FREETEXT_SIZE,sn._defaultFontSize],[ut.FREETEXT_COLOR,sn._defaultColor||Xt._defaultLineColor]]}get propertiesToUpdate(){return[[ut.FREETEXT_SIZE,c(this,Fr)],[ut.FREETEXT_COLOR,c(this,Xs)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-sn._internalPadding*t,-(sn._internalPadding+c(this,Fr))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(gt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),A(this,ph,new AbortController);const t=this._uiManager.combinedSignal(c(this,ph));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,_g)),this._isDraggable=!0,(t=c(this,ph))==null||t.abort(),A(this,ph,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=c(this,Ir),n=A(this,Ir,k(this,Fn,DC).call(this).trimEnd());if(t===n)return;const s=o=>{if(A(this,Ir,o),!o){this.remove();return}k(this,Fn,Uv).call(this),this._uiManager.rebuild(this),k(this,Fn,zv).call(this)};this.addCommands({cmd:()=>{s(n)},undo:()=>{s(t)},mustExec:!1}),k(this,Fn,zv).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){sn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,_g)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${c(this,Fr)}px * var(--scale-factor))`,s.color=c(this,Xs),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),o0(this,this.div,["dblclick","keydown"]),this.width){const[o,l]=this.parentDimensions;if(this.annotationElementId){const{position:h}=this._initialData;let[d,f]=this.getInitialTranslation();[d,f]=this.pageTranslationToScreen(d,f);const[g,v]=this.pageDimensions,[b,_]=this.pageTranslation;let S,C;switch(this.rotation){case 0:S=t+(h[0]-b)/g,C=n+this.height-(h[1]-_)/v;break;case 90:S=t+(h[0]-b)/g,C=n-(h[1]-_)/v,[d,f]=[f,-d];break;case 180:S=t-this.width+(h[0]-b)/g,C=n-(h[1]-_)/v,[d,f]=[-d,-f];break;case 270:S=t+(h[0]-b-this.height*v)/g,C=n+(h[1]-_-this.width*g)/v,[d,f]=[-f,d];break}this.setAt(S*o,C*l,d,f)}else this.setAt(t*o,n*l,this.width*o,this.height*l);k(this,Fn,Uv).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var S,C,N;const n=t.clipboardData||window.clipboardData,{types:s}=n;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const o=k(S=sn,nl,I_).call(S,n.getData("text")||"").replaceAll(yv,`
`);if(!o)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const h=l.getRangeAt(0);if(!o.includes(`
`)){h.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:d,startOffset:f}=h,g=[],v=[];if(d.nodeType===Node.TEXT_NODE){const T=d.parentElement;if(v.push(d.nodeValue.slice(f).replaceAll(yv,"")),T!==this.editorDiv){let F=g;for(const j of this.editorDiv.childNodes){if(j===T){F=v;continue}F.push(k(C=sn,nl,Bv).call(C,j))}}g.push(d.nodeValue.slice(0,f).replaceAll(yv,""))}else if(d===this.editorDiv){let T=g,F=0;for(const j of this.editorDiv.childNodes)F++===f&&(T=v),T.push(k(N=sn,nl,Bv).call(N,j))}A(this,Ir,`${g.join(`
`)}${o}${v.join(`
`)}`),k(this,Fn,Uv).call(this);const b=new Range;let _=g.reduce((T,F)=>T+F.length,0);for(const{firstChild:T}of this.editorDiv.childNodes)if(T.nodeType===Node.TEXT_NODE){const F=T.nodeValue.length;if(_<=F){b.setStart(T,_),b.setEnd(T,_);break}_-=F}l.removeAllRanges(),l.addRange(b)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,s){var h;let o=null;if(t instanceof kC){const{data:{defaultAppearanceData:{fontSize:d,fontColor:f},rect:g,rotation:v,id:b,popupRef:_},textContent:S,textPosition:C,parent:{page:{pageNumber:N}}}=t;if(!S||S.length===0)return null;o=t={annotationType:gt.FREETEXT,color:Array.from(f),fontSize:d,value:S.join(`
`),position:C,pageIndex:N-1,rect:g.slice(0),rotation:v,id:b,deleted:!1,popupRef:_}}const l=await super.deserialize(t,n,s);return A(l,Fr,t.fontSize),A(l,Xs,Ye.makeHexColor(...t.color)),A(l,Ir,k(h=sn,nl,I_).call(h,t.value)),l.annotationElementId=t.id||null,l._initialData=o,l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=sn._internalPadding*this.parentScale,s=this.getRect(n,n),o=Xt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,Xs)),l={annotationType:gt.FREETEXT,color:o,fontSize:c(this,Fr),value:k(this,Fn,IC).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?l:this.annotationElementId&&!k(this,Fn,FC).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:s}=n;s.fontSize=`calc(${c(this,Fr)}px * var(--scale-factor))`,s.color=c(this,Xs),n.replaceChildren();for(const l of c(this,Ir).split(`
`)){const h=document.createElement("div");h.append(l?document.createTextNode(l):document.createElement("br")),n.append(h)}const o=sn._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(o,o),popupContent:c(this,Ir)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Xs=new WeakMap,Ir=new WeakMap,_g=new WeakMap,ph=new WeakMap,Fr=new WeakMap,Fn=new WeakSet,NC=function(t){const n=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-c(this,Fr))*this.parentScale),A(this,Fr,o),k(this,Fn,zv).call(this)},s=c(this,Fr);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},MC=function(t){const n=o=>{A(this,Xs,this.editorDiv.style.color=o)},s=c(this,Xs);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},DC=function(){var s;const t=[];this.editorDiv.normalize();let n=null;for(const o of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(t.push(k(s=sn,nl,Bv).call(s,o)),n=o);return t.join(`
`)},zv=function(){const[t,n]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:o,div:l}=this,h=l.style.display,d=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",o.div.append(this.div),s=l.getBoundingClientRect(),l.remove(),l.style.display=h,l.classList.toggle("hidden",d)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/n):(this.width=s.height/t,this.height=s.width/n),this.fixAndSetPosition()},nl=new WeakSet,Bv=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(yv,"")},Uv=function(){if(this.editorDiv.replaceChildren(),!!c(this,Ir))for(const t of c(this,Ir).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},IC=function(){return c(this,Ir).replaceAll(" "," ")},I_=function(t){return t.replaceAll(" "," ")},FC=function(t){const{value:n,fontSize:s,color:o,pageIndex:l}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==s||t.color.some((h,d)=>h!==o[d])||t.pageIndex!==l},R(sn,nl),ct(sn,"_freeTextDefaultContent",""),ct(sn,"_internalPadding",0),ct(sn,"_defaultColor",null),ct(sn,"_defaultFontSize",10),ct(sn,"_type","freetext"),ct(sn,"_editorType",gt.FREETEXT);let D_=sn;class OC{toSVGPath(){an("Abstract method `toSVGPath` must be implemented.")}get box(){an("Abstract getter `box` must be implemented.")}serialize(e,t){an("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){an("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){an("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Or,Ks,If,Ff,qa,Et,mh,gh,xg,Eg,Of,jf,bc,Sg,k0,T0,Qn,am,jC,HC,$C,zC,BC,UC;const Ao=class Ao{constructor({x:e,y:t},n,s,o,l,h=0){R(this,Qn);R(this,Or);R(this,Ks,[]);R(this,If);R(this,Ff);R(this,qa,[]);R(this,Et,new Float64Array(18));R(this,mh);R(this,gh);R(this,xg);R(this,Eg);R(this,Of);R(this,jf);R(this,bc,[]);A(this,Or,n),A(this,jf,o*s),A(this,Ff,l),c(this,Et).set([NaN,NaN,NaN,NaN,e,t],6),A(this,If,h),A(this,Eg,c(Ao,Sg)*s),A(this,xg,c(Ao,T0)*s),A(this,Of,s),c(this,bc).push(e,t)}isEmpty(){return isNaN(c(this,Et)[8])}add({x:e,y:t}){var K;A(this,mh,e),A(this,gh,t);const[n,s,o,l]=c(this,Or);let[h,d,f,g]=c(this,Et).subarray(8,12);const v=e-f,b=t-g,_=Math.hypot(v,b);if(_<c(this,xg))return!1;const S=_-c(this,Eg),C=S/_,N=C*v,T=C*b;let F=h,j=d;h=f,d=g,f+=N,g+=T,(K=c(this,bc))==null||K.push(e,t);const O=-T/S,D=N/S,U=O*c(this,jf),Q=D*c(this,jf);return c(this,Et).set(c(this,Et).subarray(2,8),0),c(this,Et).set([f+U,g+Q],4),c(this,Et).set(c(this,Et).subarray(14,18),12),c(this,Et).set([f-U,g-Q],16),isNaN(c(this,Et)[6])?(c(this,qa).length===0&&(c(this,Et).set([h+U,d+Q],2),c(this,qa).push(NaN,NaN,NaN,NaN,(h+U-n)/o,(d+Q-s)/l),c(this,Et).set([h-U,d-Q],14),c(this,Ks).push(NaN,NaN,NaN,NaN,(h-U-n)/o,(d-Q-s)/l)),c(this,Et).set([F,j,h,d,f,g],6),!this.isEmpty()):(c(this,Et).set([F,j,h,d,f,g],6),Math.abs(Math.atan2(j-d,F-h)-Math.atan2(T,N))<Math.PI/2?([h,d,f,g]=c(this,Et).subarray(2,6),c(this,qa).push(NaN,NaN,NaN,NaN,((h+f)/2-n)/o,((d+g)/2-s)/l),[h,d,F,j]=c(this,Et).subarray(14,18),c(this,Ks).push(NaN,NaN,NaN,NaN,((F+h)/2-n)/o,((j+d)/2-s)/l),!0):([F,j,h,d,f,g]=c(this,Et).subarray(0,6),c(this,qa).push(((F+5*h)/6-n)/o,((j+5*d)/6-s)/l,((5*h+f)/6-n)/o,((5*d+g)/6-s)/l,((h+f)/2-n)/o,((d+g)/2-s)/l),[f,g,h,d,F,j]=c(this,Et).subarray(12,18),c(this,Ks).push(((F+5*h)/6-n)/o,((j+5*d)/6-s)/l,((5*h+f)/6-n)/o,((5*d+g)/6-s)/l,((h+f)/2-n)/o,((d+g)/2-s)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,qa),t=c(this,Ks);if(isNaN(c(this,Et)[6])&&!this.isEmpty())return k(this,Qn,jC).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?n.push(`L${e[s+4]} ${e[s+5]}`):n.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);k(this,Qn,$C).call(this,n);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?n.push(`L${t[s+4]} ${t[s+5]}`):n.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);return k(this,Qn,HC).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,s,o,l){return new qC(e,t,n,s,o,l)}getOutlines(){var v;const e=c(this,qa),t=c(this,Ks),n=c(this,Et),[s,o,l,h]=c(this,Or),d=new Float64Array((((v=c(this,bc))==null?void 0:v.length)??0)+2);for(let b=0,_=d.length-2;b<_;b+=2)d[b]=(c(this,bc)[b]-s)/l,d[b+1]=(c(this,bc)[b+1]-o)/h;if(d[d.length-2]=(c(this,mh)-s)/l,d[d.length-1]=(c(this,gh)-o)/h,isNaN(n[6])&&!this.isEmpty())return k(this,Qn,zC).call(this,d);const f=new Float64Array(c(this,qa).length+24+c(this,Ks).length);let g=e.length;for(let b=0;b<g;b+=2){if(isNaN(e[b])){f[b]=f[b+1]=NaN;continue}f[b]=e[b],f[b+1]=e[b+1]}g=k(this,Qn,UC).call(this,f,g);for(let b=t.length-6;b>=6;b-=6)for(let _=0;_<6;_+=2){if(isNaN(t[b+_])){f[g]=f[g+1]=NaN,g+=2;continue}f[g]=t[b+_],f[g+1]=t[b+_+1],g+=2}return k(this,Qn,BC).call(this,f,g),this.newFreeDrawOutline(f,d,c(this,Or),c(this,Of),c(this,If),c(this,Ff))}};Or=new WeakMap,Ks=new WeakMap,If=new WeakMap,Ff=new WeakMap,qa=new WeakMap,Et=new WeakMap,mh=new WeakMap,gh=new WeakMap,xg=new WeakMap,Eg=new WeakMap,Of=new WeakMap,jf=new WeakMap,bc=new WeakMap,Sg=new WeakMap,k0=new WeakMap,T0=new WeakMap,Qn=new WeakSet,am=function(){const e=c(this,Et).subarray(4,6),t=c(this,Et).subarray(16,18),[n,s,o,l]=c(this,Or);return[(c(this,mh)+(e[0]-t[0])/2-n)/o,(c(this,gh)+(e[1]-t[1])/2-s)/l,(c(this,mh)+(t[0]-e[0])/2-n)/o,(c(this,gh)+(t[1]-e[1])/2-s)/l]},jC=function(){const[e,t,n,s]=c(this,Or),[o,l,h,d]=k(this,Qn,am).call(this);return`M${(c(this,Et)[2]-e)/n} ${(c(this,Et)[3]-t)/s} L${(c(this,Et)[4]-e)/n} ${(c(this,Et)[5]-t)/s} L${o} ${l} L${h} ${d} L${(c(this,Et)[16]-e)/n} ${(c(this,Et)[17]-t)/s} L${(c(this,Et)[14]-e)/n} ${(c(this,Et)[15]-t)/s} Z`},HC=function(e){const t=c(this,Ks);e.push(`L${t[4]} ${t[5]} Z`)},$C=function(e){const[t,n,s,o]=c(this,Or),l=c(this,Et).subarray(4,6),h=c(this,Et).subarray(16,18),[d,f,g,v]=k(this,Qn,am).call(this);e.push(`L${(l[0]-t)/s} ${(l[1]-n)/o} L${d} ${f} L${g} ${v} L${(h[0]-t)/s} ${(h[1]-n)/o}`)},zC=function(e){const t=c(this,Et),[n,s,o,l]=c(this,Or),[h,d,f,g]=k(this,Qn,am).call(this),v=new Float64Array(36);return v.set([NaN,NaN,NaN,NaN,(t[2]-n)/o,(t[3]-s)/l,NaN,NaN,NaN,NaN,(t[4]-n)/o,(t[5]-s)/l,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,f,g,NaN,NaN,NaN,NaN,(t[16]-n)/o,(t[17]-s)/l,NaN,NaN,NaN,NaN,(t[14]-n)/o,(t[15]-s)/l],0),this.newFreeDrawOutline(v,e,c(this,Or),c(this,Of),c(this,If),c(this,Ff))},BC=function(e,t){const n=c(this,Ks);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},UC=function(e,t){const n=c(this,Et).subarray(4,6),s=c(this,Et).subarray(16,18),[o,l,h,d]=c(this,Or),[f,g,v,b]=k(this,Qn,am).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-o)/h,(n[1]-l)/d,NaN,NaN,NaN,NaN,f,g,NaN,NaN,NaN,NaN,v,b,NaN,NaN,NaN,NaN,(s[0]-o)/h,(s[1]-l)/d],t),t+=24},R(Ao,Sg,8),R(Ao,k0,2),R(Ao,T0,c(Ao,Sg)+c(Ao,k0));let c0=Ao;var Hf,yh,Bo,Ag,jr,Cg,Pn,Sr,om,lm,WC;class qC extends OC{constructor(t,n,s,o,l,h){super();R(this,Sr);R(this,Hf);R(this,yh,null);R(this,Bo);R(this,Ag);R(this,jr);R(this,Cg);R(this,Pn);A(this,Pn,t),A(this,jr,n),A(this,Hf,s),A(this,Cg,o),A(this,Bo,l),A(this,Ag,h),k(this,Sr,WC).call(this,h);const{x:d,y:f,width:g,height:v}=c(this,yh);for(let b=0,_=t.length;b<_;b+=2)t[b]=(t[b]-d)/g,t[b+1]=(t[b+1]-f)/v;for(let b=0,_=n.length;b<_;b+=2)n[b]=(n[b]-d)/g,n[b+1]=(n[b+1]-f)/v}toSVGPath(){const t=[`M${c(this,Pn)[4]} ${c(this,Pn)[5]}`];for(let n=6,s=c(this,Pn).length;n<s;n+=6){if(isNaN(c(this,Pn)[n])){t.push(`L${c(this,Pn)[n+4]} ${c(this,Pn)[n+5]}`);continue}t.push(`C${c(this,Pn)[n]} ${c(this,Pn)[n+1]} ${c(this,Pn)[n+2]} ${c(this,Pn)[n+3]} ${c(this,Pn)[n+4]} ${c(this,Pn)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,s,o],l){const h=s-t,d=o-n;let f,g;switch(l){case 0:f=k(this,Sr,om).call(this,c(this,Pn),t,o,h,-d),g=k(this,Sr,om).call(this,c(this,jr),t,o,h,-d);break;case 90:f=k(this,Sr,lm).call(this,c(this,Pn),t,n,h,d),g=k(this,Sr,lm).call(this,c(this,jr),t,n,h,d);break;case 180:f=k(this,Sr,om).call(this,c(this,Pn),s,n,-h,d),g=k(this,Sr,om).call(this,c(this,jr),s,n,-h,d);break;case 270:f=k(this,Sr,lm).call(this,c(this,Pn),s,o,-h,-d),g=k(this,Sr,lm).call(this,c(this,jr),s,o,-h,-d);break}return{outline:Array.from(f),points:[Array.from(g)]}}get box(){return c(this,yh)}newOutliner(t,n,s,o,l,h=0){return new c0(t,n,s,o,l,h)}getNewOutline(t,n){const{x:s,y:o,width:l,height:h}=c(this,yh),[d,f,g,v]=c(this,Hf),b=l*g,_=h*v,S=s*g+d,C=o*v+f,N=this.newOutliner({x:c(this,jr)[0]*b+S,y:c(this,jr)[1]*_+C},c(this,Hf),c(this,Cg),t,c(this,Ag),n??c(this,Bo));for(let T=2;T<c(this,jr).length;T+=2)N.add({x:c(this,jr)[T]*b+S,y:c(this,jr)[T+1]*_+C});return N.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Hf=new WeakMap,yh=new WeakMap,Bo=new WeakMap,Ag=new WeakMap,jr=new WeakMap,Cg=new WeakMap,Pn=new WeakMap,Sr=new WeakSet,om=function(t,n,s,o,l){const h=new Float64Array(t.length);for(let d=0,f=t.length;d<f;d+=2)h[d]=n+t[d]*o,h[d+1]=s+t[d+1]*l;return h},lm=function(t,n,s,o,l){const h=new Float64Array(t.length);for(let d=0,f=t.length;d<f;d+=2)h[d]=n+t[d+1]*o,h[d+1]=s+t[d]*l;return h},WC=function(t){const n=c(this,Pn);let s=n[4],o=n[5],l=s,h=o,d=s,f=o,g=s,v=o;const b=t?Math.max:Math.min;for(let T=6,F=n.length;T<F;T+=6){if(isNaN(n[T]))l=Math.min(l,n[T+4]),h=Math.min(h,n[T+5]),d=Math.max(d,n[T+4]),f=Math.max(f,n[T+5]),v<n[T+5]?(g=n[T+4],v=n[T+5]):v===n[T+5]&&(g=b(g,n[T+4]));else{const j=Ye.bezierBoundingBox(s,o,...n.slice(T,T+6));l=Math.min(l,j[0]),h=Math.min(h,j[1]),d=Math.max(d,j[2]),f=Math.max(f,j[3]),v<j[3]?(g=j[2],v=j[3]):v===j[3]&&(g=b(g,j[2]))}s=n[T+4],o=n[T+5]}const _=l-c(this,Bo),S=h-c(this,Bo),C=d-l+2*c(this,Bo),N=f-h+2*c(this,Bo);A(this,yh,{x:_,y:S,width:C,height:N,lastPoint:[g,v]})};var kg,wc,Qs,Zi,VC,qv,GC,XC,F_;class uA{constructor(e,t=0,n=0,s=!0){R(this,Zi);R(this,kg);R(this,wc,[]);R(this,Qs,[]);let o=1/0,l=-1/0,h=1/0,d=-1/0;const g=10**-4;for(const{x:T,y:F,width:j,height:O}of e){const D=Math.floor((T-t)/g)*g,U=Math.ceil((T+j+t)/g)*g,Q=Math.floor((F-t)/g)*g,z=Math.ceil((F+O+t)/g)*g,K=[D,Q,z,!0],Y=[U,Q,z,!1];c(this,wc).push(K,Y),o=Math.min(o,D),l=Math.max(l,U),h=Math.min(h,Q),d=Math.max(d,z)}const v=l-o+2*n,b=d-h+2*n,_=o-n,S=h-n,C=c(this,wc).at(s?-1:-2),N=[C[0],C[2]];for(const T of c(this,wc)){const[F,j,O]=T;T[0]=(F-_)/v,T[1]=(j-S)/b,T[2]=(O-S)/b}A(this,kg,{x:_,y:S,width:v,height:b,lastPoint:N})}getOutlines(){c(this,wc).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of c(this,wc))t[3]?(e.push(...k(this,Zi,F_).call(this,t)),k(this,Zi,GC).call(this,t)):(k(this,Zi,XC).call(this,t),e.push(...k(this,Zi,F_).call(this,t)));return k(this,Zi,VC).call(this,e)}}kg=new WeakMap,wc=new WeakMap,Qs=new WeakMap,Zi=new WeakSet,VC=function(e){const t=[],n=new Set;for(const l of e){const[h,d,f]=l;t.push([h,d,l],[h,f,l])}t.sort((l,h)=>l[1]-h[1]||l[0]-h[0]);for(let l=0,h=t.length;l<h;l+=2){const d=t[l][2],f=t[l+1][2];d.push(f),f.push(d),n.add(d),n.add(f)}const s=[];let o;for(;n.size>0;){const l=n.values().next().value;let[h,d,f,g,v]=l;n.delete(l);let b=h,_=d;for(o=[h,f],s.push(o);;){let S;if(n.has(g))S=g;else if(n.has(v))S=v;else break;n.delete(S),[h,d,f,g,v]=S,b!==h&&(o.push(b,_,h,_===d?d:f),b=h),_=_===d?f:d}o.push(b,_)}return new LD(s,c(this,kg))},qv=function(e){const t=c(this,Qs);let n=0,s=t.length-1;for(;n<=s;){const o=n+s>>1,l=t[o][0];if(l===e)return o;l<e?n=o+1:s=o-1}return s+1},GC=function([,e,t]){const n=k(this,Zi,qv).call(this,e);c(this,Qs).splice(n,0,[e,t])},XC=function([,e,t]){const n=k(this,Zi,qv).call(this,e);for(let s=n;s<c(this,Qs).length;s++){const[o,l]=c(this,Qs)[s];if(o!==e)break;if(o===e&&l===t){c(this,Qs).splice(s,1);return}}for(let s=n-1;s>=0;s--){const[o,l]=c(this,Qs)[s];if(o!==e)break;if(o===e&&l===t){c(this,Qs).splice(s,1);return}}},F_=function(e){const[t,n,s]=e,o=[[t,n,s]],l=k(this,Zi,qv).call(this,s);for(let h=0;h<l;h++){const[d,f]=c(this,Qs)[h];for(let g=0,v=o.length;g<v;g++){const[,b,_]=o[g];if(!(f<=b||_<=d)){if(b>=d){if(_>f)o[g][1]=f;else{if(v===1)return[];o.splice(g,1),g--,v--}continue}o[g][2]=d,_>f&&o.push([t,f,_])}}}return o};var Tg,$f;class LD extends OC{constructor(t,n){super();R(this,Tg);R(this,$f);A(this,$f,t),A(this,Tg,n)}toSVGPath(){const t=[];for(const n of c(this,$f)){let[s,o]=n;t.push(`M${s} ${o}`);for(let l=2;l<n.length;l+=2){const h=n[l],d=n[l+1];h===s?(t.push(`V${d}`),o=d):d===o&&(t.push(`H${h}`),s=h)}t.push("Z")}return t.join(" ")}serialize([t,n,s,o],l){const h=[],d=s-t,f=o-n;for(const g of c(this,$f)){const v=new Array(g.length);for(let b=0;b<g.length;b+=2)v[b]=t+g[b]*d,v[b+1]=o-g[b+1]*f;h.push(v)}return h}get box(){return c(this,Tg)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Tg=new WeakMap,$f=new WeakMap;class O_ extends c0{newFreeDrawOutline(e,t,n,s,o,l){return new ND(e,t,n,s,o,l)}get classNamesForDrawing(){return["highlight","free"]}}class ND extends qC{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,n,s,o,l=0){return new O_(e,t,n,s,o,l)}}var Ys,vh,zf,Vn,Pg,Bf,Rg,Lg,_c,Js,Uf,Ng,Yt,j_,H_,$_,bu,KC,Bl;const yr=class yr{constructor({editor:e=null,uiManager:t=null}){R(this,Yt);R(this,Ys,null);R(this,vh,null);R(this,zf);R(this,Vn,null);R(this,Pg,!1);R(this,Bf,!1);R(this,Rg,null);R(this,Lg);R(this,_c,null);R(this,Js,null);R(this,Uf);var n;e?(A(this,Bf,!1),A(this,Uf,ut.HIGHLIGHT_COLOR),A(this,Rg,e)):(A(this,Bf,!0),A(this,Uf,ut.HIGHLIGHT_DEFAULT_COLOR)),A(this,Js,(e==null?void 0:e._uiManager)||t),A(this,Lg,c(this,Js)._eventBus),A(this,zf,(e==null?void 0:e.color)||((n=c(this,Js))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),c(yr,Ng)||A(yr,Ng,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Pt(this,"_keyboardManager",new Ug([[["Escape","mac+Escape"],yr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],yr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],yr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],yr.prototype._moveToPrevious],[["Home","mac+Home"],yr.prototype._moveToBeginning],[["End","mac+End"],yr.prototype._moveToEnd]]))}renderButton(){const e=A(this,Ys,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=c(this,Js)._signal;e.addEventListener("click",k(this,Yt,bu).bind(this),{signal:t}),e.addEventListener("keydown",k(this,Yt,$_).bind(this),{signal:t});const n=A(this,vh,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=c(this,zf),e.append(n),e}renderMainDropdown(){const e=A(this,Vn,k(this,Yt,j_).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===c(this,Ys)){k(this,Yt,bu).call(this,e);return}const t=e.target.getAttribute("data-color");t&&k(this,Yt,H_).call(this,t,e)}_moveToNext(e){var t,n;if(!c(this,Yt,Bl)){k(this,Yt,bu).call(this,e);return}if(e.target===c(this,Ys)){(t=c(this,Vn).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=c(this,Vn))==null?void 0:t.firstChild)||e.target===c(this,Ys)){c(this,Yt,Bl)&&this._hideDropdownFromKeyboard();return}c(this,Yt,Bl)||k(this,Yt,bu).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!c(this,Yt,Bl)){k(this,Yt,bu).call(this,e);return}(t=c(this,Vn).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!c(this,Yt,Bl)){k(this,Yt,bu).call(this,e);return}(t=c(this,Vn).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=c(this,Vn))==null||e.classList.add("hidden"),(t=c(this,_c))==null||t.abort(),A(this,_c,null)}_hideDropdownFromKeyboard(){var e;if(!c(this,Bf)){if(!c(this,Yt,Bl)){(e=c(this,Rg))==null||e.unselect();return}this.hideDropdown(),c(this,Ys).focus({preventScroll:!0,focusVisible:c(this,Pg)})}}updateColor(e){if(c(this,vh)&&(c(this,vh).style.backgroundColor=e),!c(this,Vn))return;const t=c(this,Js).highlightColors.values();for(const n of c(this,Vn).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=c(this,Ys))==null||e.remove(),A(this,Ys,null),A(this,vh,null),(t=c(this,Vn))==null||t.remove(),A(this,Vn,null)}};Ys=new WeakMap,vh=new WeakMap,zf=new WeakMap,Vn=new WeakMap,Pg=new WeakMap,Bf=new WeakMap,Rg=new WeakMap,Lg=new WeakMap,_c=new WeakMap,Js=new WeakMap,Uf=new WeakMap,Ng=new WeakMap,Yt=new WeakSet,j_=function(){const e=document.createElement("div"),t=c(this,Js)._signal;e.addEventListener("contextmenu",ws,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,s]of c(this,Js).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",s),o.title=n,o.setAttribute("data-l10n-id",c(yr,Ng)[n]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=s,o.setAttribute("aria-selected",s===c(this,zf)),o.addEventListener("click",k(this,Yt,H_).bind(this,s),{signal:t}),e.append(o)}return e.addEventListener("keydown",k(this,Yt,$_).bind(this),{signal:t}),e},H_=function(e,t){t.stopPropagation(),c(this,Lg).dispatch("switchannotationeditorparams",{source:this,type:c(this,Uf),value:e})},$_=function(e){yr._keyboardManager.exec(this,e)},bu=function(e){if(c(this,Yt,Bl)){this.hideDropdown();return}if(A(this,Pg,e.detail===0),c(this,_c)||(A(this,_c,new AbortController),window.addEventListener("pointerdown",k(this,Yt,KC).bind(this),{signal:c(this,Js).combinedSignal(c(this,_c))})),c(this,Vn)){c(this,Vn).classList.remove("hidden");return}const t=A(this,Vn,k(this,Yt,j_).call(this));c(this,Ys).append(t)},KC=function(e){var t;(t=c(this,Vn))!=null&&t.contains(e.target)||this.hideDropdown()},Bl=function(){return c(this,Vn)&&!c(this,Vn).classList.contains("hidden")},R(yr,Ng,null);let u0=yr;var qf,Mg,Uo,bh,Wf,ds,Dg,Ig,wh,Zs,Fi,xr,Vf,qo,Gn,Gf,fs,Fg,mt,z_,Wv,QC,YC,JC,B_,wu,vs,Dd,ZC,Vv,cm,ek,tk,nk,ik,rk;const Ht=class Ht extends Xt{constructor(t){super({...t,name:"highlightEditor"});R(this,mt);R(this,qf,null);R(this,Mg,0);R(this,Uo);R(this,bh,null);R(this,Wf,null);R(this,ds,null);R(this,Dg,null);R(this,Ig,0);R(this,wh,null);R(this,Zs,null);R(this,Fi,null);R(this,xr,!1);R(this,Vf,null);R(this,qo);R(this,Gn,null);R(this,Gf,"");R(this,fs);R(this,Fg,"");this.color=t.color||Ht._defaultColor,A(this,fs,t.thickness||Ht._defaultThickness),A(this,qo,t.opacity||Ht._defaultOpacity),A(this,Uo,t.boxes||null),A(this,Fg,t.methodOfCreation||""),A(this,Gf,t.text||""),this._isDraggable=!1,t.highlightId>-1?(A(this,xr,!0),k(this,mt,Wv).call(this,t),k(this,mt,wu).call(this)):c(this,Uo)&&(A(this,qf,t.anchorNode),A(this,Mg,t.anchorOffset),A(this,Dg,t.focusNode),A(this,Ig,t.focusOffset),k(this,mt,z_).call(this),k(this,mt,wu).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Ht.prototype;return Pt(this,"_keyboardManager",new Ug([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,xr)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,fs),methodOfCreation:c(this,Fg)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var s;Xt.initialize(t,n),Ht._defaultColor||(Ht._defaultColor=((s=n.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case ut.HIGHLIGHT_DEFAULT_COLOR:Ht._defaultColor=n;break;case ut.HIGHLIGHT_THICKNESS:Ht._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return c(this,Vf)}updateParams(t,n){switch(t){case ut.HIGHLIGHT_COLOR:k(this,mt,QC).call(this,n);break;case ut.HIGHLIGHT_THICKNESS:k(this,mt,YC).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ut.HIGHLIGHT_DEFAULT_COLOR,Ht._defaultColor],[ut.HIGHLIGHT_THICKNESS,Ht._defaultThickness]]}get propertiesToUpdate(){return[[ut.HIGHLIGHT_COLOR,this.color||Ht._defaultColor],[ut.HIGHLIGHT_THICKNESS,c(this,fs)||Ht._defaultThickness],[ut.HIGHLIGHT_FREE,c(this,xr)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(A(this,Wf,new u0({editor:this})),t.addColorPicker(c(this,Wf))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(k(this,mt,cm).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,k(this,mt,cm).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){k(this,mt,B_).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,mt,wu).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let n=!1;this.parent&&!t?k(this,mt,B_).call(this):t&&(k(this,mt,wu).call(this,t),n=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var o,l,h;const{drawLayer:n}=this.parent;let s;c(this,xr)?(t=(t-this.rotation+360)%360,s=k(o=Ht,vs,Dd).call(o,c(this,Zs).box,t)):s=k(l=Ht,vs,Dd).call(l,this,t),n.rotate(c(this,Fi),t),n.rotate(c(this,Gn),t),n.updateBox(c(this,Fi),s),n.updateBox(c(this,Gn),k(h=Ht,vs,Dd).call(h,c(this,ds).box,t))}render(){if(this.div)return this.div;const t=super.render();c(this,Gf)&&(t.setAttribute("aria-label",c(this,Gf)),t.setAttribute("role","mark")),c(this,xr)?t.classList.add("free"):this.div.addEventListener("keydown",k(this,mt,ZC).bind(this),{signal:this._uiManager._signal});const n=A(this,wh,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=c(this,bh);const[s,o]=this.parentDimensions;return this.setDims(this.width*s,this.height*o),o0(this,c(this,wh),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(c(this,Gn),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(c(this,Gn),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:k(this,mt,Vv).call(this,!0);break;case 1:case 3:k(this,mt,Vv).call(this,!1);break}}select(){var t,n;super.select(),c(this,Gn)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,Gn),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(c(this,Gn),"selected"))}unselect(){var t;super.unselect(),c(this,Gn)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,Gn),"selected"),c(this,xr)||k(this,mt,Vv).call(this,!1))}get _mustFixPosition(){return!c(this,xr)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(c(this,Fi),t),this.parent.drawLayer.show(c(this,Gn),t))}static startHighlighting(t,n,{target:s,x:o,y:l}){const{x:h,y:d,width:f,height:g}=s.getBoundingClientRect(),v=new AbortController,b=t.combinedSignal(v),_=C=>{C.preventDefault(),C.stopPropagation()},S=C=>{v.abort(),k(this,vs,ik).call(this,t,C)};window.addEventListener("blur",S,{signal:b}),window.addEventListener("pointerup",S,{signal:b}),window.addEventListener("pointerdown",_,{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",ws,{signal:b}),s.addEventListener("pointermove",k(this,vs,nk).bind(this,t),{signal:b}),this._freeHighlight=new O_({x:o,y:l},[h,d,f,g],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,n,s){var C,N,T,F;let o=null;if(t instanceof PC){const{data:{quadPoints:j,rect:O,rotation:D,id:U,color:Q,opacity:z,popupRef:K},parent:{page:{pageNumber:Y}}}=t;o=t={annotationType:gt.HIGHLIGHT,color:Array.from(Q),opacity:z,quadPoints:j,boxes:null,pageIndex:Y-1,rect:O.slice(0),rotation:D,id:U,deleted:!1,popupRef:K}}else if(t instanceof Fx){const{data:{inkLists:j,rect:O,rotation:D,id:U,color:Q,borderStyle:{rawWidth:z},popupRef:K},parent:{page:{pageNumber:Y}}}=t;o=t={annotationType:gt.HIGHLIGHT,color:Array.from(Q),thickness:z,inkLists:j,boxes:null,pageIndex:Y-1,rect:O.slice(0),rotation:D,id:U,deleted:!1,popupRef:K}}const{color:l,quadPoints:h,inkLists:d,opacity:f}=t,g=await super.deserialize(t,n,s);g.color=Ye.makeHexColor(...l),A(g,qo,f||1),d&&A(g,fs,t.thickness),g.annotationElementId=t.id||null,g._initialData=o;const[v,b]=g.pageDimensions,[_,S]=g.pageTranslation;if(h){const j=A(g,Uo,[]);for(let O=0;O<h.length;O+=8)j.push({x:(h[O]-_)/v,y:1-(h[O+1]-S)/b,width:(h[O+2]-h[O])/v,height:(h[O+1]-h[O+5])/b});k(C=g,mt,z_).call(C),k(N=g,mt,wu).call(N),g.rotate(g.rotation)}else if(d){A(g,xr,!0);const j=d[0],O={x:j[0]-_,y:b-(j[1]-S)},D=new O_(O,[0,0,v,b],1,c(g,fs)/2,!0,.001);for(let z=0,K=j.length;z<K;z+=2)O.x=j[z]-_,O.y=b-(j[z+1]-S),D.add(O);const{id:U,clipPathId:Q}=n.drawLayer.draw(D,g.color,g._defaultOpacity,!0);k(T=g,mt,Wv).call(T,{highlightOutlines:D.getOutlines(),highlightId:U,clipPathId:Q}),k(F=g,mt,wu).call(F)}return g}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),s=Xt._colorManager.convert(this.color),o={annotationType:gt.HIGHLIGHT,color:s,opacity:c(this,qo),thickness:c(this,fs),quadPoints:k(this,mt,ek).call(this),outlines:k(this,mt,tk).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:k(this,mt,cm).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!k(this,mt,rk).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};qf=new WeakMap,Mg=new WeakMap,Uo=new WeakMap,bh=new WeakMap,Wf=new WeakMap,ds=new WeakMap,Dg=new WeakMap,Ig=new WeakMap,wh=new WeakMap,Zs=new WeakMap,Fi=new WeakMap,xr=new WeakMap,Vf=new WeakMap,qo=new WeakMap,Gn=new WeakMap,Gf=new WeakMap,fs=new WeakMap,Fg=new WeakMap,mt=new WeakSet,z_=function(){const t=new uA(c(this,Uo),.001);A(this,Zs,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=c(this,Zs).box;const n=new uA(c(this,Uo),.0025,.001,this._uiManager.direction==="ltr");A(this,ds,n.getOutlines());const{lastPoint:s}=c(this,ds).box;A(this,Vf,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},Wv=function({highlightOutlines:t,highlightId:n,clipPathId:s}){var v,b;if(A(this,Zs,t),A(this,ds,t.getNewOutline(c(this,fs)/2+1.5,.0025)),n>=0)A(this,Fi,n),A(this,bh,s),this.parent.drawLayer.finalizeLine(n,t),A(this,Gn,this.parent.drawLayer.drawOutline(c(this,ds)));else if(this.parent){const _=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(c(this,Fi),t),this.parent.drawLayer.updateBox(c(this,Fi),k(v=Ht,vs,Dd).call(v,c(this,Zs).box,(_-this.rotation+360)%360)),this.parent.drawLayer.updateLine(c(this,Gn),c(this,ds)),this.parent.drawLayer.updateBox(c(this,Gn),k(b=Ht,vs,Dd).call(b,c(this,ds).box,_))}const{x:l,y:h,width:d,height:f}=t.box;switch(this.rotation){case 0:this.x=l,this.y=h,this.width=d,this.height=f;break;case 90:{const[_,S]=this.parentDimensions;this.x=h,this.y=1-l,this.width=d*S/_,this.height=f*_/S;break}case 180:this.x=1-l,this.y=1-h,this.width=d,this.height=f;break;case 270:{const[_,S]=this.parentDimensions;this.x=1-h,this.y=l,this.width=d*S/_,this.height=f*_/S;break}}const{lastPoint:g}=c(this,ds).box;A(this,Vf,[(g[0]-l)/d,(g[1]-h)/f])},QC=function(t){const n=(l,h)=>{var d,f,g;this.color=l,(d=this.parent)==null||d.drawLayer.changeColor(c(this,Fi),l),(f=c(this,Wf))==null||f.updateColor(l),A(this,qo,h),(g=this.parent)==null||g.drawLayer.changeOpacity(c(this,Fi),h)},s=this.color,o=c(this,qo);this.addCommands({cmd:n.bind(this,t,Ht._defaultOpacity),undo:n.bind(this,s,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},YC=function(t){const n=c(this,fs),s=o=>{A(this,fs,o),k(this,mt,JC).call(this,o)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},JC=function(t){if(!c(this,xr))return;k(this,mt,Wv).call(this,{highlightOutlines:c(this,Zs).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,s]=this.parentDimensions;this.setDims(this.width*n,this.height*s)},B_=function(){c(this,Fi)===null||!this.parent||(this.parent.drawLayer.remove(c(this,Fi)),A(this,Fi,null),this.parent.drawLayer.remove(c(this,Gn)),A(this,Gn,null))},wu=function(t=this.parent){c(this,Fi)===null&&({id:ri(this,Fi)._,clipPathId:ri(this,bh)._}=t.drawLayer.draw(c(this,Zs),this.color,c(this,qo)),A(this,Gn,t.drawLayer.drawOutline(c(this,ds))),c(this,wh)&&(c(this,wh).style.clipPath=c(this,bh)))},vs=new WeakSet,Dd=function({x:t,y:n,width:s,height:o},l){switch(l){case 90:return{x:1-n-o,y:t,width:o,height:s};case 180:return{x:1-t-s,y:1-n-o,width:s,height:o};case 270:return{x:n,y:1-t-s,width:o,height:s}}return{x:t,y:n,width:s,height:o}},ZC=function(t){Ht._keyboardManager.exec(this,t)},Vv=function(t){if(!c(this,qf))return;const n=window.getSelection();t?n.setPosition(c(this,qf),c(this,Mg)):n.setPosition(c(this,Dg),c(this,Ig))},cm=function(){return c(this,xr)?this.rotation:0},ek=function(){if(c(this,xr))return null;const[t,n]=this.pageDimensions,[s,o]=this.pageTranslation,l=c(this,Uo),h=new Float32Array(l.length*8);let d=0;for(const{x:f,y:g,width:v,height:b}of l){const _=f*t+s,S=(1-g-b)*n+o;h[d]=h[d+4]=_,h[d+1]=h[d+3]=S,h[d+2]=h[d+6]=_+v*t,h[d+5]=h[d+7]=S+b*n,d+=8}return h},tk=function(t){return c(this,Zs).serialize(t,k(this,mt,cm).call(this))},nk=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},ik=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},rk=function(t){const{color:n}=this._initialData;return t.color.some((s,o)=>s!==n[o])},R(Ht,vs),ct(Ht,"_defaultColor",null),ct(Ht,"_defaultOpacity",1),ct(Ht,"_defaultThickness",12),ct(Ht,"_type","highlight"),ct(Ht,"_editorType",gt.HIGHLIGHT),ct(Ht,"_freeHighlightId",-1),ct(Ht,"_freeHighlight",null),ct(Ht,"_freeHighlightClipId","");let h0=Ht;var _h,xh,Wa,Wo,ps,Eh,Sh,Ah,Vo,Xf,Ch,kh,xc,Se,sk,ak,ok,lk,q_,ck,W_,uk,hk,dk,fk,pk,_u,V_,G_,X_,Gv,Xv,Id,K_,Kv,sl,mk,Q_,gk,yk,Y_,Qv,um;const fn=class fn extends Xt{constructor(t){super({...t,name:"inkEditor"});R(this,Se);R(this,_h,0);R(this,xh,0);R(this,Wa,null);R(this,Wo,new Path2D);R(this,ps,!1);R(this,Eh,null);R(this,Sh,!1);R(this,Ah,!1);R(this,Vo,null);R(this,Xf,null);R(this,Ch,0);R(this,kh,0);R(this,xc,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,n){Xt.initialize(t,n)}static updateDefaultParams(t,n){switch(t){case ut.INK_THICKNESS:fn._defaultThickness=n;break;case ut.INK_COLOR:fn._defaultColor=n;break;case ut.INK_OPACITY:fn._defaultOpacity=n/100;break}}updateParams(t,n){switch(t){case ut.INK_THICKNESS:k(this,Se,sk).call(this,n);break;case ut.INK_COLOR:k(this,Se,ak).call(this,n);break;case ut.INK_OPACITY:k(this,Se,ok).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ut.INK_THICKNESS,fn._defaultThickness],[ut.INK_COLOR,fn._defaultColor||Xt._defaultLineColor],[ut.INK_OPACITY,Math.round(fn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[ut.INK_THICKNESS,this.thickness||fn._defaultThickness],[ut.INK_COLOR,this.color||fn._defaultColor||Xt._defaultLineColor],[ut.INK_OPACITY,Math.round(100*(this.opacity??fn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(k(this,Se,Gv).call(this),k(this,Se,Xv).call(this)),this.isAttachedToDOM||(this.parent.add(this),k(this,Se,Id).call(this)),k(this,Se,um).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,c(this,Wa)&&(clearTimeout(c(this,Wa)),A(this,Wa,null)),(t=c(this,Vo))==null||t.disconnect(),A(this,Vo,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,n]=this.parentDimensions,s=this.width*t,o=this.height*n;this.setDimensions(s,o)}enableEditMode(){c(this,ps)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,k(this,Se,V_).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),k(this,Se,G_).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){c(this,ps)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),A(this,ps,!0),this.div.classList.add("disabled"),k(this,Se,um).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||c(this,ps)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),k(this,Se,ck).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),k(this,Se,W_).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),k(this,Se,X_).call(this,t)}canvasPointerleave(t){k(this,Se,X_).call(this,t)}get isResizable(){return!this.isEmpty()&&c(this,ps)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[s,o,l,h]=k(this,Se,lk).call(this);if(this.setAt(s,o,0,0),this.setDims(l,h),k(this,Se,Gv).call(this),this.width){const[d,f]=this.parentDimensions;this.setAspectRatio(this.width*d,this.height*f),this.setAt(t*d,n*f,this.width*d,this.height*f),A(this,Ah,!0),k(this,Se,Id).call(this),this.setDims(this.width*d,this.height*f),k(this,Se,_u).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return k(this,Se,Xv).call(this),this.div}setDimensions(t,n){const s=Math.round(t),o=Math.round(n);if(c(this,Ch)===s&&c(this,kh)===o)return;A(this,Ch,s),A(this,kh,o),this.canvas.style.visibility="hidden";const[l,h]=this.parentDimensions;this.width=t/l,this.height=n/h,this.fixAndSetPosition(),c(this,ps)&&k(this,Se,K_).call(this,t,n),k(this,Se,Id).call(this),k(this,Se,_u).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,n,s){var N,T,F;if(t instanceof Fx)return null;const o=await super.deserialize(t,n,s);o.thickness=t.thickness,o.color=Ye.makeHexColor(...t.color),o.opacity=t.opacity;const[l,h]=o.pageDimensions,d=o.width*l,f=o.height*h,g=o.parentScale,v=t.thickness/2;A(o,ps,!0),A(o,Ch,Math.round(d)),A(o,kh,Math.round(f));const{paths:b,rect:_,rotation:S}=t;for(let{bezier:j}of b){j=k(N=fn,sl,gk).call(N,j,_,S);const O=[];o.paths.push(O);let D=g*(j[0]-v),U=g*(j[1]-v);for(let z=2,K=j.length;z<K;z+=6){const Y=g*(j[z]-v),te=g*(j[z+1]-v),le=g*(j[z+2]-v),we=g*(j[z+3]-v),Te=g*(j[z+4]-v),Ae=g*(j[z+5]-v);O.push([[D,U],[Y,te],[le,we],[Te,Ae]]),D=Te,U=Ae}const Q=k(this,sl,mk).call(this,O);o.bezierPath2D.push(Q)}const C=k(T=o,Se,Y_).call(T);return A(o,xh,Math.max(Xt.MIN_SIZE,C[2]-C[0])),A(o,_h,Math.max(Xt.MIN_SIZE,C[3]-C[1])),k(F=o,Se,K_).call(F,d,f),o}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),n=Xt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:gt.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:k(this,Se,yk).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};_h=new WeakMap,xh=new WeakMap,Wa=new WeakMap,Wo=new WeakMap,ps=new WeakMap,Eh=new WeakMap,Sh=new WeakMap,Ah=new WeakMap,Vo=new WeakMap,Xf=new WeakMap,Ch=new WeakMap,kh=new WeakMap,xc=new WeakMap,Se=new WeakSet,sk=function(t){const n=o=>{this.thickness=o,k(this,Se,um).call(this)},s=this.thickness;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},ak=function(t){const n=o=>{this.color=o,k(this,Se,_u).call(this)},s=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ok=function(t){const n=o=>{this.opacity=o,k(this,Se,_u).call(this)};t/=100;const s=this.opacity;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},lk=function(){const{parentRotation:t,parentDimensions:[n,s]}=this;switch(t){case 90:return[0,s,s,n];case 180:return[n,s,n,s];case 270:return[n,0,s,n];default:return[0,0,n,s]}},q_=function(){const{ctx:t,color:n,opacity:s,thickness:o,parentScale:l,scaleFactor:h}=this;t.lineWidth=o*l/h,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${n}${eM(s)}`},ck=function(t,n){this.canvas.addEventListener("contextmenu",ws,{signal:this._uiManager._signal}),k(this,Se,G_).call(this),A(this,Eh,new AbortController);const s=this._uiManager.combinedSignal(c(this,Eh));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:s}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:s}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:s}),this.isEditing=!0,c(this,Ah)||(A(this,Ah,!0),k(this,Se,Id).call(this),this.thickness||(this.thickness=fn._defaultThickness),this.color||(this.color=fn._defaultColor||Xt._defaultLineColor),this.opacity??(this.opacity=fn._defaultOpacity)),this.currentPath.push([t,n]),A(this,Sh,!1),k(this,Se,q_).call(this),A(this,xc,()=>{k(this,Se,dk).call(this),c(this,xc)&&window.requestAnimationFrame(c(this,xc))}),window.requestAnimationFrame(c(this,xc))},W_=function(t,n){const[s,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===s&&n===o)return;const l=this.currentPath;let h=c(this,Wo);if(l.push([t,n]),A(this,Sh,!0),l.length<=2){h.moveTo(...l[0]),h.lineTo(t,n);return}l.length===3&&(A(this,Wo,h=new Path2D),h.moveTo(...l[0])),k(this,Se,fk).call(this,h,...l.at(-3),...l.at(-2),t,n)},uk=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);c(this,Wo).lineTo(...t)},hk=function(t,n){A(this,xc,null),t=Math.min(Math.max(t,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),k(this,Se,W_).call(this,t,n),k(this,Se,uk).call(this);let s;if(this.currentPath.length!==1)s=k(this,Se,pk).call(this);else{const f=[t,n];s=[[f,f.slice(),f.slice(),f]]}const o=c(this,Wo),l=this.currentPath;this.currentPath=[],A(this,Wo,new Path2D);const h=()=>{this.allRawPaths.push(l),this.paths.push(s),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},d=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(k(this,Se,Gv).call(this),k(this,Se,Xv).call(this)),k(this,Se,um).call(this))};this.addCommands({cmd:h,undo:d,mustExec:!0})},dk=function(){if(!c(this,Sh))return;A(this,Sh,!1);const t=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),s=n.map(h=>h[0]),o=n.map(h=>h[1]);Math.min(...s)-t,Math.max(...s)+t,Math.min(...o)-t,Math.max(...o)+t;const{ctx:l}=this;l.save(),l.clearRect(0,0,this.canvas.width,this.canvas.height);for(const h of this.bezierPath2D)l.stroke(h);l.stroke(c(this,Wo)),l.restore()},fk=function(t,n,s,o,l,h,d){const f=(n+o)/2,g=(s+l)/2,v=(o+h)/2,b=(l+d)/2;t.bezierCurveTo(f+2*(o-f)/3,g+2*(l-g)/3,v+2*(o-v)/3,b+2*(l-b)/3,v,b)},pk=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const n=[];let s,[o,l]=t[0];for(s=1;s<t.length-2;s++){const[_,S]=t[s],[C,N]=t[s+1],T=(_+C)/2,F=(S+N)/2,j=[o+2*(_-o)/3,l+2*(S-l)/3],O=[T+2*(_-T)/3,F+2*(S-F)/3];n.push([[o,l],j,O,[T,F]]),[o,l]=[T,F]}const[h,d]=t[s],[f,g]=t[s+1],v=[o+2*(h-o)/3,l+2*(d-l)/3],b=[f+2*(h-f)/3,g+2*(d-g)/3];return n.push([[o,l],v,b,[f,g]]),n},_u=function(){if(this.isEmpty()){k(this,Se,Kv).call(this);return}k(this,Se,q_).call(this);const{canvas:t,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),k(this,Se,Kv).call(this);for(const s of this.bezierPath2D)n.stroke(s)},V_=function(){if(c(this,Xf))return;A(this,Xf,new AbortController);const t=this._uiManager.combinedSignal(c(this,Xf));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},G_=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},X_=function(t){var n;(n=c(this,Eh))==null||n.abort(),A(this,Eh,null),k(this,Se,V_).call(this),c(this,Wa)&&clearTimeout(c(this,Wa)),A(this,Wa,setTimeout(()=>{A(this,Wa,null),this.canvas.removeEventListener("contextmenu",ws)},10)),k(this,Se,hk).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Gv=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Xv=function(){A(this,Vo,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),c(this,Vo).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=c(this,Vo))==null||t.disconnect(),A(this,Vo,null)},{once:!0})},Id=function(){if(!c(this,Ah))return;const[t,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*n),k(this,Se,Kv).call(this)},K_=function(t,n){const s=k(this,Se,Qv).call(this),o=(t-s)/c(this,xh),l=(n-s)/c(this,_h);this.scaleFactor=Math.min(o,l)},Kv=function(){const t=k(this,Se,Qv).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},sl=new WeakSet,mk=function(t){const n=new Path2D;for(let s=0,o=t.length;s<o;s++){const[l,h,d,f]=t[s];s===0&&n.moveTo(...l),n.bezierCurveTo(h[0],h[1],d[0],d[1],f[0],f[1])}return n},Q_=function(t,n,s){const[o,l,h,d]=n;switch(s){case 0:for(let f=0,g=t.length;f<g;f+=2)t[f]+=o,t[f+1]=d-t[f+1];break;case 90:for(let f=0,g=t.length;f<g;f+=2){const v=t[f];t[f]=t[f+1]+o,t[f+1]=v+l}break;case 180:for(let f=0,g=t.length;f<g;f+=2)t[f]=h-t[f],t[f+1]+=l;break;case 270:for(let f=0,g=t.length;f<g;f+=2){const v=t[f];t[f]=h-t[f+1],t[f+1]=d-v}break;default:throw new Error("Invalid rotation")}return t},gk=function(t,n,s){const[o,l,h,d]=n;switch(s){case 0:for(let f=0,g=t.length;f<g;f+=2)t[f]-=o,t[f+1]=d-t[f+1];break;case 90:for(let f=0,g=t.length;f<g;f+=2){const v=t[f];t[f]=t[f+1]-l,t[f+1]=v-o}break;case 180:for(let f=0,g=t.length;f<g;f+=2)t[f]=h-t[f],t[f+1]-=l;break;case 270:for(let f=0,g=t.length;f<g;f+=2){const v=t[f];t[f]=d-t[f+1],t[f+1]=h-v}break;default:throw new Error("Invalid rotation")}return t},yk=function(t,n,s,o){var g,v;const l=[],h=this.thickness/2,d=t*n+h,f=t*s+h;for(const b of this.paths){const _=[],S=[];for(let C=0,N=b.length;C<N;C++){const[T,F,j,O]=b[C];if(T[0]===O[0]&&T[1]===O[1]&&N===1){const we=t*T[0]+d,Te=t*T[1]+f;_.push(we,Te),S.push(we,Te);break}const D=t*T[0]+d,U=t*T[1]+f,Q=t*F[0]+d,z=t*F[1]+f,K=t*j[0]+d,Y=t*j[1]+f,te=t*O[0]+d,le=t*O[1]+f;C===0&&(_.push(D,U),S.push(D,U)),_.push(Q,z,K,Y,te,le),S.push(Q,z),C===N-1&&S.push(te,le)}l.push({bezier:k(g=fn,sl,Q_).call(g,_,o,this.rotation),points:k(v=fn,sl,Q_).call(v,S,o,this.rotation)})}return l},Y_=function(){let t=1/0,n=-1/0,s=1/0,o=-1/0;for(const l of this.paths)for(const[h,d,f,g]of l){const v=Ye.bezierBoundingBox(...h,...d,...f,...g);t=Math.min(t,v[0]),s=Math.min(s,v[1]),n=Math.max(n,v[2]),o=Math.max(o,v[3])}return[t,s,n,o]},Qv=function(){return c(this,ps)?Math.ceil(this.thickness*this.parentScale):0},um=function(t=!1){if(this.isEmpty())return;if(!c(this,ps)){k(this,Se,_u).call(this);return}const n=k(this,Se,Y_).call(this),s=k(this,Se,Qv).call(this);A(this,xh,Math.max(Xt.MIN_SIZE,n[2]-n[0])),A(this,_h,Math.max(Xt.MIN_SIZE,n[3]-n[1]));const o=Math.ceil(s+c(this,xh)*this.scaleFactor),l=Math.ceil(s+c(this,_h)*this.scaleFactor),[h,d]=this.parentDimensions;this.width=o/h,this.height=l/d,this.setAspectRatio(o,l);const f=this.translationX,g=this.translationY;this.translationX=-n[0],this.translationY=-n[1],k(this,Se,Id).call(this),k(this,Se,_u).call(this),A(this,Ch,o),A(this,kh,l),this.setDims(o,l);const v=t?s/this.scaleFactor/2:0;this.translate(f-this.translationX-v,g-this.translationY-v)},R(fn,sl),ct(fn,"_defaultColor",null),ct(fn,"_defaultOpacity",1),ct(fn,"_defaultThickness",1),ct(fn,"_type","ink"),ct(fn,"_editorType",gt.INK);let U_=fn;var mn,xi,Ec,Go,Sc,Kf,Va,Xo,Ga,Hr,Qf,kt,hm,dm,Yv,Z_,vk,Jv,ex,Zv,bk,wk;const gm=class gm extends Xt{constructor(t){super({...t,name:"stampEditor"});R(this,kt);R(this,mn,null);R(this,xi,null);R(this,Ec,null);R(this,Go,null);R(this,Sc,null);R(this,Kf,"");R(this,Va,null);R(this,Xo,null);R(this,Ga,null);R(this,Hr,!1);R(this,Qf,!1);A(this,Go,t.bitmapUrl),A(this,Sc,t.bitmapFile)}static initialize(t,n){Xt.initialize(t,n)}static get supportedTypes(){return Pt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Pt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(gt.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:l,height:h}=t||this.copyCanvas(null,null,!0).imageData,d=await s.guess({name:"altText",request:{data:o,width:l,height:h,channels:o.length/(l*h)}});if(!d)throw new Error("No response from the AI service.");if(d.error)throw new Error("Error from the AI service.");if(d.cancel)return null;if(!d.output)throw new Error("No valid response from the AI service.");const f=d.output;return await this.setGuessedAltText(f),n&&!this.hasAltTextData()&&(this.altTextData={alt:f,decorative:!1}),f}remove(){var t,n;c(this,xi)&&(A(this,mn,null),this._uiManager.imageManager.deleteId(c(this,xi)),(t=c(this,Va))==null||t.remove(),A(this,Va,null),(n=c(this,Xo))==null||n.disconnect(),A(this,Xo,null),c(this,Ga)&&(clearTimeout(c(this,Ga)),A(this,Ga,null))),super.remove()}rebuild(){if(!this.parent){c(this,xi)&&k(this,kt,Yv).call(this);return}super.rebuild(),this.div!==null&&(c(this,xi)&&c(this,Va)===null&&k(this,kt,Yv).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(c(this,Ec)||c(this,mn)||c(this,Go)||c(this,Sc)||c(this,xi))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),c(this,mn)?k(this,kt,Z_).call(this):k(this,kt,Yv).call(this),this.width&&!this.annotationElementId){const[s,o]=this.parentDimensions;this.setAt(t*s,n*o,this.width*s,this.height*o)}return this.div}copyCanvas(t,n,s=!1){var _;t||(t=224);const{width:o,height:l}=c(this,mn),h=new Xw;let d=c(this,mn),f=o,g=l,v=null;if(n){if(o>n||l>n){const z=Math.min(n/o,n/l);f=Math.floor(o*z),g=Math.floor(l*z)}v=document.createElement("canvas");const S=v.width=Math.ceil(f*h.sx),C=v.height=Math.ceil(g*h.sy);c(this,Hr)||(d=k(this,kt,Jv).call(this,S,C));const N=v.getContext("2d");N.filter=this._uiManager.hcmFilter;let T="white",F="#cfcfd8";this._uiManager.hcmFilter!=="none"?F="black":(_=window.matchMedia)!=null&&_.call(window,"(prefers-color-scheme: dark)").matches&&(T="#8f8f9d",F="#42414d");const j=15,O=j*h.sx,D=j*h.sy,U=new OffscreenCanvas(O*2,D*2),Q=U.getContext("2d");Q.fillStyle=T,Q.fillRect(0,0,O*2,D*2),Q.fillStyle=F,Q.fillRect(0,0,O,D),Q.fillRect(O,D,O,D),N.fillStyle=N.createPattern(U,"repeat"),N.fillRect(0,0,S,C),N.drawImage(d,0,0,d.width,d.height,0,0,S,C)}let b=null;if(s){let S,C;if(h.symmetric&&d.width<t&&d.height<t)S=d.width,C=d.height;else if(d=c(this,mn),o>t||l>t){const F=Math.min(t/o,t/l);S=Math.floor(o*F),C=Math.floor(l*F),c(this,Hr)||(d=k(this,kt,Jv).call(this,S,C))}const T=new OffscreenCanvas(S,C).getContext("2d",{willReadFrequently:!0});T.drawImage(d,0,0,d.width,d.height,0,0,S,C),b={width:S,height:C,data:T.getImageData(0,0,S,C).data}}return{canvas:v,width:f,height:g,imageData:b}}getImageForAltText(){return c(this,Va)}static async deserialize(t,n,s){var C;let o=null;if(t instanceof RC){const{data:{rect:N,rotation:T,id:F,structParent:j,popupRef:O},container:D,parent:{page:{pageNumber:U}}}=t,Q=D.querySelector("canvas"),z=s.imageManager.getFromCanvas(D.id,Q);Q.remove();const K=((C=await n._structTree.getAriaAttributes(`${Ax}${F}`))==null?void 0:C.get("aria-label"))||"";o=t={annotationType:gt.STAMP,bitmapId:z.id,bitmap:z.bitmap,pageIndex:U-1,rect:N.slice(0),rotation:T,id:F,deleted:!1,accessibilityData:{decorative:!1,altText:K},isSvg:!1,structParent:j,popupRef:O}}const l=await super.deserialize(t,n,s),{rect:h,bitmap:d,bitmapUrl:f,bitmapId:g,isSvg:v,accessibilityData:b}=t;g&&s.imageManager.isValidId(g)?(A(l,xi,g),d&&A(l,mn,d)):A(l,Go,f),A(l,Hr,v);const[_,S]=l.pageDimensions;return l.width=(h[2]-h[0])/_,l.height=(h[3]-h[1])/S,l.annotationElementId=t.id||null,b&&(l.altTextData=b),l._initialData=o,A(l,Qf,!!o),l}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:gt.STAMP,bitmapId:c(this,xi),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,Hr),structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=k(this,kt,Zv).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s;const{decorative:o,altText:l}=this.serializeAltText(!1);if(!o&&l&&(s.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const d=k(this,kt,wk).call(this,s);if(d.isSame)return null;d.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,n===null)return s;n.stamps||(n.stamps=new Map);const h=c(this,Hr)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!n.stamps.has(c(this,xi)))n.stamps.set(c(this,xi),{area:h,serialized:s}),s.bitmap=k(this,kt,Zv).call(this,!1);else if(c(this,Hr)){const d=n.stamps.get(c(this,xi));h>d.area&&(d.area=h,d.serialized.bitmap.close(),d.serialized.bitmap=k(this,kt,Zv).call(this,!1))}return s}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};mn=new WeakMap,xi=new WeakMap,Ec=new WeakMap,Go=new WeakMap,Sc=new WeakMap,Kf=new WeakMap,Va=new WeakMap,Xo=new WeakMap,Ga=new WeakMap,Hr=new WeakMap,Qf=new WeakMap,kt=new WeakSet,hm=function(t,n=!1){if(!t){this.remove();return}A(this,mn,t.bitmap),n||(A(this,xi,t.id),A(this,Hr,t.isSvg)),t.file&&A(this,Kf,t.file.name),k(this,kt,Z_).call(this)},dm=function(){if(A(this,Ec,null),this._uiManager.enableWaiting(!1),!!c(this,Va)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&c(this,mn)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&c(this,mn)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Yv=function(){if(c(this,xi)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,xi)).then(s=>k(this,kt,hm).call(this,s,!0)).finally(()=>k(this,kt,dm).call(this));return}if(c(this,Go)){const s=c(this,Go);A(this,Go,null),this._uiManager.enableWaiting(!0),A(this,Ec,this._uiManager.imageManager.getFromUrl(s).then(o=>k(this,kt,hm).call(this,o)).finally(()=>k(this,kt,dm).call(this)));return}if(c(this,Sc)){const s=c(this,Sc);A(this,Sc,null),this._uiManager.enableWaiting(!0),A(this,Ec,this._uiManager.imageManager.getFromFile(s).then(o=>k(this,kt,hm).call(this,o)).finally(()=>k(this,kt,dm).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=gm.supportedTypesStr;const n=this._uiManager._signal;A(this,Ec,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),k(this,kt,hm).call(this,o)}s()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:n})}).finally(()=>k(this,kt,dm).call(this))),t.click()},Z_=function(){const{div:t}=this;let{width:n,height:s}=c(this,mn);const[o,l]=this.pageDimensions,h=.75;if(this.width)n=this.width*o,s=this.height*l;else if(n>h*o||s>h*l){const v=Math.min(h*o/n,h*l/s);n*=v,s*=v}const[d,f]=this.parentDimensions;this.setDims(n*d/o,s*f/l),this._uiManager.enableWaiting(!1);const g=A(this,Va,document.createElement("canvas"));g.setAttribute("role","img"),this.addContainer(g),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),k(this,kt,ex).call(this,n,s),k(this,kt,bk).call(this),c(this,Qf)||(this.parent.addUndoableEditor(this),A(this,Qf,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,Kf)&&g.setAttribute("aria-label",c(this,Kf))},vk=function(t,n){var h;const[s,o]=this.parentDimensions;this.width=t/s,this.height=n/o,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,c(this,Ga)!==null&&clearTimeout(c(this,Ga)),A(this,Ga,setTimeout(()=>{A(this,Ga,null),k(this,kt,ex).call(this,t,n)},200))},Jv=function(t,n){const{width:s,height:o}=c(this,mn);let l=s,h=o,d=c(this,mn);for(;l>2*t||h>2*n;){const f=l,g=h;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),h>2*n&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2));const v=new OffscreenCanvas(l,h);v.getContext("2d").drawImage(d,0,0,f,g,0,0,l,h),d=v.transferToImageBitmap()}return d},ex=function(t,n){const s=new Xw,o=Math.ceil(t*s.sx),l=Math.ceil(n*s.sy),h=c(this,Va);if(!h||h.width===o&&h.height===l)return;h.width=o,h.height=l;const d=c(this,Hr)?c(this,mn):k(this,kt,Jv).call(this,o,l),f=h.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(d,0,0,d.width,d.height,0,0,o,l)},Zv=function(t){if(t){if(c(this,Hr)){const o=this._uiManager.imageManager.getSvgUrl(c(this,xi));if(o)return o}const n=document.createElement("canvas");return{width:n.width,height:n.height}=c(this,mn),n.getContext("2d").drawImage(c(this,mn),0,0),n.toDataURL()}if(c(this,Hr)){const[n,s]=this.pageDimensions,o=Math.round(this.width*n*Rc.PDF_TO_CSS_UNITS),l=Math.round(this.height*s*Rc.PDF_TO_CSS_UNITS),h=new OffscreenCanvas(o,l);return h.getContext("2d").drawImage(c(this,mn),0,0,c(this,mn).width,c(this,mn).height,0,0,o,l),h.transferToImageBitmap()}return structuredClone(c(this,mn))},bk=function(){this._uiManager._signal&&(A(this,Xo,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&k(this,kt,vk).call(this,n.width,n.height)})),c(this,Xo).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=c(this,Xo))==null||t.disconnect(),A(this,Xo,null)},{once:!0}))},wk=function(t){var f;const{rect:n,pageIndex:s,accessibilityData:{altText:o}}=this._initialData,l=t.rect.every((g,v)=>Math.abs(g-n[v])<1),h=t.pageIndex===s,d=(((f=t.accessibilityData)==null?void 0:f.alt)||"")===o;return{isSame:l&&h&&d,isSameAltText:d}},ct(gm,"_type","stamp"),ct(gm,"_editorType",gt.STAMP);let J_=gm;var Th,Yf,Xa,Ac,Ko,$r,Cc,Jf,Zf,Oi,Qo,Ze,kc,Ei,_k,nx,ix,rx,e0;const Os=class Os{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:s,accessibilityManager:o,annotationLayer:l,drawLayer:h,textLayer:d,viewport:f,l10n:g}){R(this,Ei);R(this,Th);R(this,Yf,!1);R(this,Xa,null);R(this,Ac,null);R(this,Ko,null);R(this,$r,new Map);R(this,Cc,!1);R(this,Jf,!1);R(this,Zf,!1);R(this,Oi,null);R(this,Qo,null);R(this,Ze);const v=[...c(Os,kc).values()];if(!Os._initialized){Os._initialized=!0;for(const b of v)b.initialize(g,e)}e.registerEditorTypes(v),A(this,Ze,e),this.pageIndex=t,this.div=n,A(this,Th,o),A(this,Xa,l),this.viewport=f,A(this,Oi,d),this.drawLayer=h,this._structTree=s,c(this,Ze).addLayer(this)}get isEmpty(){return c(this,$r).size===0}get isInvisible(){return this.isEmpty&&c(this,Ze).getMode()===gt.NONE}updateToolbar(e){c(this,Ze).updateToolbar(e)}updateMode(e=c(this,Ze).getMode()){switch(k(this,Ei,e0).call(this),e){case gt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case gt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case gt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of c(Os,kc).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=c(this,Oi))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(c(this,Ze).getMode()!==gt.INK)return;if(!e){for(const n of c(this,$r).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){c(this,Ze).setEditingState(e)}addCommands(e){c(this,Ze).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=c(this,Xa))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of c(this,$r).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(c(this,Ze).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!c(this,Xa))return;const t=c(this,Xa).getEditableAnnotations();for(const n of t){if(n.hide(),c(this,Ze).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const s=await this.deserialize(n);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var s;A(this,Zf,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const o of c(this,$r).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else t.set(o.annotationElementId,o);(s=this.getEditableAnnotation(o.annotationElementId))==null||s.show(),o.remove()}if(c(this,Xa)){const o=c(this,Xa).getEditableAnnotations();for(const l of o){const{id:h}=l.data;if(c(this,Ze).isDeletedAnnotationElement(h))continue;let d=t.get(h);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=e.get(h),d&&(c(this,Ze).addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}k(this,Ei,e0).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const o of c(Os,kc).values())n.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),A(this,Zf,!1)}getEditableAnnotation(e){var t;return((t=c(this,Xa))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,Ze).getActive()!==e&&c(this,Ze).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=c(this,Oi))!=null&&e.div&&!c(this,Qo)){A(this,Qo,new AbortController);const t=c(this,Ze).combinedSignal(c(this,Qo));c(this,Oi).div.addEventListener("pointerdown",k(this,Ei,_k).bind(this),{signal:t}),c(this,Oi).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,Oi))!=null&&e.div&&c(this,Qo)&&(c(this,Qo).abort(),A(this,Qo,null),c(this,Oi).div.classList.remove("highlighting"))}enableClick(){if(c(this,Ac))return;A(this,Ac,new AbortController);const e=c(this,Ze).combinedSignal(c(this,Ac));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=c(this,Ac))==null||e.abort(),A(this,Ac,null)}attach(e){c(this,$r).set(e.id,e);const{annotationElementId:t}=e;t&&c(this,Ze).isDeletedAnnotationElement(t)&&c(this,Ze).removeDeletedAnnotationElement(e)}detach(e){var t;c(this,$r).delete(e.id),(t=c(this,Th))==null||t.removePointerInTextLayer(e.contentDiv),!c(this,Zf)&&e.annotationElementId&&c(this,Ze).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,Ze).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,c(this,Jf)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,Ze).addDeletedAnnotationElement(e.annotationElementId),Xt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,Ze).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),c(this,Ze).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!c(this,Ko)&&(e._focusEventsAllowed=!1,A(this,Ko,setTimeout(()=>{A(this,Ko,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:c(this,Ze)._signal}),t.focus())},0))),e._structTreeParentId=(n=c(this,Th))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return c(this,Ze).getId()}combinedSignal(e){return c(this,Ze).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=c(this,Ei,nx))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){c(this,Ze).updateToolbar(e),c(this,Ze).updateMode(e);const{offsetX:n,offsetY:s}=k(this,Ei,rx).call(this),o=this.getNextId(),l=k(this,Ei,ix).call(this,{parent:this,id:o,x:n,y:s,uiManager:c(this,Ze),isCentered:!0,...t});l&&this.add(l)}async deserialize(e){var t;return await((t=c(Os,kc).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,c(this,Ze)))||null}createAndAddNewEditor(e,t,n={}){const s=this.getNextId(),o=k(this,Ei,ix).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:c(this,Ze),isCentered:t,...n});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(k(this,Ei,rx).call(this),!0)}setSelected(e){c(this,Ze).setSelected(e)}toggleSelected(e){c(this,Ze).toggleSelected(e)}unselect(e){c(this,Ze).unselect(e)}pointerup(e){const{isMac:t}=Yi.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&c(this,Cc)){if(A(this,Cc,!1),!c(this,Yf)){A(this,Yf,!0);return}if(c(this,Ze).getMode()===gt.STAMP){c(this,Ze).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(c(this,Ze).getMode()===gt.HIGHLIGHT&&this.enableTextSelection(),c(this,Cc)){A(this,Cc,!1);return}const{isMac:t}=Yi.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;A(this,Cc,!0);const n=c(this,Ze).getActive();A(this,Yf,!n||n.isEmpty())}findNewParent(e,t,n){const s=c(this,Ze).findParent(t,n);return s===null||s===this?!1:(s.changeParent(e),!0)}destroy(){var e,t;((e=c(this,Ze).getActive())==null?void 0:e.parent)===this&&(c(this,Ze).commitOrRemove(),c(this,Ze).setActiveEditor(null)),c(this,Ko)&&(clearTimeout(c(this,Ko)),A(this,Ko,null));for(const n of c(this,$r).values())(t=c(this,Th))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,c(this,$r).clear(),c(this,Ze).removeLayer(this)}render({viewport:e}){this.viewport=e,Lh(this.div,e);for(const t of c(this,Ze).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){c(this,Ze).commitOrRemove(),k(this,Ei,e0).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Lh(this.div,{rotation:n}),t!==n)for(const s of c(this,$r).values())s.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return c(this,Ze).viewParameters.realScale}};Th=new WeakMap,Yf=new WeakMap,Xa=new WeakMap,Ac=new WeakMap,Ko=new WeakMap,$r=new WeakMap,Cc=new WeakMap,Jf=new WeakMap,Zf=new WeakMap,Oi=new WeakMap,Qo=new WeakMap,Ze=new WeakMap,kc=new WeakMap,Ei=new WeakSet,_k=function(e){c(this,Ze).unselectAll();const{target:t}=e;if(t===c(this,Oi).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&c(this,Oi).div.contains(t)){const{isMac:n}=Yi.platform;if(e.button!==0||e.ctrlKey&&n)return;c(this,Ze).showAllEditors("highlight",!0,!0),c(this,Oi).div.classList.add("free"),this.toggleDrawing(),h0.startHighlighting(this,c(this,Ze).direction==="ltr",{target:c(this,Oi).div,x:e.x,y:e.y}),c(this,Oi).div.addEventListener("pointerup",()=>{c(this,Oi).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:c(this,Ze)._signal}),e.preventDefault()}},nx=function(){return c(Os,kc).get(c(this,Ze).getMode())},ix=function(e){const t=c(this,Ei,nx);return t?new t.prototype.constructor(e):null},rx=function(){const{x:e,y:t,width:n,height:s}=this.div.getBoundingClientRect(),o=Math.max(0,e),l=Math.max(0,t),h=Math.min(window.innerWidth,e+n),d=Math.min(window.innerHeight,t+s),f=(o+h)/2-e,g=(l+d)/2-t,[v,b]=this.viewport.rotation%180===0?[f,g]:[g,f];return{offsetX:v,offsetY:b}},e0=function(){A(this,Jf,!0);for(const e of c(this,$r).values())e.isEmpty()&&e.remove();A(this,Jf,!1)},ct(Os,"_initialized",!1),R(Os,kc,new Map([D_,U_,J_,h0].map(e=>[e._editorType,e])));let tx=Os;var Ka,Og,In,Yo,jg,ax,Fh,ox,xk;const bi=class bi{constructor({pageIndex:e}){R(this,Fh);R(this,Ka,null);R(this,Og,0);R(this,In,new Map);R(this,Yo,new Map);this.pageIndex=e}setParent(e){if(!c(this,Ka)){A(this,Ka,e);return}if(c(this,Ka)!==e){if(c(this,In).size>0)for(const t of c(this,In).values())t.remove(),e.append(t);A(this,Ka,e)}}static get _svgFactory(){return Pt(this,"_svgFactory",new Ix)}draw(e,t,n,s=!1){const o=ri(this,Og)._++,l=k(this,Fh,ox).call(this,e.box);l.classList.add(...e.classNamesForDrawing);const h=bi._svgFactory.createElement("defs");l.append(h);const d=bi._svgFactory.createElement("path");h.append(d);const f=`path_p${this.pageIndex}_${o}`;d.setAttribute("id",f),d.setAttribute("d",e.toSVGPath()),s&&c(this,Yo).set(o,d);const g=k(this,Fh,xk).call(this,h,f),v=bi._svgFactory.createElement("use");return l.append(v),l.setAttribute("fill",t),l.setAttribute("fill-opacity",n),v.setAttribute("href",`#${f}`),c(this,In).set(o,l),{id:o,clipPathId:`url(#${g})`}}drawOutline(e){const t=ri(this,Og)._++,n=k(this,Fh,ox).call(this,e.box);n.classList.add(...e.classNamesForOutlining);const s=bi._svgFactory.createElement("defs");n.append(s);const o=bi._svgFactory.createElement("path");s.append(o);const l=`path_p${this.pageIndex}_${t}`;o.setAttribute("id",l),o.setAttribute("d",e.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let h;if(e.mustRemoveSelfIntersections){const g=bi._svgFactory.createElement("mask");s.append(g),h=`mask_p${this.pageIndex}_${t}`,g.setAttribute("id",h),g.setAttribute("maskUnits","objectBoundingBox");const v=bi._svgFactory.createElement("rect");g.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const b=bi._svgFactory.createElement("use");g.append(b),b.setAttribute("href",`#${l}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const d=bi._svgFactory.createElement("use");n.append(d),d.setAttribute("href",`#${l}`),h&&d.setAttribute("mask",`url(#${h})`);const f=d.cloneNode();return n.append(f),d.classList.add("mainOutline"),f.classList.add("secondaryOutline"),c(this,In).set(t,n),t}finalizeLine(e,t){const n=c(this,Yo).get(e);c(this,Yo).delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){c(this,In).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){c(this,Yo).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var n;k(n=bi,jg,ax).call(n,c(this,In).get(e),t)}show(e,t){c(this,In).get(e).classList.toggle("hidden",!t)}rotate(e,t){c(this,In).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){c(this,In).get(e).setAttribute("fill",t)}changeOpacity(e,t){c(this,In).get(e).setAttribute("fill-opacity",t)}addClass(e,t){c(this,In).get(e).classList.add(t)}removeClass(e,t){c(this,In).get(e).classList.remove(t)}getSVGRoot(e){return c(this,In).get(e)}remove(e){c(this,Yo).delete(e),c(this,Ka)!==null&&(c(this,In).get(e).remove(),c(this,In).delete(e))}destroy(){A(this,Ka,null);for(const e of c(this,In).values())e.remove();c(this,In).clear(),c(this,Yo).clear()}};Ka=new WeakMap,Og=new WeakMap,In=new WeakMap,Yo=new WeakMap,jg=new WeakSet,ax=function(e,{x:t=0,y:n=0,width:s=1,height:o=1}={}){const{style:l}=e;l.top=`${100*n}%`,l.left=`${100*t}%`,l.width=`${100*s}%`,l.height=`${100*o}%`},Fh=new WeakSet,ox=function(e){var n;const t=bi._svgFactory.create(1,1,!0);return c(this,Ka).append(t),t.setAttribute("aria-hidden",!0),k(n=bi,jg,ax).call(n,t,e),t},xk=function(e,t){const n=bi._svgFactory.createElement("clipPath");e.append(n);const s=`clip_${t}`;n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const o=bi._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),s},R(bi,jg);let sx=bi;var MD=ft.AbortException,DD=ft.AnnotationEditorLayer,ID=ft.AnnotationEditorParamsType,FD=ft.AnnotationEditorType,OD=ft.AnnotationEditorUIManager,Ek=ft.AnnotationLayer,Sk=ft.AnnotationMode,jD=ft.ColorPicker,HD=ft.DOMSVGFactory,$D=ft.DrawLayer,zD=ft.FeatureTest,Ox=ft.GlobalWorkerOptions,BD=ft.ImageKind,UD=ft.InvalidPDFException,qD=ft.MissingPDFException,WD=ft.OPS,VD=ft.OutputScale,GD=ft.PDFDataRangeTransport,XD=ft.PDFDateString,KD=ft.PDFWorker,QD=ft.PasswordResponses,YD=ft.PermissionFlag,JD=ft.PixelsPerInch,ZD=ft.RenderingCancelledException,Ak=ft.TextLayer,eI=ft.UnexpectedResponseException,tI=ft.Util,nI=ft.VerbosityLevel,iI=ft.XfaLayer,rI=ft.build,sI=ft.createValidAbsoluteUrl,aI=ft.fetchData,Ck=ft.getDocument,oI=ft.getFilenameFromUrl,lI=ft.getPdfFilenameFromUrl,cI=ft.getXfaPageViewport,uI=ft.isDataScheme,hI=ft.isPdfFile,dI=ft.noContextMenu,fI=ft.normalizeUnicode,pI=ft.setLayerDimensions,mI=ft.shadow,kk=ft.version;const gI=Object.freeze(Object.defineProperty({__proto__:null,AbortException:MD,AnnotationEditorLayer:DD,AnnotationEditorParamsType:ID,AnnotationEditorType:FD,AnnotationEditorUIManager:OD,AnnotationLayer:Ek,AnnotationMode:Sk,ColorPicker:jD,DOMSVGFactory:HD,DrawLayer:$D,FeatureTest:zD,GlobalWorkerOptions:Ox,ImageKind:BD,InvalidPDFException:UD,MissingPDFException:qD,OPS:WD,OutputScale:VD,PDFDataRangeTransport:GD,PDFDateString:XD,PDFWorker:KD,PasswordResponses:QD,PermissionFlag:YD,PixelsPerInch:JD,RenderingCancelledException:ZD,TextLayer:Ak,UnexpectedResponseException:eI,Util:tI,VerbosityLevel:nI,XfaLayer:iI,build:rI,createValidAbsoluteUrl:sI,fetchData:aI,getDocument:Ck,getFilenameFromUrl:oI,getPdfFilenameFromUrl:lI,getXfaPageViewport:cI,isDataScheme:uI,isPdfFile:hI,noContextMenu:dI,normalizeUnicode:fI,setLayerDimensions:pI,shadow:mI,version:kk},Symbol.toStringTag,{value:"Module"}));var si=function(a,e,t){if(t||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return a.concat(o||Array.prototype.slice.call(e))},yI=["onCopy","onCut","onPaste"],vI=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],bI=["onFocus","onBlur"],wI=["onInput","onInvalid","onReset","onSubmit"],_I=["onLoad","onError"],xI=["onKeyDown","onKeyPress","onKeyUp"],EI=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],SI=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],AI=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],CI=["onSelect"],kI=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],TI=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],PI=["onScroll"],RI=["onWheel"],LI=["onAnimationStart","onAnimationEnd","onAnimationIteration"],NI=["onTransitionEnd"],MI=["onToggle"],DI=["onChange"],II=si(si(si(si(si(si(si(si(si(si(si(si(si(si(si(si(si(si([],yI,!0),vI,!0),bI,!0),wI,!0),_I,!0),xI,!0),EI,!0),SI,!0),AI,!0),CI,!0),kI,!0),TI,!0),PI,!0),RI,!0),LI,!0),NI,!0),DI,!0),MI,!0);function Tk(a,e){var t={};return II.forEach(function(n){var s=a[n];s&&(e?t[n]=function(o){return s(o,e(n))}:t[n]=s)}),t}function Wg(a){var e=!1,t=new Promise(function(n,s){a.then(function(o){return!e&&n(o)}).catch(function(o){return!e&&s(o)})});return{promise:t,cancel:function(){e=!0}}}function Pk(a){var e,t,n="";if(typeof a=="string"||typeof a=="number")n+=a;else if(typeof a=="object")if(Array.isArray(a)){var s=a.length;for(e=0;e<s;e++)a[e]&&(t=Pk(a[e]))&&(n&&(n+=" "),n+=t)}else for(t in a)a[t]&&(n&&(n+=" "),n+=t);return n}function U0(){for(var a,e,t=0,n="",s=arguments.length;t<s;t++)(a=arguments[t])&&(e=Pk(a))&&(n&&(n+=" "),n+=e);return n}var FI="Invariant failed";function tn(a,e){if(!a)throw new Error(FI)}var Ew,hA;function OI(){if(hA)return Ew;hA=1;var a=function(){};return Ew=a,Ew}var jI=OI();const ji=wT(jI);var dA=Object.prototype.hasOwnProperty;function fA(a,e,t){for(t of a.keys())if($d(t,e))return t}function $d(a,e){var t,n,s;if(a===e)return!0;if(a&&e&&(t=a.constructor)===e.constructor){if(t===Date)return a.getTime()===e.getTime();if(t===RegExp)return a.toString()===e.toString();if(t===Array){if((n=a.length)===e.length)for(;n--&&$d(a[n],e[n]););return n===-1}if(t===Set){if(a.size!==e.size)return!1;for(n of a)if(s=n,s&&typeof s=="object"&&(s=fA(e,s),!s)||!e.has(s))return!1;return!0}if(t===Map){if(a.size!==e.size)return!1;for(n of a)if(s=n[0],s&&typeof s=="object"&&(s=fA(e,s),!s)||!$d(n[1],e.get(s)))return!1;return!0}if(t===ArrayBuffer)a=new Uint8Array(a),e=new Uint8Array(e);else if(t===DataView){if((n=a.byteLength)===e.byteLength)for(;n--&&a.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(a)){if((n=a.byteLength)===e.byteLength)for(;n--&&a[n]===e[n];);return n===-1}if(!t||typeof a=="object"){n=0;for(t in a)if(dA.call(a,t)&&++n&&!dA.call(e,t)||!(t in e)||!$d(a[t],e[t]))return!1;return Object.keys(e).length===n}}return a!==a&&e!==e}const Rk=I.createContext(null);function zd({children:a,type:e}){return x.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:a})}const HI="noopener noreferrer nofollow";class $I{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return tn(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){tn(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{tn(this.pdfDocument),tn(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{tn(Array.isArray(t));const n=t[0];new Promise(s=>{tn(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(o=>{s(o)}).catch(()=>{tn(!1)}):typeof n=="number"?s(n):tn(!1)}).then(s=>{const o=s+1;tn(this.pdfViewer),tn(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:s,pageNumber:o})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;tn(this.pdfViewer),tn(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||HI,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const pA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},q0=typeof window<"u",Lk=q0&&window.location.protocol==="file:";function zI(a){return typeof a<"u"}function yu(a){return zI(a)&&a!==null}function BI(a){return typeof a=="string"}function UI(a){return a instanceof ArrayBuffer}function qI(a){return tn(q0),a instanceof Blob}function lx(a){return BI(a)&&/^data:/.test(a)}function mA(a){tn(lx(a));const[e="",t=""]=a.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function WI(){return q0&&window.devicePixelRatio||1}const Nk="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function gA(){ji(!Lk,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Nk}`)}function VI(){ji(!Lk,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Nk}`)}function Dh(a){a!=null&&a.cancel&&a.cancel()}function cx(a,e){return Object.defineProperty(a,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(a,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(a,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(a,"originalHeight",{get(){return this.view[3]},configurable:!0}),a}function GI(a){return a.name==="RenderingCancelledException"}function XI(a){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=s=>{if(!s.target)return t(new Error("Error while reading a file."));const{error:o}=s.target;if(!o)return t(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(a)})}function KI(a,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return a}}function ep(){return I.useReducer(KI,{value:void 0,error:void 0})}var QI=function(a,e,t,n){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function h(g){try{f(n.next(g))}catch(v){l(v)}}function d(g){try{f(n.throw(g))}catch(v){l(v)}}function f(g){g.done?o(g.value):s(g.value).then(h,d)}f((n=n.apply(a,e||[])).next())})},yA=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(a);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(a,n[s])&&(t[n[s]]=a[n[s]]);return t};const{PDFDataRangeTransport:YI}=gI,JI=(a,e)=>{switch(e){case pA.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");a(t);break}case pA.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");a(t);break}}};function vA(a){return typeof a=="object"&&a!==null&&("data"in a||"range"in a||"url"in a)}const ZI=I.forwardRef(function(e,t){var{children:n,className:s,error:o="Failed to load PDF file.",externalLinkRel:l,externalLinkTarget:h,file:d,inputRef:f,imageResourcesPath:g,loading:v="Loading PDF…",noData:b="No PDF file specified.",onItemClick:_,onLoadError:S,onLoadProgress:C,onLoadSuccess:N,onPassword:T=JI,onSourceError:F,onSourceSuccess:j,options:O,renderMode:D,rotate:U}=e,Q=yA(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[z,K]=ep(),{value:Y,error:te}=z,[le,we]=ep(),{value:Te,error:Ae}=le,$e=I.useRef(new $I),fe=I.useRef([]),ae=I.useRef(void 0),_e=I.useRef(void 0);d&&d!==ae.current&&vA(d)&&(ji(!$d(d,ae.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),ae.current=d),O&&O!==_e.current&&(ji(!$d(O,_e.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),_e.current=O);const G=I.useRef({scrollPageIntoView:ye=>{const{dest:Ke,pageNumber:nt,pageIndex:St=nt-1}=ye;if(_){_({dest:Ke,pageIndex:St,pageNumber:nt});return}const er=fe.current[St];if(er){er.scrollIntoView();return}ji(!1,`An internal link leading to page ${nt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});I.useImperativeHandle(t,()=>({linkService:$e,pages:fe,viewer:G}),[]);function q(){j&&j()}function re(){te&&(ji(!1,te.toString()),F&&F(te))}function Ee(){K({type:"RESET"})}I.useEffect(Ee,[d,K]);const Me=I.useCallback(()=>QI(this,void 0,void 0,function*(){if(!d)return null;if(typeof d=="string")return lx(d)?{data:mA(d)}:(gA(),{url:d});if(d instanceof YI)return{range:d};if(UI(d))return{data:d};if(q0&&qI(d))return{data:yield XI(d)};if(tn(typeof d=="object"),tn(vA(d)),"url"in d&&typeof d.url=="string"){if(lx(d.url)){const{url:ye}=d,Ke=yA(d,["url"]),nt=mA(ye);return Object.assign({data:nt},Ke)}gA()}return d}),[d]);I.useEffect(()=>{const ye=Wg(Me());return ye.promise.then(Ke=>{K({type:"RESOLVE",value:Ke})}).catch(Ke=>{K({type:"REJECT",error:Ke})}),()=>{Dh(ye)}},[Me,K]),I.useEffect(()=>{if(!(typeof Y>"u")){if(Y===!1){re();return}q()}},[Y]);function qe(){Te&&(N&&N(Te),fe.current=new Array(Te.numPages),$e.current.setDocument(Te))}function Pe(){Ae&&(ji(!1,Ae.toString()),S&&S(Ae))}I.useEffect(function(){we({type:"RESET"})},[we,Y]),I.useEffect(function(){if(!Y)return;const Ke=O?Object.assign(Object.assign({},Y),O):Y,nt=Ck(Ke);C&&(nt.onProgress=C),T&&(nt.onPassword=T);const St=nt,er=St.promise.then(Wr=>{we({type:"RESOLVE",value:Wr})}).catch(Wr=>{St.destroyed||we({type:"REJECT",error:Wr})});return()=>{er.finally(()=>St.destroy())}},[O,we,Y]),I.useEffect(()=>{if(!(typeof Te>"u")){if(Te===!1){Pe();return}qe()}},[Te]),I.useEffect(function(){$e.current.setViewer(G.current),$e.current.setExternalLinkRel(l),$e.current.setExternalLinkTarget(h)},[l,h]);const He=I.useCallback((ye,Ke)=>{fe.current[ye]=Ke},[]),de=I.useCallback(ye=>{delete fe.current[ye]},[]),Ge=I.useMemo(()=>({imageResourcesPath:g,linkService:$e.current,onItemClick:_,pdf:Te,registerPage:He,renderMode:D,rotate:U,unregisterPage:de}),[g,_,Te,He,D,U,de]),it=I.useMemo(()=>Tk(Q,()=>Te),[Q,Te]);function be(){return x.jsx(Rk.Provider,{value:Ge,children:n})}function me(){return d?Te==null?x.jsx(zd,{type:"loading",children:typeof v=="function"?v():v}):Te===!1?x.jsx(zd,{type:"error",children:typeof o=="function"?o():o}):be():x.jsx(zd,{type:"no-data",children:typeof b=="function"?b():b})}return x.jsx("div",Object.assign({className:U0("react-pdf__Document",s),ref:f,style:{"--scale-factor":"1"}},it,{children:me()}))});function Mk(){return I.useContext(Rk)}function Dk(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var t=a.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(o){t.forEach(function(l){typeof l=="function"?l(o):l&&(l.current=o)})}}const Ik=I.createContext(null),Fk={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},eF=/^H(\d+)$/;function tF(a){return a in Fk}function W0(a){return"children"in a}function Ok(a){return W0(a)?a.children.length===1&&0 in a.children&&"id"in a.children[0]:!1}function nF(a){const e={};if(W0(a)){const{role:t}=a,n=t.match(eF);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(tF(t)){const s=Fk[t];s&&(e.role=s)}}return e}function jk(a){const e={};if(W0(a)){if(a.alt!==void 0&&(e["aria-label"]=a.alt),a.lang!==void 0&&(e.lang=a.lang),Ok(a)){const[t]=a.children;if(t){const n=jk(t);return Object.assign(Object.assign({},e),n)}}}else"id"in a&&(e["aria-owns"]=a.id);return e}function iF(a){return a?Object.assign(Object.assign({},nF(a)),jk(a)):null}function Hk({className:a,node:e}){const t=I.useMemo(()=>iF(e),[e]),n=I.useMemo(()=>!W0(e)||Ok(e)?null:e.children.map((s,o)=>x.jsx(Hk,{node:s},o)),[e]);return x.jsx("span",Object.assign({className:a},t,{children:n}))}function V0(){return I.useContext(Ik)}function rF(){const a=V0();tn(a);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=a,[n,s]=ep(),{value:o,error:l}=n,{customTextRenderer:h,page:d}=a;function f(){o&&t&&t(o)}function g(){l&&(ji(!1,l.toString()),e&&e(l))}return I.useEffect(function(){s({type:"RESET"})},[s,d]),I.useEffect(function(){if(h||!d)return;const b=Wg(d.getStructTree()),_=b;return b.promise.then(S=>{s({type:"RESOLVE",value:S})}).catch(S=>{s({type:"REJECT",error:S})}),()=>Dh(_)},[h,d,s]),I.useEffect(()=>{if(o!==void 0){if(o===!1){g();return}f()}},[o]),o?x.jsx(Hk,{className:"react-pdf__Page__structTree structTree",node:o}):null}const bA=Sk;function sF(a){const e=V0();tn(e);const t=Object.assign(Object.assign({},e),a),{_className:n,canvasBackground:s,devicePixelRatio:o=WI(),onRenderError:l,onRenderSuccess:h,page:d,renderForms:f,renderTextLayer:g,rotate:v,scale:b}=t,{canvasRef:_}=a;tn(d);const S=I.useRef(null);function C(){d&&h&&h(cx(d,b))}function N(O){GI(O)||(ji(!1,O.toString()),l&&l(O))}const T=I.useMemo(()=>d.getViewport({scale:b*o,rotation:v}),[o,d,v,b]),F=I.useMemo(()=>d.getViewport({scale:b,rotation:v}),[d,v,b]);I.useEffect(function(){if(!d)return;d.cleanup();const{current:D}=S;if(!D)return;D.width=T.width,D.height=T.height,D.style.width=`${Math.floor(F.width)}px`,D.style.height=`${Math.floor(F.height)}px`,D.style.visibility="hidden";const U={annotationMode:f?bA.ENABLE_FORMS:bA.ENABLE,canvasContext:D.getContext("2d",{alpha:!1}),viewport:T};s&&(U.background=s);const Q=d.render(U),z=Q;return Q.promise.then(()=>{D.style.visibility="",C()}).catch(N),()=>Dh(z)},[s,d,f,T,F]);const j=I.useCallback(()=>{const{current:O}=S;O&&(O.width=0,O.height=0)},[]);return I.useEffect(()=>j,[j]),x.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:Dk(_,S),style:{display:"block",userSelect:"none"},children:g?x.jsx(rF,{}):null})}function aF(a){return"str"in a}function oF(){const a=V0();tn(a);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:s,onRenderTextLayerSuccess:o,page:l,pageIndex:h,pageNumber:d,rotate:f,scale:g}=a;tn(l);const[v,b]=ep(),{value:_,error:S}=v,C=I.useRef(null);ji(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function N(){_&&n&&n(_)}function T(){S&&(ji(!1,S.toString()),t&&t(S))}I.useEffect(function(){b({type:"RESET"})},[l,b]),I.useEffect(function(){if(!l)return;const z=Wg(l.getTextContent()),K=z;return z.promise.then(Y=>{b({type:"RESOLVE",value:Y})}).catch(Y=>{b({type:"REJECT",error:Y})}),()=>Dh(K)},[l,b]),I.useEffect(()=>{if(_!==void 0){if(_===!1){T();return}N()}},[_]);const F=I.useCallback(()=>{o&&o()},[o]),j=I.useCallback(Q=>{ji(!1,Q.toString()),s&&s(Q)},[s]);function O(){const Q=C.current;Q&&Q.classList.add("selecting")}function D(){const Q=C.current;Q&&Q.classList.remove("selecting")}const U=I.useMemo(()=>l.getViewport({scale:g,rotation:f}),[l,f,g]);return I.useLayoutEffect(function(){if(!l||!_)return;const{current:z}=C;if(!z)return;z.innerHTML="";const K=l.streamTextContent({includeMarkedContent:!0}),Y={container:z,textContentSource:K,viewport:U},te=new Ak(Y),le=te;return te.render().then(()=>{const we=document.createElement("div");we.className="endOfContent",z.append(we);const Te=z.querySelectorAll('[role="presentation"]');if(e){let Ae=0;_.items.forEach(($e,fe)=>{if(!aF($e))return;const ae=Te[Ae];if(!ae)return;const _e=e(Object.assign({pageIndex:h,pageNumber:d,itemIndex:fe},$e));ae.innerHTML=_e,Ae+=$e.str&&$e.hasEOL?2:1})}F()}).catch(j),()=>Dh(le)},[e,j,F,l,h,d,_,U]),x.jsx("div",{className:U0("react-pdf__Page__textContent","textLayer"),onMouseUp:D,onMouseDown:O,ref:C})}function lF(){const a=Mk(),e=V0();tn(e);const t=Object.assign(Object.assign({},a),e),{imageResourcesPath:n,linkService:s,onGetAnnotationsError:o,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:d,page:f,pdf:g,renderForms:v,rotate:b,scale:_=1}=t;tn(g),tn(f),tn(s);const[S,C]=ep(),{value:N,error:T}=S,F=I.useRef(null);ji(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function j(){N&&l&&l(N)}function O(){T&&(ji(!1,T.toString()),o&&o(T))}I.useEffect(function(){C({type:"RESET"})},[C,f]),I.useEffect(function(){if(!f)return;const K=Wg(f.getAnnotations()),Y=K;return K.promise.then(te=>{C({type:"RESOLVE",value:te})}).catch(te=>{C({type:"REJECT",error:te})}),()=>{Dh(Y)}},[C,f]),I.useEffect(()=>{if(N!==void 0){if(N===!1){O();return}j()}},[N]);function D(){d&&d()}function U(z){ji(!1,`${z}`),h&&h(z)}const Q=I.useMemo(()=>f.getViewport({scale:_,rotation:b}),[f,b,_]);return I.useEffect(function(){if(!g||!f||!s||!N)return;const{current:K}=F;if(!K)return;const Y=Q.clone({dontFlip:!0}),te={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:K,l10n:null,page:f,structTreeLayer:null,viewport:Y},le={annotations:N,annotationStorage:g.annotationStorage,div:K,imageResourcesPath:n,linkService:s,page:f,renderForms:v,viewport:Y};K.innerHTML="";try{new Ek(te).render(le),D()}catch(we){U(we)}return()=>{}},[N,n,s,f,g,v,Q]),x.jsx("div",{className:U0("react-pdf__Page__annotations","annotationLayer"),ref:F})}var cF=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(a);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(a,n[s])&&(t[n[s]]=a[n[s]]);return t};const wA=1;function uF(a){const e=Mk(),t=Object.assign(Object.assign({},e),a),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:o,canvasRef:l,children:h,className:d,customRenderer:f,customTextRenderer:g,devicePixelRatio:v,error:b="Failed to load the page.",height:_,inputRef:S,loading:C="Loading page…",noData:N="No page specified.",onGetAnnotationsError:T,onGetAnnotationsSuccess:F,onGetStructTreeError:j,onGetStructTreeSuccess:O,onGetTextError:D,onGetTextSuccess:U,onLoadError:Q,onLoadSuccess:z,onRenderAnnotationLayerError:K,onRenderAnnotationLayerSuccess:Y,onRenderError:te,onRenderSuccess:le,onRenderTextLayerError:we,onRenderTextLayerSuccess:Te,pageIndex:Ae,pageNumber:$e,pdf:fe,registerPage:ae,renderAnnotationLayer:_e=!0,renderForms:G=!1,renderMode:q="canvas",renderTextLayer:re=!0,rotate:Ee,scale:Me=wA,unregisterPage:qe,width:Pe}=t,He=cF(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[de,Ge]=ep(),{value:it,error:be}=de,me=I.useRef(null);tn(fe);const ye=yu($e)?$e-1:Ae??null,Ke=$e??(yu(Ae)?Ae+1:null),nt=Ee??(it?it.rotate:null),St=I.useMemo(()=>{if(!it)return null;let On=1;const Ln=Me??wA;if(Pe||_){const Si=it.getViewport({scale:1,rotation:nt});Pe?On=Pe/Si.width:_&&(On=_/Si.height)}return Ln*On},[_,it,nt,Me,Pe]);I.useEffect(function(){return()=>{yu(ye)&&s&&qe&&qe(ye)}},[s,fe,ye,qe]);function er(){if(z){if(!it||!St)return;z(cx(it,St))}if(s&&ae){if(!yu(ye)||!me.current)return;ae(ye,me.current)}}function Wr(){be&&(ji(!1,be.toString()),Q&&Q(be))}I.useEffect(function(){Ge({type:"RESET"})},[Ge,fe,ye]),I.useEffect(function(){if(!fe||!Ke)return;const Ln=Wg(fe.getPage(Ke)),Si=Ln;return Ln.promise.then(un=>{Ge({type:"RESOLVE",value:un})}).catch(un=>{Ge({type:"REJECT",error:un})}),()=>Dh(Si)},[Ge,fe,Ke]),I.useEffect(()=>{if(it!==void 0){if(it===!1){Wr();return}er()}},[it,St]);const Za=I.useMemo(()=>it&&yu(ye)&&Ke&&yu(nt)&&yu(St)?{_className:n,canvasBackground:o,customTextRenderer:g,devicePixelRatio:v,onGetAnnotationsError:T,onGetAnnotationsSuccess:F,onGetStructTreeError:j,onGetStructTreeSuccess:O,onGetTextError:D,onGetTextSuccess:U,onRenderAnnotationLayerError:K,onRenderAnnotationLayerSuccess:Y,onRenderError:te,onRenderSuccess:le,onRenderTextLayerError:we,onRenderTextLayerSuccess:Te,page:it,pageIndex:ye,pageNumber:Ke,renderForms:G,renderTextLayer:re,rotate:nt,scale:St}:null,[n,o,g,v,T,F,j,O,D,U,K,Y,te,le,we,Te,it,ye,Ke,G,re,nt,St]),_s=I.useMemo(()=>Tk(He,()=>it&&(St?cx(it,St):void 0)),[He,it,St]),An=`${ye}@${St}/${nt}`;function Ar(){switch(q){case"custom":return tn(f),x.jsx(f,{},`${An}_custom`);case"none":return null;case"canvas":default:return x.jsx(sF,{canvasRef:l},`${An}_canvas`)}}function eo(){return re?x.jsx(oF,{},`${An}_text`):null}function Cr(){return _e?x.jsx(lF,{},`${An}_annotations`):null}function yn(){return x.jsxs(Ik.Provider,{value:Za,children:[Ar(),eo(),Cr(),h]})}function fi(){return Ke?fe===null||it===void 0||it===null?x.jsx(zd,{type:"loading",children:typeof C=="function"?C():C}):fe===!1||it===!1?x.jsx(zd,{type:"error",children:typeof b=="function"?b():b}):yn():x.jsx(zd,{type:"no-data",children:typeof N=="function"?N():N})}return x.jsx("div",Object.assign({className:U0(n,d),"data-page-number":Ke,ref:Dk(S,me),style:{"--scale-factor":`${St}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},_s,{children:fi()}))}VI();Ox.workerSrc="pdf.worker.mjs";Ox.workerSrc=`//unpkg.com/pdfjs-dist@${kk}/legacy/build/pdf.worker.min.mjs`;const hF=({file:a})=>{const e=a,[t,n]=I.useState(0),[s,o]=I.useState(1),[l,h]=I.useState(1),d=({numPages:v})=>{n(v)},f=v=>{o(b=>{const _=b+v;return Math.min(Math.max(1,_),t)})},g=v=>{const b=l+v;h(b)};return e==null?x.jsx(x.Fragment,{children:x.jsx("div",{className:"d-flex flex-column align-items-center justify-content-center bg-white h-100",children:"choose the pdf file to render here"})}):x.jsx("div",{className:"container",children:e&&x.jsxs("div",{className:"d-flex flex-column align-items-center",children:[x.jsx("div",{className:`w-100 h-100 overflow-auto p-4 d-flex ${l==1?"justify-content-center":""}`,children:x.jsx(ZI,{file:e,onLoadSuccess:d,className:"d-flex",children:x.jsx(uF,{pageNumber:s,scale:l,renderTextLayer:!0,renderAnnotationLayer:!0,className:"shadow"})})}),x.jsxs("div",{className:"d-flex align-items-center gap-3 p-2 mt-2 bg-white rounded",children:[x.jsx("button",{onClick:()=>f(-1),disabled:s<=1,className:"btn btn-outline-secondary btn-sm",children:x.jsx(oN,{size:20})}),x.jsxs("p",{className:"mb-0 text-muted",children:["Page ",s," of ",t]}),x.jsx("button",{onClick:()=>g(.5),disabled:l==2,className:"btn btn-outline-secondary btn-sm",children:x.jsx(gN,{size:20})}),x.jsx("button",{onClick:()=>g(-.5),disabled:l==1,className:"btn btn-outline-secondary btn-sm",children:x.jsx(vN,{size:20})}),x.jsx("button",{onClick:()=>f(1),disabled:s>=t,className:"btn btn-outline-secondary btn-sm",children:x.jsx(cN,{size:20})})]})]})})},dF=()=>{const[a,e]=I.useState(null),[t,n]=I.useState(null),[s,o]=I.useState([]),[l,h]=I.useState([]),[d,f]=I.useState([]),[g,v]=I.useState(""),b=al(),{subject:_,subjectCode:S}=b.state||{};I.useEffect(()=>{function K(Y){const te=document.getElementById("customContextMenu");Y.preventDefault();var le;window.getSelection?le=window.getSelection():document.selection&&(le=document.selection.createRange());var we=le.toString();if(we.length){const{pageX:Te,pageY:Ae}=Y;te.style.left=`${Te}px`,te.style.top=`${Ae}px`,te.style.display="block",v(we)}else te.style.display="none"}return document.addEventListener("mouseup",K),()=>{document.removeEventListener("mouseup",K)}},[]);const C=K=>{var te;const Y=(te=K.target.files)==null?void 0:te[0];Y&&e(Y)},N=K=>{g!=""&&(K==3&&o(Y=>[...Y,g]),K==6&&h(Y=>[...Y,g]),K==10&&f(Y=>[...Y,g]))},T=(K,Y)=>{if(K==3){let te=document.getElementById(Y).value;!te==""&&(o(le=>[...le,te]),document.getElementById(Y).value="")}else if(K==6){let te=document.getElementById(Y).value;!te==""&&(h(le=>[...le,te]),document.getElementById(Y).value="")}else if(K==10){let te=document.getElementById(Y).value;!te==""&&(f(le=>[...le,te]),document.getElementById(Y).value="")}},F=(K,Y)=>{Y==="3"?o(te=>te.filter((le,we)=>we!==K)):Y==="6"?h(te=>te.filter((le,we)=>we!==K)):Y==="10"&&f(te=>te.filter((le,we)=>we!==K))},j=(K,Y,te)=>{if(te==="3"){const le=[...s];le[K]=Y,o(le)}else if(te==="6"){const le=[...l];le[K]=Y,h(le)}else if(te==="10"){const le=[...d];le[K]=Y,f(le)}},O=K=>{K.preventDefault();const Y=new FormData;Y.append("topic",t),Y.append("file",a),Y.append("Subject_code",S),Y.append("mark_3",JSON.stringify(s)),Y.append("mark_6",JSON.stringify(l)),Y.append("mark_10",JSON.stringify(d)),D(Y)},{mutate:D,isPending:U,isError:Q,error:z}=Ja({mutationFn:async K=>{const Y=await fetch(`${di}/api/questionpaper/save-question-paper`,{method:"POST",body:K}),te=await Y.json();if(!Y.ok)throw new Error(te.error||"Something went wrong")},onSuccess:()=>{cn.success("Question Paper Saved Successfully"),document.querySelector("#addNewQuestionPaperFrom").reset(),o([]),h([]),f([]),e(null),n(null)}});return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"sticky-top question-paper-title text-center pt-2 pb-2 fs-5",children:"Add New Question Paper"}),x.jsxs("div",{className:"row vh-100 m-0",children:[x.jsx("div",{className:"col-md-6 col-12 questionpaper-container p-3 overflow-auto",children:x.jsx(hF,{file:a})}),x.jsx("div",{className:"col-md-6 col-12 p-4",children:x.jsxs("form",{onSubmit:O,id:"addNewQuestionPaperFrom",children:[x.jsxs("div",{className:"mb-3 row",children:[x.jsx("div",{className:"col-md-6 col-12",children:x.jsxs("p",{children:[x.jsx("span",{className:"h5 subject-info",children:"Subject Name : "}),x.jsx("span",{className:"h5 fw-normal",children:_})]})}),x.jsx("div",{className:"col-md-6 col-12",children:x.jsxs("p",{children:[x.jsx("span",{className:"h5 subject-info",children:"Subject Code : "}),x.jsx("span",{className:"h5 fw-normal",children:S})]})})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{htmlFor:"questionpaper-topic",className:"form-label",children:"Enter The title for the question Paper"}),x.jsx("input",{type:"text",className:"form-control",id:"questionpaper-topic","aria-describedby":"questionpaper-topic-help",onChange:K=>{n(K.target.value)}}),x.jsx("div",{id:"questionpaper-topic-help",className:"form-text mt-2",children:"This for the question paper discription"})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{htmlFor:"questionpaper-file",className:"form-label",children:"Enter The title for the question Paper"}),x.jsx("input",{type:"file",className:"form-control",id:"questionpaper-file","aria-describedby":"questionpaper-file-help",onChange:C}),x.jsx("div",{id:"questionpaper-file-help",className:"form-text mt-2",children:"This for the question paper discription"})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{className:"form-label",children:"3 Marks"}),x.jsxs("div",{className:"input-group mb-2",children:[x.jsx("input",{type:"text",id:"threeNewInput",className:"form-control",placeholder:"Enter a questtion Manually"}),x.jsx("span",{className:"input-group-text",children:x.jsx("button",{className:"btn-primary border-0 bg-transparent",type:"button",onClick:()=>{T(3,"threeNewInput")},children:"Add"})})]}),s.map((K,Y)=>x.jsxs("div",{className:"input-group mb-2",children:[x.jsx("input",{type:"text",className:"form-control",value:K,onChange:te=>j(Y,te.target.value,"3")}),x.jsx("span",{className:"input-group-text",children:x.jsx("button",{className:"btn-close",type:"button","aria-label":"close",onClick:()=>F(Y,"3")})})]},Y)),x.jsx("div",{id:"questionpaper-file-help",className:"form-text mt-2",children:"This for the question paper 3 Marks"})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{className:"form-label",children:"6 Marks"}),x.jsxs("div",{className:"input-group mb-2",children:[x.jsx("input",{type:"text",id:"sixNewInput",className:"form-control",placeholder:"Enter a questtion Manually"}),x.jsx("span",{className:"input-group-text",children:x.jsx("button",{className:"btn-primary border-0 bg-transparent",type:"button",onClick:()=>{T(6,"sixNewInput")},children:"Add"})})]}),l.map((K,Y)=>x.jsxs("div",{className:"input-group mb-2",children:[x.jsx("input",{type:"text",className:"form-control",value:K,onChange:te=>j(Y,te.target.value,"6")}),x.jsx("span",{className:"input-group-text",children:x.jsx("button",{className:"btn-close",type:"button","aria-label":"close",onClick:()=>F(Y,"6")})})]},Y)),x.jsx("div",{id:"questionpaper-file-help",className:"form-text mt-2",children:"This for the question paper 6 Marks"})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{className:"form-label",children:"10 Marks"}),x.jsxs("div",{className:"input-group mb-2",children:[x.jsx("input",{type:"text",id:"tenNewInput",className:"form-control",placeholder:"Enter a questtion Manually"}),x.jsx("span",{className:"input-group-text",children:x.jsx("button",{className:"btn-primary border-0 bg-transparent",type:"button",onClick:()=>{T(10,"tenNewInput")},children:"Add"})})]}),d.map((K,Y)=>x.jsxs("div",{className:"input-group mb-2",children:[x.jsx("input",{type:"text",className:"form-control",value:K,onChange:te=>j(Y,te.target.value,"10")}),x.jsx("span",{className:"input-group-text",children:x.jsx("button",{className:"btn-close",type:"button","aria-label":"close",onClick:()=>F(Y,"10")})})]},Y)),x.jsx("div",{id:"questionpaper-file-help",className:"form-text mt-2",children:"This for the question paper 10 Marks"})]}),x.jsx("div",{className:"form-group",children:x.jsx("button",{type:"submit",id:"addNewQuestionPaperSubmitButton",className:"btn-primary text-center px-5 py-2 border-0 rounded",disabled:U,children:U?"Saving":"save"})})]})})]}),x.jsxs("ul",{id:"customContextMenu",className:"list-unstyled",children:[x.jsx("li",{id:"menuItem2",onClick:()=>{N(3)},children:"3 Mark"}),x.jsx("li",{id:"menuItem2",onClick:()=>{N(6)},children:"6 Mark"}),x.jsx("li",{id:"menuItem3",onClick:()=>{N(10)},children:"10 Mark"})]})]})},fF="/assets/error-BUF5Ajll.png",pF=()=>x.jsx(x.Fragment,{children:x.jsx("div",{className:"row m-0 align-items-center justify-content-center vh-100",children:x.jsxs("div",{className:"col-12 col-sm-8 col-lg-6 d-flex flex-column align-items-center justify-content-center p-3",children:[x.jsx("img",{src:fF,alt:"Error Image",id:"error-image"}),x.jsx("p",{className:"h3 text-center mb-2",children:"We Can't find the page you're looking for."}),x.jsx("p",{className:"text-center text-muted mb-4",children:"Page not found.It may have been moved,renamed,or temporarily uunavailable.Please check the URL or go back home."}),x.jsx(Ya,{to:"/",id:"home-button",className:"px-5 py-2 rounded",children:"Back to Home"})]})})}),mF="/assets/qp_banner-BbyOFK6u.png",gF=()=>{const a={mark_3:12,mark_6:7,mark_10:6,mark_3_topic_main:"SECTION - A (10 X 3 = 30 MARKS)",mark_3_topic_sub:"(Answer Any TEN Questions)",mark_6_topic_main:"SECTION - B (5 X 6 = 30 MARKS)",mark_6_topic_sub:"(Answer Any FIVE Questions)",mark_10_topic_main:"SECTION - C (4 X 10 = 40 MARKS)",mark_10_topic_sub:"(Answer Any FOUR Questions)",max_marks:100,time:3},e={mark_3:6,mark_6:5,mark_10:3,mark_3_topic_main:"SECTION - A (4 X 3 = 12 MARKS)",mark_3_topic_sub:"(Answer Any FOUR Questions)",mark_6_topic_main:"SECTION - B (3 X 6 = 18 MARKS)",mark_6_topic_sub:"(Answer Any THREE Questions)",mark_10_topic_main:"SECTION - C (2 X 10 = 20 MARKS)",mark_10_topic_sub:"(Answer Any TWO Questions)",max_marks:50,time:1.5},[t,n]=I.useState(null),[s,o]=I.useState(null),[l,h]=I.useState(null),[d,f]=I.useState(null),[g,v]=I.useState(null),[b,_]=I.useState(a),[S,C]=I.useState("sem"),[N,T]=I.useState(null),[F,j]=I.useState(null),[O,D]=I.useState(!1),[U,Q]=I.useState(!1),[z,K]=I.useState({mark_3:[],mark_6:[],mark_10:[]}),[Y,te]=I.useState({mark_3:[],mark_6:[],mark_10:[]});I.useEffect(()=>{if(z.mark_3.length!=0&&Y.mark_3.length<b.mark_3)for(let be=0;be<b.mark_3;be++)te(me=>({...me,mark_3:[...me.mark_3,z.mark_3[Math.floor(Math.random()*z.mark_3.length)]]}));if(z.mark_6.length!=0&&Y.mark_6.length<b.mark_6)for(let be=0;be<b.mark_6;be++)te(me=>({...me,mark_6:[...me.mark_6,z.mark_6[Math.floor(Math.random()*z.mark_6.length)]]}));if(z.mark_10.length!=0&&Y.mark_10.length<b.mark_10)for(let be=0;be<b.mark_10;be++)te(me=>({...me,mark_10:[...me.mark_10,z.mark_10[Math.floor(Math.random()*z.mark_10.length)]]}))},[z]);const{data:le,isLoading:we}=Tc({queryKey:["getSubject"],queryFn:async()=>{try{const be=await fetch(`${di}/api/questionpaper/get-subject`),me=await be.json();if(me.error)return null;if(!be.ok)throw new Error(me.error||"Something went Wrong");return T(me[0].Subject_name),j(me[0].Subject_code),me}catch(be){throw be}}}),{mutate:Te,isPending:Ae,isError:$e,error:fe}=Ja({mutationFn:async be=>{try{const me=await fetch(`${di}/api/questionpaper/get-questions?Subject_code=${be}`),ye=await me.json();if(!me.ok)return new Error(ye.error||"Something Went Wrong");K({mark_3:ye.mark_3,mark_6:ye.mark_6,mark_10:ye.mark_10}),Q(!0)}catch(me){throw console.log(me),me}}}),{mutate:ae,isPending:_e,isError:G,error:q}=Ja({mutationFn:async be=>{try{const ye=await(await fetch(`${di}/api/questionpaper/generate-question-paper`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({htmlContent:be})})).blob(),Ke=window.URL.createObjectURL(ye),nt=document.createElement("a");nt.href=Ke,nt.download="QuestionPaper.pdf",document.body.appendChild(nt),nt.click(),document.body.removeChild(nt),window.URL.revokeObjectURL(Ke)}catch(me){throw console.log(me),me}}}),re=be=>{const me=be.target.value;T(le[me].Subject_name),j(le[me].Subject_code),D(!1),te({mark_3:[],mark_6:[],mark_10:[]})},Ee=be=>{C(be),D(!1),be==="sem"&&_(a),be==="mid"&&_(e)},Me=be=>{be.preventDefault(),D(!0),Te(F),K({mark_3:[],mark_6:[],mark_10:[]}),te({mark_3:[],mark_6:[],mark_10:[]})},qe=(be,me)=>{be===3&&z.mark_3.length>0&&te(ye=>({...ye,mark_3:ye.mark_3.map((Ke,nt)=>nt===me?z.mark_3[Math.floor(Math.random()*z.mark_3.length)]:Ke)})),be===6&&z.mark_6.length>0&&te(ye=>({...ye,mark_6:ye.mark_6.map((Ke,nt)=>nt===me?z.mark_6[Math.floor(Math.random()*z.mark_6.length)]:Ke)})),be===10&&z.mark_10.length>0&&te(ye=>({...ye,mark_10:ye.mark_10.map((Ke,nt)=>nt===me?z.mark_10[Math.floor(Math.random()*z.mark_10.length)]:Ke)}))},Pe=(be,me,ye)=>{ye===3&&te(Ke=>({...Ke,mark_3:Ke.mark_3.map((nt,St)=>St===be?me:nt)})),ye===6&&te(Ke=>({...Ke,mark_6:Ke.mark_6.map((nt,St)=>St===be?me:nt)})),ye===10&&te(Ke=>({...Ke,mark_10:Ke.mark_10.map((nt,St)=>St===be?me:nt)}))},He=(be,me)=>{if(be==3&&b.mark_3>Y.mark_3.length){let ye=document.getElementById(me).value;!ye==""&&(te(Ke=>({...Ke,mark_3:[...Ke.mark_3,ye]})),document.getElementById(me).value="")}else if(be==6&&b.mark_6>Y.mark_6.length){let ye=document.getElementById(me).value;!ye==""&&(te(Ke=>({...Ke,mark_6:[...Ke.mark_6,ye]})),document.getElementById(me).value="")}else if(be==10&&b.mark_10>Y.mark_10.length){let ye=document.getElementById(me).value;!ye==""&&(te(Ke=>({...Ke,mark_10:[...Ke.mark_10,ye]})),document.getElementById(me).value="")}else cn.error("Question is Full")},de=(be,me)=>{be==3&&z.mark_3.length>0?document.getElementById(me).value=z.mark_3[Math.floor(Math.random()*z.mark_3.length)]:be==6&&z.mark_6.length>0?document.getElementById(me).value=z.mark_6[Math.floor(Math.random()*z.mark_6.length)]:be==10&&z.mark_10.length>0?document.getElementById(me).value=z.mark_10[Math.floor(Math.random()*z.mark_10.length)]:cn.error("No More Question")},Ge=(be,me)=>{me===3?te(ye=>({...ye,mark_3:ye.mark_3.filter((Ke,nt)=>nt!==be)})):me===6?te(ye=>({...ye,mark_6:ye.mark_6.filter((Ke,nt)=>nt!==be)})):me===10&&te(ye=>({...ye,mark_10:ye.mark_10.filter((Ke,nt)=>nt!==be)}))},it=()=>{let be=document.querySelector("#question-paper-preview").innerHTML;ae(be)};return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"container-xl",children:[x.jsx("div",{className:"container-fluid mt-4",children:x.jsx("img",{src:mF,alt:"Banner Image",className:"img-fluid"})}),x.jsx("div",{className:"container p-2 mt-4",children:x.jsxs("form",{onSubmit:Me,children:[x.jsxs("div",{className:"mb-2",children:[x.jsx("label",{htmlFor:"subjects-select mb-2",className:"form-label",children:"Selete the Subject"}),x.jsx("select",{className:"form-select mb-2 form-control",name:"subjects-select",id:"subjects-select",onChange:re,children:we?x.jsx("option",{children:"Loading"}):le.map((be,me)=>x.jsx("option",{value:me,children:be.Subject_name},me))}),x.jsxs("div",{className:"d-flex gap-5 align-items-center",children:[x.jsxs("p",{className:"fw-bold",children:["Subject Name : ",x.jsx("span",{className:"fw-normal",children:N})]}),x.jsxs("p",{className:"fw-bold",children:["Subject Code : ",x.jsx("span",{className:"fw-normal",children:F})]})]})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{htmlFor:"questionPaperDepartment",className:"mb-2",children:"Enter Your Department"}),x.jsx("input",{type:"text",name:"questionPaperDepartment",id:"questionPaperDepartment",className:"form-control mb-2","aria-describedby":"questionPaperDepartment_dis",onChange:be=>o(be.target.value)}),x.jsx("div",{className:"form-text ",id:"questionPaperDepartment_dis",children:"Enter your name of the department"})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{htmlFor:"questionPaperCode",className:"mb-2",children:"Enter the Exam type with Date or Question Paper code"}),x.jsx("input",{type:"text",name:"questionPaperCode",id:"questionPaperCode",className:"form-control mb-2","aria-describedby":"questionPaperCode_dis",onChange:be=>n(be.target.value)}),x.jsx("div",{className:"form-text ",id:"questionPaperCode_dis",children:"Example : MID SEMESTER APRIL 2024"})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{htmlFor:"questionPaperyear",className:"mb-2",children:"Enter the Year and Semester"}),x.jsx("input",{type:"text",name:"questionPaperyear",id:"questionPaperyear",className:"form-control mb-2","aria-describedby":"questionPaperyear_dis",onChange:be=>v(be.target.value)}),x.jsx("div",{className:"form-text ",id:"questionPaperyear_dis",children:"Enter the year and Semester for the question paper"})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{htmlFor:"questionPaperSubjectName",className:"mb-2",children:"Enter the Subject Name"}),x.jsx("input",{type:"text",name:"questionPaperSubjectName",id:"questionPaperSubjectName",className:"form-control mb-2","aria-describedby":"questionPaperSubjectName_dis",onChange:be=>h(be.target.value)}),x.jsx("div",{className:"form-text ",id:"questionPaperSubjectName_dis",children:"Enter the subject name of the question paper"})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{htmlFor:"questionPaperSubjectCode",className:"mb-2",children:"Enter the Subject Code"}),x.jsx("input",{type:"text",name:"questionPaperSubjectCode",id:"questionPaperSubjectCode",className:"form-control mb-2","aria-describedby":"questionPaperSubjectCode_dis",onChange:be=>f(be.target.value)}),x.jsx("div",{className:"form-text ",id:"questionPaperSubjectCode_dis",children:"Enter the subject Code of the question paper"})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("label",{htmlFor:"questionPaperFormat",className:"mb-2",children:"Selecte The question Paper Format"}),x.jsxs("div",{className:"d-flex gap-5 mt-2 mb-2",children:[x.jsxs("div",{className:"form-group",children:[x.jsx("input",{className:"form-check-input",type:"radio",name:"format",id:"formatSem",checked:S==="sem",onChange:()=>Ee("sem")}),x.jsx("label",{className:"ps-2 form-check-label",htmlFor:"newstaffRoleStaff",children:"Semester"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("input",{className:"form-check-input",type:"radio",name:"format",id:"FormatMid",onChange:()=>Ee("mid"),checked:S==="mid"}),x.jsx("label",{className:"ps-2 form-check-label",htmlFor:"newstaffRoleAdmin",children:"Mid Semester"})]})]}),x.jsx("div",{className:"form-text ",id:"questionPaperFormat_dis",children:"Select the format of the Question Paper"})]}),x.jsx("button",{type:"submit",disabled:O,className:"generate-question-paper-btn btn w-100 py-2 rounded bg-primary text-light",children:Ae?"Colleting Questions ...":"Get Questions"})]})}),U&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"row mt-4 py-3",id:"question-count-container",children:[x.jsx("div",{className:"h3 fw-bold text-center col-12 mb-4",children:"Question Found"}),x.jsxs("div",{className:"col-4 d-flex justify-content-center align-items-center gap-3 flex-column",children:[x.jsx("h4",{className:"fw-bold m-0 count-head",children:"Three Mark "}),x.jsx("h4",{className:"fw-bold m-0  p-2",children:z.mark_3.length})]}),x.jsxs("div",{className:"col-4 d-flex justify-content-center align-items-center gap-3 flex-column",children:[x.jsx("h4",{className:"fw-bold m-0 count-head",children:"Six Mark "}),x.jsx("h4",{className:"fw-bold m-0 p-2",children:z.mark_6.length})]}),x.jsxs("div",{className:"col-4 d-flex justify-content-center align-items-center gap-3 flex-column",children:[x.jsx("h4",{className:"fw-bold m-0 count-head",children:"Ten Mark "}),x.jsx("h4",{className:"fw-bold m-0 p-2",children:z.mark_10.length})]})]}),x.jsxs("div",{className:"container-fluid",children:[x.jsx("div",{className:"h4 col-12 mb-4 mt-5",children:"Selected Three Mark"}),x.jsxs("div",{className:"input-group mb-2",children:[x.jsx("input",{type:"text",id:"threeNewInput",className:"form-control",placeholder:"Enter a question Manually"}),x.jsx("span",{className:"input-group-text",children:x.jsx("button",{className:"btn-primary border-0 bg-transparent",type:"button",onClick:()=>{de(3,"threeNewInput")},children:"Get"})}),x.jsx("span",{className:"input-group-text",children:x.jsx("button",{className:"btn-primary border-0 bg-transparent",type:"button",onClick:()=>{He(3,"threeNewInput")},children:"Add"})})]}),Y.mark_3.map((be,me)=>x.jsxs("div",{className:"input-group mb-2",children:[x.jsx("input",{type:"text",className:"form-control",value:be,onChange:ye=>Pe(me,ye.target.value,3)}),x.jsx("span",{className:"input-group-text",children:x.jsx("button",{className:"btn-close",type:"button","aria-label":"close",onClick:()=>Ge(me,3)})}),x.jsx("span",{className:"input-group-text p-0",children:x.jsx("button",{className:"btn refresh-btn",type:"button",onClick:()=>{qe(3,me)},children:x.jsx(gw,{})})})]},me)),x.jsx("div",{className:"h4 col-12 mb-4 mt-5",children:"Selected Six Mark"}),x.jsxs("div",{className:"input-group mb-2",children:[x.jsx("input",{type:"text",id:"sixNewInput",className:"form-control",placeholder:"Enter a question Manually"}),x.jsx("span",{className:"input-group-text",children:x.jsx("button",{className:"btn-primary border-0 bg-transparent",type:"button",onClick:()=>{de(6,"sixNewInput")},children:"Get"})}),x.jsx("span",{className:"input-group-text",children:x.jsx("button",{className:"btn-primary border-0 bg-transparent",type:"button",onClick:()=>{He(6,"sixNewInput")},children:"Add"})})]}),Y.mark_6.map((be,me)=>x.jsxs("div",{className:"input-group mb-2",children:[x.jsx("input",{type:"text",className:"form-control",value:be,onChange:ye=>Pe(me,ye.target.value,6)}),x.jsx("span",{className:"input-group-text",children:x.jsx("button",{className:"btn-close",type:"button","aria-label":"close",onClick:()=>Ge(me,6)})}),x.jsx("span",{className:"input-group-text p-0",children:x.jsx("button",{className:"btn refresh-btn",type:"button",onClick:()=>{qe(6,me)},children:x.jsx(gw,{})})})]},me)),x.jsx("div",{className:"h4 col-12 mb-4 mt-5",children:"Selected Ten Mark"}),x.jsxs("div",{className:"input-group mb-2",children:[x.jsx("input",{type:"text",id:"tenNewInput",className:"form-control",placeholder:"Enter a question Manually"}),x.jsx("span",{className:"input-group-text",children:x.jsx("button",{className:"btn-primary border-0 bg-transparent",type:"button",onClick:()=>{de(10,"tenNewInput")},children:"Get"})}),x.jsx("span",{className:"input-group-text",children:x.jsx("button",{className:"btn-primary border-0 bg-transparent",type:"button",onClick:()=>{He(10,"tenNewInput")},children:"Add"})})]}),Y.mark_10.map((be,me)=>x.jsxs("div",{className:"input-group mb-2",children:[x.jsx("input",{type:"text",className:"form-control",value:be,onChange:ye=>Pe(me,ye.target.value,10)}),x.jsx("span",{className:"input-group-text",children:x.jsx("button",{className:"btn-close",type:"button","aria-label":"close",onClick:()=>Ge(me,10)})}),x.jsx("span",{className:"input-group-text p-0",children:x.jsx("button",{className:"btn refresh-btn",type:"button",onClick:()=>{qe(10,me)},children:x.jsx(gw,{})})})]},me))]}),x.jsxs("div",{className:"container-fluid mt-5 mb-5 shadow p-5",id:"question-paper-preview",children:[x.jsx("table",{className:"question-header-table",children:x.jsx("tbody",{children:x.jsxs("tr",{children:[x.jsx("td",{width:"15%",valign:"center",align:"center",children:x.jsx("img",{src:"https://drive.google.com/thumbnail?id=1wf3QWRAP_aB7OfEsew-hbDDQHJ_lYWVS",alt:"college logo",id:"questionpaper-logo"})}),x.jsxs("td",{width:"85%",children:[x.jsx("p",{className:"question-clg",children:"GURU NANAK COLLEGE (AUTONOMOUS), CHENNAI – 42."}),x.jsx("p",{className:"question-header",children:s}),x.jsx("p",{className:"question-header",children:g})]})]})})}),x.jsx("table",{className:"question-header-table",children:x.jsx("tbody",{children:x.jsxs("tr",{children:[x.jsxs("td",{width:"70%",children:[x.jsxs("p",{className:"question-header-two",children:["SUBJECT NAME : ",l]}),x.jsxs("p",{className:"question-header-two",children:["SUBJECT CODE : ",d]})]}),x.jsxs("td",{width:"30%",children:[x.jsxs("p",{className:"question-header-two",children:["Max. Marks : ",b.max_marks]}),x.jsxs("p",{className:"question-header-two",children:["TIME : ",b.time," Hrs"]})]})]})})}),x.jsx("table",{className:"question-header-body",children:x.jsxs("tbody",{children:[x.jsx("tr",{children:x.jsx("td",{className:"question-header",children:b.mark_3_topic_main})}),x.jsx("tr",{children:x.jsx("td",{className:"question-header",children:b.mark_3_topic_sub})})]})}),x.jsx("table",{className:"question-table",children:x.jsx("tbody",{children:Y.mark_3.map((be,me)=>x.jsxs("tr",{valign:"top",children:[x.jsxs("td",{children:[me+1,"."]}),x.jsx("td",{children:be})]},me))})}),x.jsx("table",{className:"question-header-body",children:x.jsxs("tbody",{children:[x.jsx("tr",{children:x.jsx("td",{className:"question-header",children:b.mark_6_topic_main})}),x.jsx("tr",{children:x.jsx("td",{className:"question-header",children:b.mark_6_topic_sub})})]})}),x.jsx("table",{className:"question-table",children:x.jsx("tbody",{children:Y.mark_6.map((be,me)=>x.jsxs("tr",{valign:"top",children:[x.jsxs("td",{children:[me+b.mark_3+1,"."]}),x.jsx("td",{children:be})]},me))})}),x.jsx("table",{className:"question-header-body",children:x.jsxs("tbody",{children:[x.jsx("tr",{children:x.jsx("td",{className:"question-header",children:b.mark_10_topic_main})}),x.jsx("tr",{children:x.jsx("td",{className:"question-header",children:b.mark_10_topic_sub})})]})}),x.jsx("table",{className:"question-table",children:x.jsx("tbody",{children:Y.mark_10.map((be,me)=>x.jsxs("tr",{valign:"top",children:[x.jsxs("td",{children:[me+b.mark_3+b.mark_6+1,"."]}),x.jsx("td",{children:be})]},me))})}),x.jsx("table",{className:"question-header-body",children:x.jsx("tbody",{children:x.jsx("tr",{children:x.jsx("td",{className:"question-header",children:"***********"})})})})]}),G&&x.jsx("div",{className:"mt-2 mb-3",children:x.jsx("p",{className:"text-danger text-center",children:q.message})}),x.jsx("div",{className:"mb-5",children:x.jsx("button",{disabled:_e,className:"generate-question-paper-btn w-100 py-2 bg-primary border-0 text-light rounded-2",onClick:it,children:_e?"Generating QuestionPaper ....":"Generate Question Paper"})})]})]})})},yF=async()=>{const a=await fetch(`${di}/api/questionpaper/get-subject`);if(!a.ok)throw new Error("Failed to fetch subjects");return a.json()},vF=async a=>{const e=await fetch(`${di}/api/questionpaper/get-questionPaper?Subject_code=${a}`);if(!e.ok)throw new Error("Failed to fetch question papers");return e.json()},bF=()=>{var b,_;const[a,e]=I.useState(null),[t,n]=I.useState(null),[s,o]=I.useState(""),{data:l=[],isLoading:h,isError:d}=Tc({queryKey:["subjects"],queryFn:yF}),{data:f=[],isLoading:g}=Tc({queryKey:["questionPapers",s],queryFn:()=>vF(s),enabled:!!s});I.useEffect(()=>{l.length>0&&a===null&&(n(l[0]._id),o(l[0].Subject_code),e(l[0]))},[l]);const v=S=>{e(S),n(S._id),o(S.Subject_code)};return x.jsxs(x.Fragment,{children:[x.jsx("header",{className:"Gnc_header px-lg-5 px-sm-0 py-1 ",children:x.jsx("div",{className:"container-fluid px-3 py-2 mb-3 mb-lg-0 mb-md-0 d-flex justify-content-center",children:x.jsxs("div",{className:"col-12 col-md-9 d-flex justify-content-center flex-column flex-md-row align-items-center gap-3",children:[x.jsx("img",{src:g1,alt:"Guru Nanak College Logo",className:"img-fluid  me-0 me-lg-3 me-md-3 d-flex justify-content-center ",style:{maxWidth:"100px"}}),x.jsxs("div",{children:[x.jsx("h2",{className:"Gnc_h1 fw-bold mb-3 mt-0 mt-md-0 mb-sm-4 mb-md-0 my-0 mb-sm-4  mb-lg-0 mb-xl-0 text-center  text-sm-center",children:"Guru Nanak College(Autonomous)"}),x.jsx("h6",{className:"Gnc_h1 mb-0 d-none d-md-block text-center",children:"Affiliated to University of Madras"}),x.jsx("h6",{className:"Gnc_h1 mb-0 d-none d-md-block text-center",children:"Accredited at ‘A++’ Grade by NAAC | ISO 9001:2015 Certified Institution"}),x.jsx("h6",{className:"Gnc_h1 mb-0 d-none d-md-block text-center",children:"Guru Nanak Salai, Velachery, Chennai-600 042"})]})]})})}),x.jsxs("div",{className:"card-body p-3 mt-3",children:[h&&x.jsx("p",{children:"Loading subjects..."}),d&&x.jsx("p",{children:"Error fetching subjects."}),l.length===0&&x.jsx("p",{children:"No records found."}),l.map((S,C)=>x.jsx("button",{className:`Custom_Button my-2 ${t===S._id?"active":""}`,onClick:()=>{v(S)},children:S.Subject_name},S._id||C))]}),g&&x.jsx("p",{children:"Loading question papers..."}),((b=f==null?void 0:f.questionPaper)==null?void 0:b.length)===0&&x.jsxs("div",{className:"d-flex flex-column align-items-center justify-contend-center",children:[x.jsx("img",{src:v1,alt:"",style:{width:"400px",height:"200px"}}),x.jsx("h5",{children:"There is no Question paper available"})]}),x.jsx("div",{className:"d-flex justify-content-center flex-wrap gap-4 justify-content-sm-start ms-4 mt-2",children:(_=f==null?void 0:f.questionPaper)==null?void 0:_.map((S,C)=>x.jsx("div",{className:"cards p-4 border-primary text-center",style:{width:"330px",position:"relative"},children:x.jsxs("div",{className:"card-body",children:[x.jsx("h5",{className:"card-title border-bottom pb-3 pt-3 text-wrap",children:S.topic}),x.jsxs("div",{className:"d-flex justify-content-between mt-3",children:[x.jsx(Ya,{to:S.preViewLink,target:"_blank",rel:"noopener noreferrer",className:"bt1",children:"View"}),x.jsx(Ya,{to:S.downloadLink,target:"_blank",rel:"noopener noreferrer",className:"bt2",children:"Download"})]})]})},C))})]})},wF=()=>{const{data:a,isLoading:e}=Tc({queryKey:["authStaff"],queryFn:async()=>{try{const n=await fetch(`${di}/api/auth/getStaff`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}),s=await n.json();if(s.error)return null;if(!n.ok)throw new Error(s.error||"Something went Wrong");return s}catch(n){throw n}},retry:!1});if(e)return x.jsx("div",{className:"loader vh-100 wh-100 d-flex justify-content-center align-items-center",children:x.jsx("div",{className:"spinner-border",role:"status"})});const t=KR(AR(x.jsxs(ka,{path:"/",element:x.jsx(JL,{}),children:[x.jsx(ka,{index:!0,element:x.jsx(eN,{})}),x.jsxs(ka,{path:"staff",element:a?x.jsx(RN,{}):x.jsx(zS,{to:"/login"}),children:[x.jsx(ka,{index:!0,element:x.jsx(CN,{})}),x.jsx(ka,{path:"add-new-question-paper",element:x.jsx(dF,{})}),x.jsx(ka,{path:"generate-new-question-paper",element:x.jsx(gF,{})})]}),x.jsx(ka,{path:"login",element:a?x.jsx(zS,{to:"/staff"}):x.jsx(PN,{})}),x.jsx(ka,{path:"student-library",element:x.jsx(bF,{})}),x.jsx(ka,{path:"*",element:x.jsx(pF,{})})]})));return x.jsx(x.Fragment,{children:x.jsx(oL,{router:t})})},_F=new UT({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});TT.createRoot(document.getElementById("root")).render(x.jsx(I.StrictMode,{children:x.jsx(XT,{client:_F,children:x.jsx(wF,{})})}));
